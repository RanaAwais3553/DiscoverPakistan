module.exports=(()=>{var t={5642:function(t,e,r){"use strict";var n=this&&this.__rest||function(t,e){var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)r[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)if(e.indexOf(n[i])<0)r[n[i]]=t[n[i]];return r};var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const s=i(r(7987));function spawnAsync(t,e,r={}){const i=new Error("fake error just to preserve stacktrace");const o=i.stack&&i.stack.split("\n").splice(1);const a=o&&["    ...",...o].join("\n");let u;let c=new Promise((i,o)=>{let{ignoreStdio:c}=r,l=n(r,["ignoreStdio"]);u=s.default(t,e,l);let h="";let f="";if(!c){if(u.stdout){u.stdout.on("data",t=>{h+=t})}if(u.stderr){u.stderr.on("data",t=>{f+=t})}}let d=(e,r)=>{u.removeListener("error",p);let n={pid:u.pid,output:[h,f],stdout:h,stderr:f,status:e,signal:r};if(e!==0){let i=r?new Error(`${t} exited with signal: ${r}`):new Error(`${t} exited with non-zero code: ${e}`);if(i.stack&&a){i.stack+=`\n${a}`}Object.assign(i,n);o(i)}else{i(n)}};let p=t=>{if(c){u.removeListener("exit",d)}else{u.removeListener("close",d)}Object.assign(t,{pid:u.pid,output:[h,f],stdout:h,stderr:f,status:null,signal:null});o(t)};if(c){u.once("exit",d)}else{u.once("close",d)}u.once("error",p)});c.child=u;return c}e.default=spawnAsync},1190:(t,e,r)=>{t.exports=r(5642).default},8951:(t,e)=>{"use strict";function freeze(t,e){if(e===undefined){e=Object}return e&&typeof e.freeze==="function"?e.freeze(t):t}var r=freeze({HTML:"text/html",isHTML:function(t){return t===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"});var n=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.freeze=freeze;e.MIME_TYPE=r;e.NAMESPACE=n},2800:(t,e,r)=>{var n=r(8951);var i=r(3258);var s=n.NAMESPACE;function DOMParser(t){this.options=t||{locator:{}}}DOMParser.prototype.parseFromString=function(t,e){var r=this.options;var n=new a;var o=r.domBuilder||new DOMHandler;var u=r.errorHandler;var c=r.locator;var l=r.xmlns||{};var h=/\/x?html?$/.test(e);var f=h?i.HTML_ENTITIES:i.XML_ENTITIES;if(c){o.setDocumentLocator(c)}n.errorHandler=buildErrorHandler(u,o,c);n.domBuilder=r.domBuilder||o;if(h){l[""]=s.HTML}l.xml=l.xml||s.XML;if(t&&typeof t==="string"){n.parse(t,l,f)}else{n.errorHandler.error("invalid doc source")}return o.doc};function buildErrorHandler(t,e,r){if(!t){if(e instanceof DOMHandler){return e}t=e}var n={};var i=t instanceof Function;r=r||{};function build(e){var s=t[e];if(!s&&i){s=t.length==2?function(r){t(e,r)}:t}n[e]=s&&function(t){s("[xmldom "+e+"]\t"+t+_locator(r))}||function(){}}build("warning");build("error");build("fatalError");return n}function DOMHandler(){this.cdata=false}function position(t,e){e.lineNumber=t.lineNumber;e.columnNumber=t.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null);if(this.locator){this.doc.documentURI=this.locator.systemId}},startElement:function(t,e,r,n){var i=this.doc;var s=i.createElementNS(t,r||e);var o=n.length;appendElement(this,s);this.currentElement=s;this.locator&&position(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a);var u=n.getValue(a);var r=n.getQName(a);var c=i.createAttributeNS(t,r);this.locator&&position(n.getLocator(a),c);c.value=c.nodeValue=u;s.setAttributeNode(c)}},endElement:function(t,e,r){var n=this.currentElement;var i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&position(this.locator,r);appendElement(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){t=_toString.apply(this,arguments);if(t){if(this.cdata){var n=this.doc.createCDATASection(t)}else{var n=this.doc.createTextNode(t)}if(this.currentElement){this.currentElement.appendChild(n)}else if(/^\s*$/.test(t)){this.doc.appendChild(n)}this.locator&&position(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){if(this.locator=t){t.lineNumber=0}},comment:function(t,e,r){t=_toString.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&position(this.locator,n);appendElement(this,n)},startCDATA:function(){this.cdata=true},endCDATA:function(){this.cdata=false},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&position(this.locator,i);appendElement(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,_locator(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,_locator(this.locator))},fatalError:function(t){throw new u(t,this.locator)}};function _locator(t){if(t){return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}}function _toString(t,e,r){if(typeof t=="string"){return t.substr(e,r)}else{if(t.length>=e+r||e){return new java.lang.String(t,e,r)+""}return t}}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){DOMHandler.prototype[t]=function(){return null}});function appendElement(t,e){if(!t.currentElement){t.doc.appendChild(e)}else{t.currentElement.appendChild(e)}}var o=r(5705);var a=o.XMLReader;var u=o.ParseError;var c=e.DOMImplementation=r(95).DOMImplementation;e.XMLSerializer=r(95).XMLSerializer;e.DOMParser=DOMParser;e.__DOMHandler=DOMHandler},95:(e,r,n)=>{var i;var s=n(8951);var o=s.NAMESPACE;function notEmptyString(t){return t!==""}function splitOnASCIIWhitespace(t){return t?t.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}function orderedSetReducer(t,e){if(!t.hasOwnProperty(e)){t[e]=true}return t}function toOrderedSet(t){if(!t)return[];var e=splitOnASCIIWhitespace(t);return Object.keys(e.reduce(orderedSetReducer,{}))}function arrayIncludes(t){return function(e){return t&&t.indexOf(e)!==-1}}function copy(t,e){for(var r in t){e[r]=t[r]}}function _extends(e,r){var n=e.prototype;if(!(n instanceof r)){function t(){}t.prototype=r.prototype;t=new t;copy(n,t);e.prototype=n=t}if(n.constructor!=e){if(typeof e!="function"){console.error("unknow Class:"+e)}n.constructor=e}}var a={};var u=a.ELEMENT_NODE=1;var c=a.ATTRIBUTE_NODE=2;var l=a.TEXT_NODE=3;var h=a.CDATA_SECTION_NODE=4;var f=a.ENTITY_REFERENCE_NODE=5;var d=a.ENTITY_NODE=6;var p=a.PROCESSING_INSTRUCTION_NODE=7;var m=a.COMMENT_NODE=8;var y=a.DOCUMENT_NODE=9;var g=a.DOCUMENT_TYPE_NODE=10;var v=a.DOCUMENT_FRAGMENT_NODE=11;var w=a.NOTATION_NODE=12;var b={};var E={};var O=b.INDEX_SIZE_ERR=(E[1]="Index size error",1);var D=b.DOMSTRING_SIZE_ERR=(E[2]="DOMString size error",2);var M=b.HIERARCHY_REQUEST_ERR=(E[3]="Hierarchy request error",3);var T=b.WRONG_DOCUMENT_ERR=(E[4]="Wrong document",4);var S=b.INVALID_CHARACTER_ERR=(E[5]="Invalid character",5);var I=b.NO_DATA_ALLOWED_ERR=(E[6]="No data allowed",6);var x=b.NO_MODIFICATION_ALLOWED_ERR=(E[7]="No modification allowed",7);var N=b.NOT_FOUND_ERR=(E[8]="Not found",8);var L=b.NOT_SUPPORTED_ERR=(E[9]="Not supported",9);var _=b.INUSE_ATTRIBUTE_ERR=(E[10]="Attribute in use",10);var A=b.INVALID_STATE_ERR=(E[11]="Invalid state",11);var P=b.SYNTAX_ERR=(E[12]="Syntax error",12);var C=b.INVALID_MODIFICATION_ERR=(E[13]="Invalid modification",13);var F=b.NAMESPACE_ERR=(E[14]="Invalid namespace",14);var X=b.INVALID_ACCESS_ERR=(E[15]="Invalid access",15);function DOMException(t,e){if(e instanceof Error){var r=e}else{r=this;Error.call(this,E[t]);this.message=E[t];if(Error.captureStackTrace)Error.captureStackTrace(this,DOMException)}r.code=t;if(e)this.message=this.message+": "+e;return r}DOMException.prototype=Error.prototype;copy(b,DOMException);function NodeList(){}NodeList.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++){serializeToString(this[n],r,t,e)}return r.join("")}};function LiveNodeList(t,e){this._node=t;this._refresh=e;_updateLiveList(this)}function _updateLiveList(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);__set__(t,"length",r.length);copy(r,t);t._inc=e}}LiveNodeList.prototype.item=function(t){_updateLiveList(this);return this[t]};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(t,e){var r=t.length;while(r--){if(t[r]===e){return r}}}function _addNamedNode(t,e,r,n){if(n){e[_findNodeIndex(e,n)]=r}else{e[e.length++]=r}if(t){r.ownerElement=t;var i=t.ownerDocument;if(i){n&&_onRemoveAttribute(i,t,n);_onAddAttribute(i,t,r)}}}function _removeNamedNode(t,e,r){var n=_findNodeIndex(e,r);if(n>=0){var i=e.length-1;while(n<i){e[n]=e[++n]}e.length=i;if(t){var s=t.ownerDocument;if(s){_onRemoveAttribute(s,t,r);r.ownerElement=null}}}else{throw DOMException(N,new Error(t.tagName+"@"+r))}}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(t){var e=this.length;while(e--){var r=this[e];if(r.nodeName==t){return r}}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement){throw new DOMException(_)}var r=this.getNamedItem(t.nodeName);_addNamedNode(this._ownerElement,this,t,r);return r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement){throw new DOMException(_)}r=this.getNamedItemNS(t.namespaceURI,t.localName);_addNamedNode(this._ownerElement,this,t,r);return r},removeNamedItem:function(t){var e=this.getNamedItem(t);_removeNamedNode(this._ownerElement,this,e);return e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);_removeNamedNode(this._ownerElement,this,r);return r},getNamedItemNS:function(t,e){var r=this.length;while(r--){var n=this[r];if(n.localName==e&&n.namespaceURI==t){return n}}return null}};function DOMImplementation(){}DOMImplementation.prototype={hasFeature:function(t,e){return true},createDocument:function(t,e,r){var n=new Document;n.implementation=this;n.childNodes=new NodeList;n.doctype=r||null;if(r){n.appendChild(r)}if(e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new DocumentType;n.name=t;n.nodeName=t;n.publicId=e||"";n.systemId=r||"";return n}};function Node(){}Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return _insertBefore(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e);if(e){this.removeChild(e)}},removeChild:function(t){return _removeChild(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return cloneNode(this.ownerDocument||this,this,t)},normalize:function(){var t=this.firstChild;while(t){var e=t.nextSibling;if(e&&e.nodeType==l&&t.nodeType==l){this.removeChild(e);t.appendData(e.data)}else{t.normalize();t=e}}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){var e=this;while(e){var r=e._nsMap;if(r){for(var n in r){if(r[n]==t){return n}}}e=e.nodeType==c?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){var e=this;while(e){var r=e._nsMap;if(r){if(t in r){return r[t]}}e=e.nodeType==c?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function _xmlEncoder(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}copy(a,Node);copy(a,Node.prototype);function _visitNode(t,e){if(e(t)){return true}if(t=t.firstChild){do{if(_visitNode(t,e)){return true}}while(t=t.nextSibling)}}function Document(){}function _onAddAttribute(t,e,r){t&&t._inc++;var n=r.namespaceURI;if(n===o.XMLNS){e._nsMap[r.prefix?r.localName:""]=r.value}}function _onRemoveAttribute(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;if(i===o.XMLNS){delete e._nsMap[r.prefix?r.localName:""]}}function _onUpdateChild(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r){n[n.length++]=r}else{var i=e.firstChild;var s=0;while(i){n[s++]=i;i=i.nextSibling}n.length=s}}}function _removeChild(t,e){var r=e.previousSibling;var n=e.nextSibling;if(r){r.nextSibling=n}else{t.firstChild=n}if(n){n.previousSibling=r}else{t.lastChild=r}_onUpdateChild(t.ownerDocument,t);return e}function _insertBefore(t,e,r){var n=e.parentNode;if(n){n.removeChild(e)}if(e.nodeType===v){var i=e.firstChild;if(i==null){return e}var s=e.lastChild}else{i=s=e}var o=r?r.previousSibling:t.lastChild;i.previousSibling=o;s.nextSibling=r;if(o){o.nextSibling=i}else{t.firstChild=i}if(r==null){t.lastChild=s}else{r.previousSibling=s}do{i.parentNode=t}while(i!==s&&(i=i.nextSibling));_onUpdateChild(t.ownerDocument||t,t);if(e.nodeType==v){e.firstChild=e.lastChild=null}return e}function _appendSingleChild(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e);var n=t.lastChild}var n=t.lastChild;e.parentNode=t;e.previousSibling=n;e.nextSibling=null;if(n){n.nextSibling=e}else{t.firstChild=e}t.lastChild=e;_onUpdateChild(t.ownerDocument,t,e);return e}Document.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==v){var r=t.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,e);r=n}return t}if(this.documentElement==null&&t.nodeType==u){this.documentElement=t}return _insertBefore(this,t,e),t.ownerDocument=this,t},removeChild:function(t){if(this.documentElement==t){this.documentElement=null}return _removeChild(this,t)},importNode:function(t,e){return importNode(this,t,e)},getElementById:function(t){var e=null;_visitNode(this.documentElement,function(r){if(r.nodeType==u){if(r.getAttribute("id")==t){e=r;return true}}});return e},getElementsByClassName:function(t){var e=toOrderedSet(t);return new LiveNodeList(this,function(r){var n=[];if(e.length>0){_visitNode(r.documentElement,function(i){if(i!==r&&i.nodeType===u){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=toOrderedSet(s);o=e.every(arrayIncludes(a))}if(o){n.push(i)}}}})}return n})},createElement:function(t){var e=new Element;e.ownerDocument=this;e.nodeName=t;e.tagName=t;e.localName=t;e.childNodes=new NodeList;var r=e.attributes=new NamedNodeMap;r._ownerElement=e;return e},createDocumentFragment:function(){var t=new DocumentFragment;t.ownerDocument=this;t.childNodes=new NodeList;return t},createTextNode:function(t){var e=new Text;e.ownerDocument=this;e.appendData(t);return e},createComment:function(t){var e=new Comment;e.ownerDocument=this;e.appendData(t);return e},createCDATASection:function(t){var e=new CDATASection;e.ownerDocument=this;e.appendData(t);return e},createProcessingInstruction:function(t,e){var r=new ProcessingInstruction;r.ownerDocument=this;r.tagName=r.target=t;r.nodeValue=r.data=e;return r},createAttribute:function(t){var e=new Attr;e.ownerDocument=this;e.name=t;e.nodeName=t;e.localName=t;e.specified=true;return e},createEntityReference:function(t){var e=new EntityReference;e.ownerDocument=this;e.nodeName=t;return e},createElementNS:function(t,e){var r=new Element;var n=e.split(":");var i=r.attributes=new NamedNodeMap;r.childNodes=new NodeList;r.ownerDocument=this;r.nodeName=e;r.tagName=e;r.namespaceURI=t;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=e}i._ownerElement=r;return r},createAttributeNS:function(t,e){var r=new Attr;var n=e.split(":");r.ownerDocument=this;r.nodeName=e;r.name=e;r.namespaceURI=t;r.specified=true;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=e}return r}};_extends(Document,Node);function Element(){this._nsMap={}}Element.prototype={nodeType:u,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e;this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){if(t.nodeType===v){return this.insertBefore(t,null)}else{return _appendSingleChild(this,t)}},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r;this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new LiveNodeList(this,function(e){var r=[];_visitNode(e,function(n){if(n!==e&&n.nodeType==u&&(t==="*"||n.tagName==t)){r.push(n)}});return r})},getElementsByTagNameNS:function(t,e){return new LiveNodeList(this,function(r){var n=[];_visitNode(r,function(i){if(i!==r&&i.nodeType===u&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)){n.push(i)}});return n})}};Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS;_extends(Element,Node);function Attr(){}Attr.prototype.nodeType=c;_extends(Attr,Node);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t;this.nodeValue=this.data=t;this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(E[M])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t);var i=this.data.substring(t+e);r=n+r+i;this.nodeValue=this.data=r;this.length=r.length}};_extends(CharacterData,Node);function Text(){}Text.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var e=this.data;var r=e.substring(t);e=e.substring(0,t);this.data=this.nodeValue=e;this.length=e.length;var n=this.ownerDocument.createTextNode(r);if(this.parentNode){this.parentNode.insertBefore(n,this.nextSibling)}return n}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:m};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:h};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=g;_extends(DocumentType,Node);function Notation(){}Notation.prototype.nodeType=w;_extends(Notation,Node);function Entity(){}Entity.prototype.nodeType=d;_extends(Entity,Node);function EntityReference(){}EntityReference.prototype.nodeType=f;_extends(EntityReference,Node);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=v;_extends(DocumentFragment,Node);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=p;_extends(ProcessingInstruction,Node);function XMLSerializer(){}XMLSerializer.prototype.serializeToString=function(t,e,r){return nodeSerializeToString.call(t,e,r)};Node.prototype.toString=nodeSerializeToString;function nodeSerializeToString(t,e){var r=[];var n=this.nodeType==9&&this.documentElement||this;var i=n.prefix;var s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null){var o=[{namespace:s,prefix:null}]}}serializeToString(this,r,t,e,o);return r.join("")}function needNamespaceDefine(t,e,r){var n=t.prefix||"";var i=t.namespaceURI;if(!i){return false}if(n==="xml"&&i===o.XML||i===o.XMLNS){return false}var s=r.length;while(s--){var a=r[s];if(a.prefix===n){return a.namespace!==i}}return true}function addSerializedAttribute(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,_xmlEncoder),'"')}function serializeToString(t,e,r,n,i){if(!i){i=[]}if(n){t=n(t);if(t){if(typeof t=="string"){e.push(t);return}}else{return}}switch(t.nodeType){case u:var s=t.attributes;var a=s.length;var d=t.firstChild;var w=t.tagName;r=o.isHTML(t.namespaceURI)||r;var b=w;if(!r&&!t.prefix&&t.namespaceURI){var E;for(var O=0;O<s.length;O++){if(s.item(O).name==="xmlns"){E=s.item(O).value;break}}if(E!==t.namespaceURI){for(var D=i.length-1;D>=0;D--){var M=i[D];if(M.namespace===t.namespaceURI){if(M.prefix){b=M.prefix+":"+w}break}}}}e.push("<",b);for(var T=0;T<a;T++){var S=s.item(T);if(S.prefix=="xmlns"){i.push({prefix:S.localName,namespace:S.value})}else if(S.nodeName=="xmlns"){i.push({prefix:"",namespace:S.value})}}for(var T=0;T<a;T++){var S=s.item(T);if(needNamespaceDefine(S,r,i)){var I=S.prefix||"";var x=S.namespaceURI;addSerializedAttribute(e,I?"xmlns:"+I:"xmlns",x);i.push({prefix:I,namespace:x})}serializeToString(S,e,r,n,i)}if(w===b&&needNamespaceDefine(t,r,i)){var I=t.prefix||"";var x=t.namespaceURI;addSerializedAttribute(e,I?"xmlns:"+I:"xmlns",x);i.push({prefix:I,namespace:x})}if(d||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(w)){e.push(">");if(r&&/^script$/i.test(w)){while(d){if(d.data){e.push(d.data)}else{serializeToString(d,e,r,n,i.slice())}d=d.nextSibling}}else{while(d){serializeToString(d,e,r,n,i.slice());d=d.nextSibling}}e.push("</",b,">")}else{e.push("/>")}return;case y:case v:var d=t.firstChild;while(d){serializeToString(d,e,r,n,i.slice());d=d.nextSibling}return;case c:return addSerializedAttribute(e,t.name,t.value);case l:return e.push(t.data.replace(/[<&]/g,_xmlEncoder).replace(/]]>/g,"]]&gt;"));case h:return e.push("<![CDATA[",t.data,"]]>");case m:return e.push("\x3c!--",t.data,"--\x3e");case g:var N=t.publicId;var L=t.systemId;e.push("<!DOCTYPE ",t.name);if(N){e.push(" PUBLIC ",N);if(L&&L!="."){e.push(" ",L)}e.push(">")}else if(L&&L!="."){e.push(" SYSTEM ",L,">")}else{var _=t.internalSubset;if(_){e.push(" [",_,"]")}e.push(">")}return;case p:return e.push("<?",t.target," ",t.data,"?>");case f:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function importNode(t,e,r){var n;switch(e.nodeType){case u:n=e.cloneNode(false);n.ownerDocument=t;case v:break;case c:r=true;break}if(!n){n=e.cloneNode(false)}n.ownerDocument=t;n.parentNode=null;if(r){var i=e.firstChild;while(i){n.appendChild(importNode(t,i,r));i=i.nextSibling}}return n}function cloneNode(t,e,r){var n=new e.constructor;for(var i in e){var s=e[i];if(typeof s!="object"){if(s!=n[i]){n[i]=s}}}if(e.childNodes){n.childNodes=new NodeList}n.ownerDocument=t;switch(n.nodeType){case u:var o=e.attributes;var a=n.attributes=new NamedNodeMap;var l=o.length;a._ownerElement=n;for(var h=0;h<l;h++){n.setAttributeNode(cloneNode(t,o.item(h),true))}break;case c:r=true}if(r){var f=e.firstChild;while(f){n.appendChild(cloneNode(t,f,r));f=f.nextSibling}}return n}function __set__(t,e,r){t[e]=r}try{if(Object.defineProperty){Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){_updateLiveList(this);return this.$$length}});Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(t){switch(this.nodeType){case u:case v:while(this.firstChild){this.removeChild(this.firstChild)}if(t||String(t)){this.appendChild(this.ownerDocument.createTextNode(t))}break;default:this.data=t;this.value=t;this.nodeValue=t}}});function getTextContent(t){switch(t.nodeType){case u:case v:var e=[];t=t.firstChild;while(t){if(t.nodeType!==7&&t.nodeType!==8){e.push(getTextContent(t))}t=t.nextSibling}return e.join("");default:return t.nodeValue}}__set__=function(t,e,r){t["$$"+e]=r}}}catch(t){}i=DocumentType;i=DOMException;r.DOMImplementation=DOMImplementation;i=Element;i=Node;i=NodeList;r.XMLSerializer=XMLSerializer},3258:(t,e,r)=>{var n=r(8951).freeze;e.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});e.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"});e.entityMap=e.HTML_ENTITIES},5705:(t,e,r)=>{var n=r(8951).NAMESPACE;var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var s=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]");var o=new RegExp("^"+i.source+s.source+"*(?::"+i.source+s.source+"*)?$");var a=0;var u=1;var c=2;var l=3;var h=4;var f=5;var d=6;var p=7;function ParseError(t,e){this.message=t;this.locator=e;if(Error.captureStackTrace)Error.captureStackTrace(this,ParseError)}ParseError.prototype=new Error;ParseError.prototype.name=ParseError.name;function XMLReader(){}XMLReader.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument();_copy(e,e={});parse(t,e,r,n,this.errorHandler);n.endDocument()}};function parse(t,e,r,i,s){function fixedFromCharCode(t){if(t>65535){t-=65536;var e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}else{return String.fromCharCode(t)}}function entityReplacer(t){var e=t.slice(1,-1);if(e in r){return r[e]}else if(e.charAt(0)==="#"){return fixedFromCharCode(parseInt(e.substr(1).replace("x","0x")))}else{s.error("entity not found:"+t);return t}}function appendText(e){if(e>f){var r=t.substring(f,e).replace(/&#?\w+;/g,entityReplacer);c&&position(f);i.characters(r,0,e-f);f=e}}function position(e,r){while(e>=a&&(r=u.exec(t))){o=r.index;a=o+r[0].length;c.lineNumber++}c.columnNumber=e-o+1}var o=0;var a=0;var u=/.*(?:\r\n?|\n)|.*$/g;var c=i.locator;var l=[{currentNSMap:e}];var h={};var f=0;while(true){try{var d=t.indexOf("<",f);if(d<0){if(!t.substr(f).match(/^\s*$/)){var p=i.doc;var m=p.createTextNode(t.substr(f));p.appendChild(m);i.currentElement=m}return}if(d>f){appendText(d)}switch(t.charAt(d+1)){case"/":var y=t.indexOf(">",d+3);var g=t.substring(d+2,y).replace(/[ \t\n\r]+$/g,"");var v=l.pop();if(y<0){g=t.substring(d+2).replace(/[\s<].*/,"");s.error("end tag name: "+g+" is not complete:"+v.tagName);y=d+1+g.length}else if(g.match(/\s</)){g=g.replace(/[\s<].*/,"");s.error("end tag name: "+g+" maybe not complete");y=d+1+g.length}var w=v.localNSMap;var b=v.tagName==g;var E=b||v.tagName&&v.tagName.toLowerCase()==g.toLowerCase();if(E){i.endElement(v.uri,v.localName,g);if(w){for(var O in w){i.endPrefixMapping(O)}}if(!b){s.fatalError("end tag name: "+g+" is not match the current start tagName:"+v.tagName)}}else{l.push(v)}y++;break;case"?":c&&position(d);y=parseInstruction(t,d,i);break;case"!":c&&position(d);y=parseDCC(t,d,i,s);break;default:c&&position(d);var D=new ElementAttributes;var M=l[l.length-1].currentNSMap;var y=parseElementStartPart(t,d,D,M,entityReplacer,s);var T=D.length;if(!D.closed&&fixSelfClosed(t,y,D.tagName,h)){D.closed=true;if(!r.nbsp){s.warning("unclosed xml attribute")}}if(c&&T){var S=copyLocator(c,{});for(var I=0;I<T;I++){var x=D[I];position(x.offset);x.locator=copyLocator(c,{})}i.locator=S;if(appendElement(D,i,M)){l.push(D)}i.locator=c}else{if(appendElement(D,i,M)){l.push(D)}}if(n.isHTML(D.uri)&&!D.closed){y=parseHtmlSpecialContent(t,y,D.tagName,entityReplacer,i)}else{y++}}}catch(t){if(t instanceof ParseError){throw t}s.error("element parse error: "+t);y=-1}if(y>f){f=y}else{appendText(Math.max(d,f)+1)}}}function copyLocator(t,e){e.lineNumber=t.lineNumber;e.columnNumber=t.columnNumber;return e}function parseElementStartPart(t,e,r,i,s,o){function addAttribute(t,e,n){if(t in r.attributeNames)o.fatalError("Attribute "+t+" redefined");r.addValue(t,e,n)}var m;var y;var g=++e;var v=a;while(true){var w=t.charAt(g);switch(w){case"=":if(v===u){m=t.slice(e,g);v=l}else if(v===c){v=l}else{throw new Error("attribute equal must after attrName")}break;case"'":case'"':if(v===l||v===u){if(v===u){o.warning('attribute value must after "="');m=t.slice(e,g)}e=g+1;g=t.indexOf(w,e);if(g>0){y=t.slice(e,g).replace(/&#?\w+;/g,s);addAttribute(m,y,e-1);v=f}else{throw new Error("attribute value no end '"+w+"' match")}}else if(v==h){y=t.slice(e,g).replace(/&#?\w+;/g,s);addAttribute(m,y,e);o.warning('attribute "'+m+'" missed start quot('+w+")!!");e=g+1;v=f}else{throw new Error('attribute value must after "="')}break;case"/":switch(v){case a:r.setTagName(t.slice(e,g));case f:case d:case p:v=p;r.closed=true;case h:case u:case c:break;default:throw new Error("attribute invalid close char('/')")}break;case"":o.error("unexpected end of input");if(v==a){r.setTagName(t.slice(e,g))}return g;case">":switch(v){case a:r.setTagName(t.slice(e,g));case f:case d:case p:break;case h:case u:y=t.slice(e,g);if(y.slice(-1)==="/"){r.closed=true;y=y.slice(0,-1)}case c:if(v===c){y=m}if(v==h){o.warning('attribute "'+y+'" missed quot(")!');addAttribute(m,y.replace(/&#?\w+;/g,s),e)}else{if(!n.isHTML(i[""])||!y.match(/^(?:disabled|checked|selected)$/i)){o.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!')}addAttribute(y,y,e)}break;case l:throw new Error("attribute value missed!!")}return g;case"":w=" ";default:if(w<=" "){switch(v){case a:r.setTagName(t.slice(e,g));v=d;break;case u:m=t.slice(e,g);v=c;break;case h:var y=t.slice(e,g).replace(/&#?\w+;/g,s);o.warning('attribute "'+y+'" missed quot(")!!');addAttribute(m,y,e);case f:v=d;break}}else{switch(v){case c:var b=r.tagName;if(!n.isHTML(i[""])||!m.match(/^(?:disabled|checked|selected)$/i)){o.warning('attribute "'+m+'" missed value!! "'+m+'" instead2!!')}addAttribute(m,m,e);e=g;v=u;break;case f:o.warning('attribute space is required"'+m+'"!!');case d:v=u;e=g;break;case l:v=h;e=g;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}}g++}}function appendElement(t,e,r){var i=t.tagName;var s=null;var o=t.length;while(o--){var a=t[o];var u=a.qName;var c=a.value;var l=u.indexOf(":");if(l>0){var h=a.prefix=u.slice(0,l);var f=u.slice(l+1);var d=h==="xmlns"&&f}else{f=u;h=null;d=u==="xmlns"&&""}a.localName=f;if(d!==false){if(s==null){s={};_copy(r,r={})}r[d]=s[d]=c;a.uri=n.XMLNS;e.startPrefixMapping(d,c)}}var o=t.length;while(o--){a=t[o];var h=a.prefix;if(h){if(h==="xml"){a.uri=n.XML}if(h!=="xmlns"){a.uri=r[h||""]}}}var l=i.indexOf(":");if(l>0){h=t.prefix=i.slice(0,l);f=t.localName=i.slice(l+1)}else{h=null;f=t.localName=i}var p=t.uri=r[h||""];e.startElement(p,f,i,t);if(t.closed){e.endElement(p,f,i);if(s){for(h in s){e.endPrefixMapping(h)}}}else{t.currentNSMap=r;t.localNSMap=s;return true}}function parseHtmlSpecialContent(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e);var o=t.substring(e+1,s);if(/[&<]/.test(o)){if(/^script$/i.test(r)){i.characters(o,0,o.length);return s}o=o.replace(/&#?\w+;/g,n);i.characters(o,0,o.length);return s}}return e+1}function fixSelfClosed(t,e,r,n){var i=n[r];if(i==null){i=t.lastIndexOf("</"+r+">");if(i<e){i=t.lastIndexOf("</"+r)}n[r]=i}return i<e}function _copy(t,e){for(var r in t){e[r]=t[r]}}function parseDCC(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("--\x3e",e+4);if(s>e){r.comment(t,e+4,s-e-4);return s+3}else{n.error("Unclosed comment");return-1}}else{return-1}default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);r.startCDATA();r.characters(t,e+9,s-e-9);r.endCDATA();return s+3}var o=split(t,e);var a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var u=o[1][0];var c=false;var l=false;if(a>3){if(/^public$/i.test(o[2][0])){c=o[3][0];l=a>4&&o[4][0]}else if(/^system$/i.test(o[2][0])){l=o[3][0]}}var h=o[a-1];r.startDTD(u,c,l);r.endDTD();return h.index+h[0].length}}return-1}function parseInstruction(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var s=i[0].length;r.processingInstruction(i[1],i[2]);return n+2}else{return-1}}return-1}function ElementAttributes(){this.attributeNames={}}ElementAttributes.prototype={setTagName:function(t){if(!o.test(t)){throw new Error("invalid tagName:"+t)}this.tagName=t},addValue:function(t,e,r){if(!o.test(t)){throw new Error("invalid attribute:"+t)}this.attributeNames[t]=this.length;this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function split(t,e){var r;var n=[];var i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e;i.exec(t);while(r=i.exec(t)){n.push(r);if(r[1])return n}}e.XMLReader=XMLReader;e.ParseError=ParseError},3741:(t,e,r)=>{"use strict";t=r.nmd(t);const n=(t,e)=>(...r)=>{const n=t(...r);return`[${n+e}m`};const i=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};5;${n}m`};const s=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`};const o=t=>t;const a=(t,e,r)=>[t,e,r];const u=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{const n=r();Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true});return n},enumerable:true,configurable:true})};let c;const l=(t,e,n,i)=>{if(c===undefined){c=r(1593)}const s=i?10:0;const o={};for(const[r,i]of Object.entries(c)){const a=r==="ansi16"?"ansi":r;if(r===e){o[a]=t(n,s)}else if(typeof i==="object"){o[a]=t(i[e],s)}}return o};function assembleStyles(){const t=new Map;const e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright;e.bgColor.bgGray=e.bgColor.bgBlackBright;e.color.grey=e.color.blackBright;e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(const[r,n]of Object.entries(e)){for(const[r,i]of Object.entries(n)){e[r]={open:`[${i[0]}m`,close:`[${i[1]}m`};n[r]=e[r];t.set(i[0],i[1])}Object.defineProperty(e,r,{value:n,enumerable:false})}Object.defineProperty(e,"codes",{value:t,enumerable:false});e.color.close="[39m";e.bgColor.close="[49m";u(e.color,"ansi",()=>l(n,"ansi16",o,false));u(e.color,"ansi256",()=>l(i,"ansi256",o,false));u(e.color,"ansi16m",()=>l(s,"rgb",a,false));u(e.bgColor,"ansi",()=>l(n,"ansi16",o,true));u(e.bgColor,"ansi256",()=>l(i,"ansi256",o,true));u(e.bgColor,"ansi16m",()=>l(s,"rgb",a,true));return e}Object.defineProperty(t,"exports",{enumerable:true,get:assembleStyles})},7606:(t,e,r)=>{const n=r(9407);const i={};for(const t of Object.keys(n)){i[n[t]]=t}const s={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=s;for(const t of Object.keys(s)){if(!("channels"in s[t])){throw new Error("missing channels property: "+t)}if(!("labels"in s[t])){throw new Error("missing channel labels property: "+t)}if(s[t].labels.length!==s[t].channels){throw new Error("channel and label counts mismatch: "+t)}const{channels:e,labels:r}=s[t];delete s[t].channels;delete s[t].labels;Object.defineProperty(s[t],"channels",{value:e});Object.defineProperty(s[t],"labels",{value:r})}s.rgb.hsl=function(t){const e=t[0]/255;const r=t[1]/255;const n=t[2]/255;const i=Math.min(e,r,n);const s=Math.max(e,r,n);const o=s-i;let a;let u;if(s===i){a=0}else if(e===s){a=(r-n)/o}else if(r===s){a=2+(n-e)/o}else if(n===s){a=4+(e-r)/o}a=Math.min(a*60,360);if(a<0){a+=360}const c=(i+s)/2;if(s===i){u=0}else if(c<=.5){u=o/(s+i)}else{u=o/(2-s-i)}return[a,u*100,c*100]};s.rgb.hsv=function(t){let e;let r;let n;let i;let s;const o=t[0]/255;const a=t[1]/255;const u=t[2]/255;const c=Math.max(o,a,u);const l=c-Math.min(o,a,u);const h=function(t){return(c-t)/6/l+1/2};if(l===0){i=0;s=0}else{s=l/c;e=h(o);r=h(a);n=h(u);if(o===c){i=n-r}else if(a===c){i=1/3+e-n}else if(u===c){i=2/3+r-e}if(i<0){i+=1}else if(i>1){i-=1}}return[i*360,s*100,c*100]};s.rgb.hwb=function(t){const e=t[0];const r=t[1];let n=t[2];const i=s.rgb.hsl(t)[0];const o=1/255*Math.min(e,Math.min(r,n));n=1-1/255*Math.max(e,Math.max(r,n));return[i,o*100,n*100]};s.rgb.cmyk=function(t){const e=t[0]/255;const r=t[1]/255;const n=t[2]/255;const i=Math.min(1-e,1-r,1-n);const s=(1-e-i)/(1-i)||0;const o=(1-r-i)/(1-i)||0;const a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function comparativeDistance(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}s.rgb.keyword=function(t){const e=i[t];if(e){return e}let r=Infinity;let s;for(const e of Object.keys(n)){const i=n[e];const o=comparativeDistance(t,i);if(o<r){r=o;s=e}}return s};s.keyword.rgb=function(t){return n[t]};s.rgb.xyz=function(t){let e=t[0]/255;let r=t[1]/255;let n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=e*.4124+r*.3576+n*.1805;const s=e*.2126+r*.7152+n*.0722;const o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};s.rgb.lab=function(t){const e=s.rgb.xyz(t);let r=e[0];let n=e[1];let i=e[2];r/=95.047;n/=100;i/=108.883;r=r>.008856?r**(1/3):7.787*r+16/116;n=n>.008856?n**(1/3):7.787*n+16/116;i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*n-16;const a=500*(r-n);const u=200*(n-i);return[o,a,u]};s.hsl.rgb=function(t){const e=t[0]/360;const r=t[1]/100;const n=t[2]/100;let i;let s;let o;if(r===0){o=n*255;return[o,o,o]}if(n<.5){i=n*(1+r)}else{i=n+r-n*r}const a=2*n-i;const u=[0,0,0];for(let t=0;t<3;t++){s=e+1/3*-(t-1);if(s<0){s++}if(s>1){s--}if(6*s<1){o=a+(i-a)*6*s}else if(2*s<1){o=i}else if(3*s<2){o=a+(i-a)*(2/3-s)*6}else{o=a}u[t]=o*255}return u};s.hsl.hsv=function(t){const e=t[0];let r=t[1]/100;let n=t[2]/100;let i=r;const s=Math.max(n,.01);n*=2;r*=n<=1?n:2-n;i*=s<=1?s:2-s;const o=(n+r)/2;const a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};s.hsv.rgb=function(t){const e=t[0]/60;const r=t[1]/100;let n=t[2]/100;const i=Math.floor(e)%6;const s=e-Math.floor(e);const o=255*n*(1-r);const a=255*n*(1-r*s);const u=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};s.hsv.hsl=function(t){const e=t[0];const r=t[1]/100;const n=t[2]/100;const i=Math.max(n,.01);let s;let o;o=(2-r)*n;const a=(2-r)*i;s=r*i;s/=a<=1?a:2-a;s=s||0;o/=2;return[e,s*100,o*100]};s.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100;let n=t[2]/100;const i=r+n;let s;if(i>1){r/=i;n/=i}const o=Math.floor(6*e);const a=1-n;s=6*e-o;if((o&1)!==0){s=1-s}const u=r+s*(a-r);let c;let l;let h;switch(o){default:case 6:case 0:c=a;l=u;h=r;break;case 1:c=u;l=a;h=r;break;case 2:c=r;l=a;h=u;break;case 3:c=r;l=u;h=a;break;case 4:c=u;l=r;h=a;break;case 5:c=a;l=r;h=u;break}return[c*255,l*255,h*255]};s.cmyk.rgb=function(t){const e=t[0]/100;const r=t[1]/100;const n=t[2]/100;const i=t[3]/100;const s=1-Math.min(1,e*(1-i)+i);const o=1-Math.min(1,r*(1-i)+i);const a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};s.xyz.rgb=function(t){const e=t[0]/100;const r=t[1]/100;const n=t[2]/100;let i;let s;let o;i=e*3.2406+r*-1.5372+n*-.4986;s=e*-.9689+r*1.8758+n*.0415;o=e*.0557+r*-.204+n*1.057;i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92;s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92;o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92;i=Math.min(Math.max(0,i),1);s=Math.min(Math.max(0,s),1);o=Math.min(Math.max(0,o),1);return[i*255,s*255,o*255]};s.xyz.lab=function(t){let e=t[0];let r=t[1];let n=t[2];e/=95.047;r/=100;n/=108.883;e=e>.008856?e**(1/3):7.787*e+16/116;r=r>.008856?r**(1/3):7.787*r+16/116;n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16;const s=500*(e-r);const o=200*(r-n);return[i,s,o]};s.lab.xyz=function(t){const e=t[0];const r=t[1];const n=t[2];let i;let s;let o;s=(e+16)/116;i=r/500+s;o=s-n/200;const a=s**3;const u=i**3;const c=o**3;s=a>.008856?a:(s-16/116)/7.787;i=u>.008856?u:(i-16/116)/7.787;o=c>.008856?c:(o-16/116)/7.787;i*=95.047;s*=100;o*=108.883;return[i,s,o]};s.lab.lch=function(t){const e=t[0];const r=t[1];const n=t[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI;if(i<0){i+=360}const o=Math.sqrt(r*r+n*n);return[e,o,i]};s.lch.lab=function(t){const e=t[0];const r=t[1];const n=t[2];const i=n/360*2*Math.PI;const s=r*Math.cos(i);const o=r*Math.sin(i);return[e,s,o]};s.rgb.ansi16=function(t,e=null){const[r,n,i]=t;let o=e===null?s.rgb.hsv(t)[2]:e;o=Math.round(o/50);if(o===0){return 30}let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));if(o===2){a+=60}return a};s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])};s.rgb.ansi256=function(t){const e=t[0];const r=t[1];const n=t[2];if(e===r&&r===n){if(e<8){return 16}if(e>248){return 231}return Math.round((e-8)/247*24)+232}const i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};s.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7){if(t>50){e+=3.5}e=e/10.5*255;return[e,e,e]}const r=(~~(t>50)+1)*.5;const n=(e&1)*r*255;const i=(e>>1&1)*r*255;const s=(e>>2&1)*r*255;return[n,i,s]};s.ansi256.rgb=function(t){if(t>=232){const e=(t-232)*10+8;return[e,e,e]}t-=16;let e;const r=Math.floor(t/36)/5*255;const n=Math.floor((e=t%36)/6)/5*255;const i=e%6/5*255;return[r,n,i]};s.rgb.hex=function(t){const e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255);const r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};s.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e){return[0,0,0]}let r=e[0];if(e[0].length===3){r=r.split("").map(t=>{return t+t}).join("")}const n=parseInt(r,16);const i=n>>16&255;const s=n>>8&255;const o=n&255;return[i,s,o]};s.rgb.hcg=function(t){const e=t[0]/255;const r=t[1]/255;const n=t[2]/255;const i=Math.max(Math.max(e,r),n);const s=Math.min(Math.min(e,r),n);const o=i-s;let a;let u;if(o<1){a=s/(1-o)}else{a=0}if(o<=0){u=0}else if(i===e){u=(r-n)/o%6}else if(i===r){u=2+(n-e)/o}else{u=4+(e-r)/o}u/=6;u%=1;return[u*360,o*100,a*100]};s.hsl.hcg=function(t){const e=t[1]/100;const r=t[2]/100;const n=r<.5?2*e*r:2*e*(1-r);let i=0;if(n<1){i=(r-.5*n)/(1-n)}return[t[0],n*100,i*100]};s.hsv.hcg=function(t){const e=t[1]/100;const r=t[2]/100;const n=e*r;let i=0;if(n<1){i=(r-n)/(1-n)}return[t[0],n*100,i*100]};s.hcg.rgb=function(t){const e=t[0]/360;const r=t[1]/100;const n=t[2]/100;if(r===0){return[n*255,n*255,n*255]}const i=[0,0,0];const s=e%1*6;const o=s%1;const a=1-o;let u=0;switch(Math.floor(s)){case 0:i[0]=1;i[1]=o;i[2]=0;break;case 1:i[0]=a;i[1]=1;i[2]=0;break;case 2:i[0]=0;i[1]=1;i[2]=o;break;case 3:i[0]=0;i[1]=a;i[2]=1;break;case 4:i[0]=o;i[1]=0;i[2]=1;break;default:i[0]=1;i[1]=0;i[2]=a}u=(1-r)*n;return[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};s.hcg.hsv=function(t){const e=t[1]/100;const r=t[2]/100;const n=e+r*(1-e);let i=0;if(n>0){i=e/n}return[t[0],i*100,n*100]};s.hcg.hsl=function(t){const e=t[1]/100;const r=t[2]/100;const n=r*(1-e)+.5*e;let i=0;if(n>0&&n<.5){i=e/(2*n)}else if(n>=.5&&n<1){i=e/(2*(1-n))}return[t[0],i*100,n*100]};s.hcg.hwb=function(t){const e=t[1]/100;const r=t[2]/100;const n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};s.hwb.hcg=function(t){const e=t[1]/100;const r=t[2]/100;const n=1-r;const i=n-e;let s=0;if(i<1){s=(n-i)/(1-i)}return[t[0],i*100,s*100]};s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};s.gray.hsl=function(t){return[0,0,t[0]]};s.gray.hsv=s.gray.hsl;s.gray.hwb=function(t){return[0,100,t[0]]};s.gray.cmyk=function(t){return[0,0,0,t[0]]};s.gray.lab=function(t){return[t[0],0,0]};s.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255;const r=(e<<16)+(e<<8)+e;const n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};s.rgb.gray=function(t){const e=(t[0]+t[1]+t[2])/3;return[e/255*100]}},1593:(t,e,r)=>{const n=r(7606);const i=r(1529);const s={};const o=Object.keys(n);function wrapRaw(t){const e=function(...e){const r=e[0];if(r===undefined||r===null){return r}if(r.length>1){e=r}return t(e)};if("conversion"in t){e.conversion=t.conversion}return e}function wrapRounded(t){const e=function(...e){const r=e[0];if(r===undefined||r===null){return r}if(r.length>1){e=r}const n=t(e);if(typeof n==="object"){for(let t=n.length,e=0;e<t;e++){n[e]=Math.round(n[e])}}return n};if("conversion"in t){e.conversion=t.conversion}return e}o.forEach(t=>{s[t]={};Object.defineProperty(s[t],"channels",{value:n[t].channels});Object.defineProperty(s[t],"labels",{value:n[t].labels});const e=i(t);const r=Object.keys(e);r.forEach(r=>{const n=e[r];s[t][r]=wrapRounded(n);s[t][r].raw=wrapRaw(n)})});t.exports=s},1529:(t,e,r)=>{const n=r(7606);function buildGraph(){const t={};const e=Object.keys(n);for(let r=e.length,n=0;n<r;n++){t[e[n]]={distance:-1,parent:null}}return t}function deriveBFS(t){const e=buildGraph();const r=[t];e[t].distance=0;while(r.length){const t=r.pop();const i=Object.keys(n[t]);for(let n=i.length,s=0;s<n;s++){const n=i[s];const o=e[n];if(o.distance===-1){o.distance=e[t].distance+1;o.parent=t;r.unshift(n)}}}return e}function link(t,e){return function(r){return e(t(r))}}function wrapConversion(t,e){const r=[e[t].parent,t];let i=n[e[t].parent][t];let s=e[t].parent;while(e[s].parent){r.unshift(e[s].parent);i=link(n[e[s].parent][s],i);s=e[s].parent}i.conversion=r;return i}t.exports=function(t){const e=deriveBFS(t);const r={};const n=Object.keys(e);for(let t=n.length,i=0;i<t;i++){const t=n[i];const s=e[t];if(s.parent===null){continue}r[t]=wrapConversion(t,e)}return r}},5145:t=>{t.exports=(t=>{const e=process.versions.node.split(".").map(t=>parseInt(t,10));t=t.split(".").map(t=>parseInt(t,10));return e[0]>t[0]||e[0]===t[0]&&(e[1]>t[1]||e[1]===t[1]&&e[2]>=t[2])})},2058:t=>{"use strict";t.exports=balanced;function balanced(t,e,r){if(t instanceof RegExp)t=maybeMatch(t,r);if(e instanceof RegExp)e=maybeMatch(e,r);var n=range(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function maybeMatch(t,e){var r=e.match(t);return r?r[0]:null}balanced.range=range;function range(t,e,r){var n,i,s,o,a;var u=r.indexOf(t);var c=r.indexOf(e,u+1);var l=u;if(u>=0&&c>0){n=[];s=r.length;while(l>=0&&!a){if(l==u){n.push(l);u=r.indexOf(t,l+1)}else if(n.length==1){a=[n.pop(),c]}else{i=n.pop();if(i<s){s=i;o=c}c=r.indexOf(e,l+1)}l=u<c&&u>=0?u:c}if(n.length){a=[s,o]}}return a}},2991:(t,e)=>{"use strict";e.byteLength=byteLength;e.toByteArray=toByteArray;e.fromByteArray=fromByteArray;var r=[];var n=[];var i=typeof Uint8Array!=="undefined"?Uint8Array:Array;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var o=0,a=s.length;o<a;++o){r[o]=s[o];n[s.charCodeAt(o)]=o}n["-".charCodeAt(0)]=62;n["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=t.indexOf("=");if(r===-1)r=e;var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t);var r=e[0];var n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e;var r=getLens(t);var s=r[0];var o=r[1];var a=new i(_byteLength(t,s,o));var u=0;var c=o>0?s-4:s;var l;for(l=0;l<c;l+=4){e=n[t.charCodeAt(l)]<<18|n[t.charCodeAt(l+1)]<<12|n[t.charCodeAt(l+2)]<<6|n[t.charCodeAt(l+3)];a[u++]=e>>16&255;a[u++]=e>>8&255;a[u++]=e&255}if(o===2){e=n[t.charCodeAt(l)]<<2|n[t.charCodeAt(l+1)]>>4;a[u++]=e&255}if(o===1){e=n[t.charCodeAt(l)]<<10|n[t.charCodeAt(l+1)]<<4|n[t.charCodeAt(l+2)]>>2;a[u++]=e>>8&255;a[u++]=e&255}return a}function tripletToBase64(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[t&63]}function encodeChunk(t,e,r){var n;var i=[];for(var s=e;s<r;s+=3){n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255);i.push(tripletToBase64(n))}return i.join("")}function fromByteArray(t){var e;var n=t.length;var i=n%3;var s=[];var o=16383;for(var a=0,u=n-i;a<u;a+=o){s.push(encodeChunk(t,a,a+o>u?u:a+o))}if(i===1){e=t[n-1];s.push(r[e>>2]+r[e<<4&63]+"==")}else if(i===2){e=(t[n-2]<<8)+t[n-1];s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")}return s.join("")}},3197:(t,e,r)=>{var n=r(4527);var i=r(2058);t.exports=expandTop;var s="\0SLASH"+Math.random()+"\0";var o="\0OPEN"+Math.random()+"\0";var a="\0CLOSE"+Math.random()+"\0";var u="\0COMMA"+Math.random()+"\0";var c="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(u).split("\\.").join(c)}function unescapeBraces(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(u).join(",").split(c).join(".")}function parseCommaParts(t){if(!t)return[""];var e=[];var r=i("{","}",t);if(!r)return t.split(",");var n=r.pre;var s=r.body;var o=r.post;var a=n.split(",");a[a.length-1]+="{"+s+"}";var u=parseCommaParts(o);if(o.length){a[a.length-1]+=u.shift();a.push.apply(a,u)}e.push.apply(e,a);return e}function expandTop(t){if(!t)return[];if(t.substr(0,2)==="{}"){t="\\{\\}"+t.substr(2)}return expand(escapeBraces(t),true).map(unescapeBraces)}function identity(t){return t}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,e){return t<=e}function gte(t,e){return t>=e}function expand(t,e){var r=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var c=o||u;var l=s.body.indexOf(",")>=0;if(!c&&!l){if(s.post.match(/,.*\}/)){t=s.pre+"{"+s.body+a+s.post;return expand(t)}return[t]}var h;if(c){h=s.body.split(/\.\./)}else{h=parseCommaParts(s.body);if(h.length===1){h=expand(h[0],false).map(embrace);if(h.length===1){var f=s.post.length?expand(s.post,false):[""];return f.map(function(t){return s.pre+h[0]+t})}}}var d=s.pre;var f=s.post.length?expand(s.post,false):[""];var p;if(c){var m=numeric(h[0]);var y=numeric(h[1]);var g=Math.max(h[0].length,h[1].length);var v=h.length==3?Math.abs(numeric(h[2])):1;var w=lte;var b=y<m;if(b){v*=-1;w=gte}var E=h.some(isPadded);p=[];for(var O=m;w(O,y);O+=v){var D;if(u){D=String.fromCharCode(O);if(D==="\\")D=""}else{D=String(O);if(E){var M=g-D.length;if(M>0){var T=new Array(M+1).join("0");if(O<0)D="-"+T+D.slice(1);else D=T+D}}}p.push(D)}}else{p=n(h,function(t){return expand(t,false)})}for(var S=0;S<p.length;S++){for(var I=0;I<f.length;I++){var x=d+p[S]+f[I];if(!e||c||x)r.push(x)}}return r}},8746:(t,e,r)=>{"use strict";const n=r(3741);const{stdout:i,stderr:s}=r(395);const{stringReplaceAll:o,stringEncaseCRLFWithFirstIndex:a}=r(5611);const{isArray:u}=Array;const c=["ansi","ansi","ansi256","ansi16m"];const l=Object.create(null);const h=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const r=i?i.level:0;t.level=e.level===undefined?r:e.level};class ChalkClass{constructor(t){return f(t)}}const f=t=>{const e={};h(e,t);e.template=((...t)=>w(e.template,...t));Object.setPrototypeOf(e,Chalk.prototype);Object.setPrototypeOf(e.template,e);e.template.constructor=(()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")});e.template.Instance=ChalkClass;return e.template};function Chalk(t){return f(t)}for(const[t,e]of Object.entries(n)){l[t]={get(){const r=y(this,m(e.open,e.close,this._styler),this._isEmpty);Object.defineProperty(this,t,{value:r});return r}}}l.visible={get(){const t=y(this,this._styler,true);Object.defineProperty(this,"visible",{value:t});return t}};const d=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of d){l[t]={get(){const{level:e}=this;return function(...r){const i=m(n.color[c[e]][t](...r),n.color.close,this._styler);return y(this,i,this._isEmpty)}}}}for(const t of d){const e="bg"+t[0].toUpperCase()+t.slice(1);l[e]={get(){const{level:e}=this;return function(...r){const i=m(n.bgColor[c[e]][t](...r),n.bgColor.close,this._styler);return y(this,i,this._isEmpty)}}}}const p=Object.defineProperties(()=>{},{...l,level:{enumerable:true,get(){return this._generator.level},set(t){this._generator.level=t}}});const m=(t,e,r)=>{let n;let i;if(r===undefined){n=t;i=e}else{n=r.openAll+t;i=e+r.closeAll}return{open:t,close:e,openAll:n,closeAll:i,parent:r}};const y=(t,e,r)=>{const n=(...t)=>{if(u(t[0])&&u(t[0].raw)){return g(n,w(n,...t))}return g(n,t.length===1?""+t[0]:t.join(" "))};Object.setPrototypeOf(n,p);n._generator=t;n._styler=e;n._isEmpty=r;return n};const g=(t,e)=>{if(t.level<=0||!e){return t._isEmpty?"":e}let r=t._styler;if(r===undefined){return e}const{openAll:n,closeAll:i}=r;if(e.indexOf("")!==-1){while(r!==undefined){e=o(e,r.close,r.open);r=r.parent}}const s=e.indexOf("\n");if(s!==-1){e=a(e,i,n,s)}return n+e+i};let v;const w=(t,...e)=>{const[n]=e;if(!u(n)||!u(n.raw)){return e.join(" ")}const i=e.slice(1);const s=[n.raw[0]];for(let t=1;t<n.length;t++){s.push(String(i[t-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[t]))}if(v===undefined){v=r(2746)}return v(t,s.join(""))};Object.defineProperties(Chalk.prototype,l);const b=Chalk();b.supportsColor=i;b.stderr=Chalk({level:s?s.level:0});b.stderr.supportsColor=s;t.exports=b},2746:t=>{"use strict";const e=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi;const r=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g;const n=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/;const i=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi;const s=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(t){const e=t[0]==="u";const r=t[1]==="{";if(e&&!r&&t.length===5||t[0]==="x"&&t.length===3){return String.fromCharCode(parseInt(t.slice(1),16))}if(e&&r){return String.fromCodePoint(parseInt(t.slice(2,-1),16))}return s.get(t)||t}function parseArguments(t,e){const r=[];const s=e.trim().split(/\s*,\s*/g);let o;for(const e of s){const s=Number(e);if(!Number.isNaN(s)){r.push(s)}else if(o=e.match(n)){r.push(o[2].replace(i,(t,e,r)=>e?unescape(e):r))}else{throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`)}}return r}function parseStyle(t){r.lastIndex=0;const e=[];let n;while((n=r.exec(t))!==null){const t=n[1];if(n[2]){const r=parseArguments(t,n[2]);e.push([t].concat(r))}else{e.push([t])}}return e}function buildStyle(t,e){const r={};for(const t of e){for(const e of t.styles){r[e[0]]=t.inverse?null:e.slice(1)}}let n=t;for(const[t,e]of Object.entries(r)){if(!Array.isArray(e)){continue}if(!(t in n)){throw new Error(`Unknown Chalk style: ${t}`)}n=e.length>0?n[t](...e):n[t]}return n}t.exports=((t,r)=>{const n=[];const i=[];let s=[];r.replace(e,(e,r,o,a,u,c)=>{if(r){s.push(unescape(r))}else if(a){const e=s.join("");s=[];i.push(n.length===0?e:buildStyle(t,n)(e));n.push({inverse:o,styles:parseStyle(a)})}else if(u){if(n.length===0){throw new Error("Found extraneous } in Chalk template literal")}i.push(buildStyle(t,n)(s.join("")));s=[];n.pop()}else{s.push(c)}});i.push(s.join(""));if(n.length>0){const t=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(t)}return i.join("")})},5611:t=>{"use strict";const e=(t,e,r)=>{let n=t.indexOf(e);if(n===-1){return t}const i=e.length;let s=0;let o="";do{o+=t.substr(s,n-s)+e+r;s=n+i;n=t.indexOf(e,s)}while(n!==-1);o+=t.substr(s);return o};const r=(t,e,r,n)=>{let i=0;let s="";do{const o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?"\r\n":"\n")+r;i=n+1;n=t.indexOf("\n",i)}while(n!==-1);s+=t.substr(i);return s};t.exports={stringReplaceAll:e,stringEncaseCRLFWithFirstIndex:r}},9407:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4527:t=>{t.exports=function(t,r){var n=[];for(var i=0;i<t.length;i++){var s=r(t[i],i);if(e(s))n.push.apply(n,s);else n.push(s)}return n};var e=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}},7987:(t,e,r)=>{"use strict";const n=r(3129);const i=r(1655);const s=r(9738);function spawn(t,e,r){const o=i(t,e,r);const a=n.spawn(o.command,o.args,o.options);s.hookChildProcess(a,o);return a}function spawnSync(t,e,r){const o=i(t,e,r);const a=n.spawnSync(o.command,o.args,o.options);a.error=a.error||s.verifyENOENTSync(a.status,o);return a}t.exports=spawn;t.exports.spawn=spawn;t.exports.sync=spawnSync;t.exports._parse=i;t.exports._enoent=s},9738:t=>{"use strict";const e=process.platform==="win32";function notFoundError(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function hookChildProcess(t,r){if(!e){return}const n=t.emit;t.emit=function(e,i){if(e==="exit"){const e=verifyENOENT(i,r,"spawn");if(e){return n.call(t,"error",e)}}return n.apply(t,arguments)}}function verifyENOENT(t,r){if(e&&t===1&&!r.file){return notFoundError(r.original,"spawn")}return null}function verifyENOENTSync(t,r){if(e&&t===1&&!r.file){return notFoundError(r.original,"spawnSync")}return null}t.exports={hookChildProcess:hookChildProcess,verifyENOENT:verifyENOENT,verifyENOENTSync:verifyENOENTSync,notFoundError:notFoundError}},1655:(t,e,r)=>{"use strict";const n=r(5622);const i=r(7369);const s=r(7534);const o=r(8902);const a=r(2964);const u=r(1516);const c=process.platform==="win32";const l=/\.(?:com|exe)$/i;const h=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;const f=i(()=>u.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",true))||false;function detectShebang(t){t.file=s(t);const e=t.file&&a(t.file);if(e){t.args.unshift(t.file);t.command=e;return s(t)}return t.file}function parseNonShell(t){if(!c){return t}const e=detectShebang(t);const r=!l.test(e);if(t.options.forceShell||r){const r=h.test(e);t.command=n.normalize(t.command);t.command=o.command(t.command);t.args=t.args.map(t=>o.argument(t,r));const i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`];t.command=process.env.comspec||"cmd.exe";t.options.windowsVerbatimArguments=true}return t}function parseShell(t){if(f){return t}const e=[t.command].concat(t.args).join(" ");if(c){t.command=typeof t.options.shell==="string"?t.options.shell:process.env.comspec||"cmd.exe";t.args=["/d","/s","/c",`"${e}"`];t.options.windowsVerbatimArguments=true}else{if(typeof t.options.shell==="string"){t.command=t.options.shell}else if(process.platform==="android"){t.command="/system/bin/sh"}else{t.command="/bin/sh"}t.args=["-c",e]}return t}function parse(t,e,r){if(e&&!Array.isArray(e)){r=e;e=null}e=e?e.slice(0):[];r=Object.assign({},r);const n={command:t,args:e,options:r,file:undefined,original:{command:t,args:e}};return r.shell?parseShell(n):parseNonShell(n)}t.exports=parse},8902:t=>{"use strict";const e=/([()\][%!^"`<>&|;, *?])/g;function escapeCommand(t){t=t.replace(e,"^$1");return t}function escapeArgument(t,r){t=`${t}`;t=t.replace(/(\\*)"/g,'$1$1\\"');t=t.replace(/(\\*)$/,"$1$1");t=`"${t}"`;t=t.replace(e,"^$1");if(r){t=t.replace(e,"^$1")}return t}t.exports.command=escapeCommand;t.exports.argument=escapeArgument},2964:(t,e,r)=>{"use strict";const n=r(5747);const i=r(4970);function readShebang(t){const e=150;let r;if(Buffer.alloc){r=Buffer.alloc(e)}else{r=new Buffer(e);r.fill(0)}let s;try{s=n.openSync(t,"r");n.readSync(s,r,0,e,0);n.closeSync(s)}catch(t){}return i(r.toString())}t.exports=readShebang},7534:(t,e,r)=>{"use strict";const n=r(5622);const i=r(8201);const s=r(2170)();function resolveCommandAttempt(t,e){const r=process.cwd();const o=t.options.cwd!=null;if(o){try{process.chdir(t.options.cwd)}catch(t){}}let a;try{a=i.sync(t.command,{path:(t.options.env||process.env)[s],pathExt:e?n.delimiter:undefined})}catch(t){}finally{process.chdir(r)}if(a){a=n.resolve(o?t.options.cwd:"",a)}return a}function resolveCommand(t){return resolveCommandAttempt(t)||resolveCommandAttempt(t,true)}t.exports=resolveCommand},1516:(t,e)=>{e=t.exports=SemVer;var r;if(typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)){r=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER");console.log.apply(console,t)}}else{r=function(){}}e.SEMVER_SPEC_VERSION="2.0.0";var n=256;var i=Number.MAX_SAFE_INTEGER||9007199254740991;var s=16;var o=e.re=[];var a=e.src=[];var u=0;var c=u++;a[c]="0|[1-9]\\d*";var l=u++;a[l]="[0-9]+";var h=u++;a[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=u++;a[f]="("+a[c]+")\\."+"("+a[c]+")\\."+"("+a[c]+")";var d=u++;a[d]="("+a[l]+")\\."+"("+a[l]+")\\."+"("+a[l]+")";var p=u++;a[p]="(?:"+a[c]+"|"+a[h]+")";var m=u++;a[m]="(?:"+a[l]+"|"+a[h]+")";var y=u++;a[y]="(?:-("+a[p]+"(?:\\."+a[p]+")*))";var g=u++;a[g]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var v=u++;a[v]="[0-9A-Za-z-]+";var w=u++;a[w]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var b=u++;var E="v?"+a[f]+a[y]+"?"+a[w]+"?";a[b]="^"+E+"$";var O="[v=\\s]*"+a[d]+a[g]+"?"+a[w]+"?";var D=u++;a[D]="^"+O+"$";var M=u++;a[M]="((?:<|>)?=?)";var T=u++;a[T]=a[l]+"|x|X|\\*";var S=u++;a[S]=a[c]+"|x|X|\\*";var I=u++;a[I]="[v=\\s]*("+a[S]+")"+"(?:\\.("+a[S]+")"+"(?:\\.("+a[S]+")"+"(?:"+a[y]+")?"+a[w]+"?"+")?)?";var x=u++;a[x]="[v=\\s]*("+a[T]+")"+"(?:\\.("+a[T]+")"+"(?:\\.("+a[T]+")"+"(?:"+a[g]+")?"+a[w]+"?"+")?)?";var N=u++;a[N]="^"+a[M]+"\\s*"+a[I]+"$";var L=u++;a[L]="^"+a[M]+"\\s*"+a[x]+"$";var _=u++;a[_]="(?:^|[^\\d])"+"(\\d{1,"+s+"})"+"(?:\\.(\\d{1,"+s+"}))?"+"(?:\\.(\\d{1,"+s+"}))?"+"(?:$|[^\\d])";var A=u++;a[A]="(?:~>?)";var P=u++;a[P]="(\\s*)"+a[A]+"\\s+";o[P]=new RegExp(a[P],"g");var C="$1~";var F=u++;a[F]="^"+a[A]+a[I]+"$";var X=u++;a[X]="^"+a[A]+a[x]+"$";var R=u++;a[R]="(?:\\^)";var j=u++;a[j]="(\\s*)"+a[R]+"\\s+";o[j]=new RegExp(a[j],"g");var B="$1^";var $=u++;a[$]="^"+a[R]+a[I]+"$";var k=u++;a[k]="^"+a[R]+a[x]+"$";var U=u++;a[U]="^"+a[M]+"\\s*("+O+")$|^$";var V=u++;a[V]="^"+a[M]+"\\s*("+E+")$|^$";var G=u++;a[G]="(\\s*)"+a[M]+"\\s*("+O+"|"+a[I]+")";o[G]=new RegExp(a[G],"g");var q="$1$2$3";var W=u++;a[W]="^\\s*("+a[I]+")"+"\\s+-\\s+"+"("+a[I]+")"+"\\s*$";var Y=u++;a[Y]="^\\s*("+a[x]+")"+"\\s+-\\s+"+"("+a[x]+")"+"\\s*$";var H=u++;a[H]="(<|>)?=?\\s*\\*";for(var z=0;z<u;z++){r(z,a[z]);if(!o[z]){o[z]=new RegExp(a[z])}}e.parse=parse;function parse(t,e){if(!e||typeof e!=="object"){e={loose:!!e,includePrerelease:false}}if(t instanceof SemVer){return t}if(typeof t!=="string"){return null}if(t.length>n){return null}var r=e.loose?o[D]:o[b];if(!r.test(t)){return null}try{return new SemVer(t,e)}catch(t){return null}}e.valid=valid;function valid(t,e){var r=parse(t,e);return r?r.version:null}e.clean=clean;function clean(t,e){var r=parse(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}e.SemVer=SemVer;function SemVer(t,e){if(!e||typeof e!=="object"){e={loose:!!e,includePrerelease:false}}if(t instanceof SemVer){if(t.loose===e.loose){return t}else{t=t.version}}else if(typeof t!=="string"){throw new TypeError("Invalid Version: "+t)}if(t.length>n){throw new TypeError("version is longer than "+n+" characters")}if(!(this instanceof SemVer)){return new SemVer(t,e)}r("SemVer",t,e);this.options=e;this.loose=!!e.loose;var s=t.trim().match(e.loose?o[D]:o[b]);if(!s){throw new TypeError("Invalid Version: "+t)}this.raw=t;this.major=+s[1];this.minor=+s[2];this.patch=+s[3];if(this.major>i||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>i||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>i||this.patch<0){throw new TypeError("Invalid patch version")}if(!s[4]){this.prerelease=[]}else{this.prerelease=s[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i){return e}}return t})}this.build=s[5]?s[5].split("."):[];this.format()}SemVer.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;if(this.prerelease.length){this.version+="-"+this.prerelease.join(".")}return this.version};SemVer.prototype.toString=function(){return this.version};SemVer.prototype.compare=function(t){r("SemVer.compare",this.version,this.options,t);if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}return this.compareMain(t)||this.comparePre(t)};SemVer.prototype.compareMain=function(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}return compareIdentifiers(this.major,t.major)||compareIdentifiers(this.minor,t.minor)||compareIdentifiers(this.patch,t.patch)};SemVer.prototype.comparePre=function(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}if(this.prerelease.length&&!t.prerelease.length){return-1}else if(!this.prerelease.length&&t.prerelease.length){return 1}else if(!this.prerelease.length&&!t.prerelease.length){return 0}var e=0;do{var n=this.prerelease[e];var i=t.prerelease[e];r("prerelease compare",e,n,i);if(n===undefined&&i===undefined){return 0}else if(i===undefined){return 1}else if(n===undefined){return-1}else if(n===i){continue}else{return compareIdentifiers(n,i)}}while(++e)};SemVer.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",e);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",e);break;case"prepatch":this.prerelease.length=0;this.inc("patch",e);this.inc("pre",e);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",e)}this.inc("pre",e);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{var r=this.prerelease.length;while(--r>=0){if(typeof this.prerelease[r]==="number"){this.prerelease[r]++;r=-2}}if(r===-1){this.prerelease.push(0)}}if(e){if(this.prerelease[0]===e){if(isNaN(this.prerelease[1])){this.prerelease=[e,0]}}else{this.prerelease=[e,0]}}break;default:throw new Error("invalid increment argument: "+t)}this.format();this.raw=this.version;return this};e.inc=inc;function inc(t,e,r,n){if(typeof r==="string"){n=r;r=undefined}try{return new SemVer(t,r).inc(e,n).version}catch(t){return null}}e.diff=diff;function diff(t,e){if(eq(t,e)){return null}else{var r=parse(t);var n=parse(e);var i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r){if(o==="major"||o==="minor"||o==="patch"){if(r[o]!==n[o]){return i+o}}}return s}}e.compareIdentifiers=compareIdentifiers;var K=/^[0-9]+$/;function compareIdentifiers(t,e){var r=K.test(t);var n=K.test(e);if(r&&n){t=+t;e=+e}return t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1}e.rcompareIdentifiers=rcompareIdentifiers;function rcompareIdentifiers(t,e){return compareIdentifiers(e,t)}e.major=major;function major(t,e){return new SemVer(t,e).major}e.minor=minor;function minor(t,e){return new SemVer(t,e).minor}e.patch=patch;function patch(t,e){return new SemVer(t,e).patch}e.compare=compare;function compare(t,e,r){return new SemVer(t,r).compare(new SemVer(e,r))}e.compareLoose=compareLoose;function compareLoose(t,e){return compare(t,e,true)}e.rcompare=rcompare;function rcompare(t,e,r){return compare(e,t,r)}e.sort=sort;function sort(t,r){return t.sort(function(t,n){return e.compare(t,n,r)})}e.rsort=rsort;function rsort(t,r){return t.sort(function(t,n){return e.rcompare(t,n,r)})}e.gt=gt;function gt(t,e,r){return compare(t,e,r)>0}e.lt=lt;function lt(t,e,r){return compare(t,e,r)<0}e.eq=eq;function eq(t,e,r){return compare(t,e,r)===0}e.neq=neq;function neq(t,e,r){return compare(t,e,r)!==0}e.gte=gte;function gte(t,e,r){return compare(t,e,r)>=0}e.lte=lte;function lte(t,e,r){return compare(t,e,r)<=0}e.cmp=cmp;function cmp(t,e,r,n){switch(e){case"===":if(typeof t==="object")t=t.version;if(typeof r==="object")r=r.version;return t===r;case"!==":if(typeof t==="object")t=t.version;if(typeof r==="object")r=r.version;return t!==r;case"":case"=":case"==":return eq(t,r,n);case"!=":return neq(t,r,n);case">":return gt(t,r,n);case">=":return gte(t,r,n);case"<":return lt(t,r,n);case"<=":return lte(t,r,n);default:throw new TypeError("Invalid operator: "+e)}}e.Comparator=Comparator;function Comparator(t,e){if(!e||typeof e!=="object"){e={loose:!!e,includePrerelease:false}}if(t instanceof Comparator){if(t.loose===!!e.loose){return t}else{t=t.value}}if(!(this instanceof Comparator)){return new Comparator(t,e)}r("comparator",t,e);this.options=e;this.loose=!!e.loose;this.parse(t);if(this.semver===J){this.value=""}else{this.value=this.operator+this.semver.version}r("comp",this)}var J={};Comparator.prototype.parse=function(t){var e=this.options.loose?o[U]:o[V];var r=t.match(e);if(!r){throw new TypeError("Invalid comparator: "+t)}this.operator=r[1];if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=J}else{this.semver=new SemVer(r[2],this.options.loose)}};Comparator.prototype.toString=function(){return this.value};Comparator.prototype.test=function(t){r("Comparator.test",t,this.options.loose);if(this.semver===J){return true}if(typeof t==="string"){t=new SemVer(t,this.options)}return cmp(t,this.operator,this.semver,this.options)};Comparator.prototype.intersects=function(t,e){if(!(t instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!e||typeof e!=="object"){e={loose:!!e,includePrerelease:false}}var r;if(this.operator===""){r=new Range(t.value,e);return satisfies(this.value,r,e)}else if(t.operator===""){r=new Range(this.value,e);return satisfies(t.semver,r,e)}var n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">");var i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<");var s=this.semver.version===t.semver.version;var o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<=");var a=cmp(this.semver,"<",t.semver,e)&&((this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"));var u=cmp(this.semver,">",t.semver,e)&&((this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">"));return n||i||s&&o||a||u};e.Range=Range;function Range(t,e){if(!e||typeof e!=="object"){e={loose:!!e,includePrerelease:false}}if(t instanceof Range){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease){return t}else{return new Range(t.raw,e)}}if(t instanceof Comparator){return new Range(t.value,e)}if(!(this instanceof Range)){return new Range(t,e)}this.options=e;this.loose=!!e.loose;this.includePrerelease=!!e.includePrerelease;this.raw=t;this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length});if(!this.set.length){throw new TypeError("Invalid SemVer Range: "+t)}this.format()}Range.prototype.format=function(){this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim();return this.range};Range.prototype.toString=function(){return this.range};Range.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?o[Y]:o[W];t=t.replace(n,hyphenReplace);r("hyphen replace",t);t=t.replace(o[G],q);r("comparator trim",t,o[G]);t=t.replace(o[P],C);t=t.replace(o[j],B);t=t.split(/\s+/).join(" ");var i=e?o[U]:o[V];var s=t.split(" ").map(function(t){return parseComparator(t,this.options)},this).join(" ").split(/\s+/);if(this.options.loose){s=s.filter(function(t){return!!t.match(i)})}s=s.map(function(t){return new Comparator(t,this.options)},this);return s};Range.prototype.intersects=function(t,e){if(!(t instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(function(r){return r.every(function(r){return t.set.some(function(t){return t.every(function(t){return r.intersects(t,e)})})})})};e.toComparators=toComparators;function toComparators(t,e){return new Range(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})}function parseComparator(t,e){r("comp",t,e);t=replaceCarets(t,e);r("caret",t);t=replaceTildes(t,e);r("tildes",t);t=replaceXRanges(t,e);r("xrange",t);t=replaceStars(t,e);r("stars",t);return t}function isX(t){return!t||t.toLowerCase()==="x"||t==="*"}function replaceTildes(t,e){return t.trim().split(/\s+/).map(function(t){return replaceTilde(t,e)}).join(" ")}function replaceTilde(t,e){var n=e.loose?o[X]:o[F];return t.replace(n,function(e,n,i,s,o){r("tilde",t,e,n,i,s,o);var a;if(isX(n)){a=""}else if(isX(i)){a=">="+n+".0.0 <"+(+n+1)+".0.0"}else if(isX(s)){a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0"}else if(o){r("replaceTilde pr",o);a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0"}else{a=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0"}r("tilde return",a);return a})}function replaceCarets(t,e){return t.trim().split(/\s+/).map(function(t){return replaceCaret(t,e)}).join(" ")}function replaceCaret(t,e){r("caret",t,e);var n=e.loose?o[k]:o[$];return t.replace(n,function(e,n,i,s,o){r("caret",t,e,n,i,s,o);var a;if(isX(n)){a=""}else if(isX(i)){a=">="+n+".0.0 <"+(+n+1)+".0.0"}else if(isX(s)){if(n==="0"){a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0"}else{a=">="+n+"."+i+".0 <"+(+n+1)+".0.0"}}else if(o){r("replaceCaret pr",o);if(n==="0"){if(i==="0"){a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+i+"."+(+s+1)}else{a=">="+n+"."+i+"."+s+"-"+o+" <"+n+"."+(+i+1)+".0"}}else{a=">="+n+"."+i+"."+s+"-"+o+" <"+(+n+1)+".0.0"}}else{r("no pr");if(n==="0"){if(i==="0"){a=">="+n+"."+i+"."+s+" <"+n+"."+i+"."+(+s+1)}else{a=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0"}}else{a=">="+n+"."+i+"."+s+" <"+(+n+1)+".0.0"}}r("caret return",a);return a})}function replaceXRanges(t,e){r("replaceXRanges",t,e);return t.split(/\s+/).map(function(t){return replaceXRange(t,e)}).join(" ")}function replaceXRange(t,e){t=t.trim();var n=e.loose?o[L]:o[N];return t.replace(n,function(e,n,i,s,o,a){r("xRange",t,e,n,i,s,o,a);var u=isX(i);var c=u||isX(s);var l=c||isX(o);var h=l;if(n==="="&&h){n=""}if(u){if(n===">"||n==="<"){e="<0.0.0"}else{e="*"}}else if(n&&h){if(c){s=0}o=0;if(n===">"){n=">=";if(c){i=+i+1;s=0;o=0}else{s=+s+1;o=0}}else if(n==="<="){n="<";if(c){i=+i+1}else{s=+s+1}}e=n+i+"."+s+"."+o}else if(c){e=">="+i+".0.0 <"+(+i+1)+".0.0"}else if(l){e=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"}r("xRange return",e);return e})}function replaceStars(t,e){r("replaceStars",t,e);return t.trim().replace(o[H],"")}function hyphenReplace(t,e,r,n,i,s,o,a,u,c,l,h,f){if(isX(r)){e=""}else if(isX(n)){e=">="+r+".0.0"}else if(isX(i)){e=">="+r+"."+n+".0"}else{e=">="+e}if(isX(u)){a=""}else if(isX(c)){a="<"+(+u+1)+".0.0"}else if(isX(l)){a="<"+u+"."+(+c+1)+".0"}else if(h){a="<="+u+"."+c+"."+l+"-"+h}else{a="<="+a}return(e+" "+a).trim()}Range.prototype.test=function(t){if(!t){return false}if(typeof t==="string"){t=new SemVer(t,this.options)}for(var e=0;e<this.set.length;e++){if(testSet(this.set[e],t,this.options)){return true}}return false};function testSet(t,e,n){for(var i=0;i<t.length;i++){if(!t[i].test(e)){return false}}if(e.prerelease.length&&!n.includePrerelease){for(i=0;i<t.length;i++){r(t[i].semver);if(t[i].semver===J){continue}if(t[i].semver.prerelease.length>0){var s=t[i].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch){return true}}}return false}return true}e.satisfies=satisfies;function satisfies(t,e,r){try{e=new Range(e,r)}catch(t){return false}return e.test(t)}e.maxSatisfying=maxSatisfying;function maxSatisfying(t,e,r){var n=null;var i=null;try{var s=new Range(e,r)}catch(t){return null}t.forEach(function(t){if(s.test(t)){if(!n||i.compare(t)===-1){n=t;i=new SemVer(n,r)}}});return n}e.minSatisfying=minSatisfying;function minSatisfying(t,e,r){var n=null;var i=null;try{var s=new Range(e,r)}catch(t){return null}t.forEach(function(t){if(s.test(t)){if(!n||i.compare(t)===1){n=t;i=new SemVer(n,r)}}});return n}e.minVersion=minVersion;function minVersion(t,e){t=new Range(t,e);var r=new SemVer("0.0.0");if(t.test(r)){return r}r=new SemVer("0.0.0-0");if(t.test(r)){return r}r=null;for(var n=0;n<t.set.length;++n){var i=t.set[n];i.forEach(function(t){var e=new SemVer(t.semver.version);switch(t.operator){case">":if(e.prerelease.length===0){e.patch++}else{e.prerelease.push(0)}e.raw=e.format();case"":case">=":if(!r||gt(r,e)){r=e}break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}})}if(r&&t.test(r)){return r}return null}e.validRange=validRange;function validRange(t,e){try{return new Range(t,e).range||"*"}catch(t){return null}}e.ltr=ltr;function ltr(t,e,r){return outside(t,e,"<",r)}e.gtr=gtr;function gtr(t,e,r){return outside(t,e,">",r)}e.outside=outside;function outside(t,e,r,n){t=new SemVer(t,n);e=new Range(e,n);var i,s,o,a,u;switch(r){case">":i=gt;s=lte;o=lt;a=">";u=">=";break;case"<":i=lt;s=gte;o=gt;a="<";u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(t,e,n)){return false}for(var c=0;c<e.set.length;++c){var l=e.set[c];var h=null;var f=null;l.forEach(function(t){if(t.semver===J){t=new Comparator(">=0.0.0")}h=h||t;f=f||t;if(i(t.semver,h.semver,n)){h=t}else if(o(t.semver,f.semver,n)){f=t}});if(h.operator===a||h.operator===u){return false}if((!f.operator||f.operator===a)&&s(t,f.semver)){return false}else if(f.operator===u&&o(t,f.semver)){return false}}return true}e.prerelease=prerelease;function prerelease(t,e){var r=parse(t,e);return r&&r.prerelease.length?r.prerelease:null}e.intersects=intersects;function intersects(t,e,r){t=new Range(t,r);e=new Range(e,r);return t.intersects(e)}e.coerce=coerce;function coerce(t){if(t instanceof SemVer){return t}if(typeof t!=="string"){return null}var e=t.match(o[_]);if(e==null){return null}return parse(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}},5134:t=>{"use strict";function isSpecificValue(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp?true:false}function cloneSpecificValue(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);t.copy(e);return e}else if(t instanceof Date){return new Date(t.getTime())}else if(t instanceof RegExp){return new RegExp(t)}else{throw new Error("Unexpected situation")}}function deepCloneArray(t){var r=[];t.forEach(function(t,n){if(typeof t==="object"&&t!==null){if(Array.isArray(t)){r[n]=deepCloneArray(t)}else if(isSpecificValue(t)){r[n]=cloneSpecificValue(t)}else{r[n]=e({},t)}}else{r[n]=t}});return r}function safeGetProperty(t,e){return e==="__proto__"?undefined:t[e]}var e=t.exports=function(){if(arguments.length<1||typeof arguments[0]!=="object"){return false}if(arguments.length<2){return arguments[0]}var t=arguments[0];var r=Array.prototype.slice.call(arguments,1);var n,i,s;r.forEach(function(r){if(typeof r!=="object"||r===null||Array.isArray(r)){return}Object.keys(r).forEach(function(s){i=safeGetProperty(t,s);n=safeGetProperty(r,s);if(n===t){return}else if(typeof n!=="object"||n===null){t[s]=n;return}else if(Array.isArray(n)){t[s]=deepCloneArray(n);return}else if(isSpecificValue(n)){t[s]=cloneSpecificValue(n);return}else if(typeof i!=="object"||i===null||Array.isArray(i)){t[s]=e({},n);return}else{t[s]=e(i,n);return}})});return t}},8945:(t,e,r)=>{t.exports=realpath;realpath.realpath=realpath;realpath.sync=realpathSync;realpath.realpathSync=realpathSync;realpath.monkeypatch=monkeypatch;realpath.unmonkeypatch=unmonkeypatch;var n=r(5747);var i=n.realpath;var s=n.realpathSync;var o=process.version;var a=/^v[0-5]\./.test(o);var u=r(4403);function newError(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function realpath(t,e,r){if(a){return i(t,e,r)}if(typeof e==="function"){r=e;e=null}i(t,e,function(n,i){if(newError(n)){u.realpath(t,e,r)}else{r(n,i)}})}function realpathSync(t,e){if(a){return s(t,e)}try{return s(t,e)}catch(r){if(newError(r)){return u.realpathSync(t,e)}else{throw r}}}function monkeypatch(){n.realpath=realpath;n.realpathSync=realpathSync}function unmonkeypatch(){n.realpath=i;n.realpathSync=s}},4403:(t,e,r)=>{var n=r(5622);var i=process.platform==="win32";var s=r(5747);var o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function rethrow(){var t;if(o){var e=new Error;t=debugCallback}else t=missingCallback;return t;function debugCallback(t){if(t){e.message=t.message;t=e;missingCallback(t)}}function missingCallback(t){if(t){if(process.throwDeprecation)throw t;else if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);if(process.traceDeprecation)console.trace(e);else console.error(e)}}}}function maybeCallback(t){return typeof t==="function"?t:rethrow()}var a=n.normalize;if(i){var u=/(.*?)(?:[\/\\]+|$)/g}else{var u=/(.*?)(?:[\/]+|$)/g}if(i){var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/}else{var c=/^[\/]*/}e.realpathSync=function realpathSync(t,e){t=n.resolve(t);if(e&&Object.prototype.hasOwnProperty.call(e,t)){return e[t]}var r=t,o={},a={};var l;var h;var f;var d;start();function start(){var e=c.exec(t);l=e[0].length;h=e[0];f=e[0];d="";if(i&&!a[f]){s.lstatSync(f);a[f]=true}}while(l<t.length){u.lastIndex=l;var p=u.exec(t);d=h;h+=p[0];f=d+p[1];l=u.lastIndex;if(a[f]||e&&e[f]===f){continue}var m;if(e&&Object.prototype.hasOwnProperty.call(e,f)){m=e[f]}else{var y=s.lstatSync(f);if(!y.isSymbolicLink()){a[f]=true;if(e)e[f]=f;continue}var g=null;if(!i){var v=y.dev.toString(32)+":"+y.ino.toString(32);if(o.hasOwnProperty(v)){g=o[v]}}if(g===null){s.statSync(f);g=s.readlinkSync(f)}m=n.resolve(d,g);if(e)e[f]=m;if(!i)o[v]=g}t=n.resolve(m,t.slice(l));start()}if(e)e[r]=t;return t};e.realpath=function realpath(t,e,r){if(typeof r!=="function"){r=maybeCallback(e);e=null}t=n.resolve(t);if(e&&Object.prototype.hasOwnProperty.call(e,t)){return process.nextTick(r.bind(null,null,e[t]))}var o=t,a={},l={};var h;var f;var d;var p;start();function start(){var e=c.exec(t);h=e[0].length;f=e[0];d=e[0];p="";if(i&&!l[d]){s.lstat(d,function(t){if(t)return r(t);l[d]=true;LOOP()})}else{process.nextTick(LOOP)}}function LOOP(){if(h>=t.length){if(e)e[o]=t;return r(null,t)}u.lastIndex=h;var n=u.exec(t);p=f;f+=n[0];d=p+n[1];h=u.lastIndex;if(l[d]||e&&e[d]===d){return process.nextTick(LOOP)}if(e&&Object.prototype.hasOwnProperty.call(e,d)){return gotResolvedLink(e[d])}return s.lstat(d,gotStat)}function gotStat(t,n){if(t)return r(t);if(!n.isSymbolicLink()){l[d]=true;if(e)e[d]=d;return process.nextTick(LOOP)}if(!i){var o=n.dev.toString(32)+":"+n.ino.toString(32);if(a.hasOwnProperty(o)){return gotTarget(null,a[o],d)}}s.stat(d,function(t){if(t)return r(t);s.readlink(d,function(t,e){if(!i)a[o]=e;gotTarget(t,e)})})}function gotTarget(t,i,s){if(t)return r(t);var o=n.resolve(p,i);if(e)e[s]=o;gotResolvedLink(o)}function gotResolvedLink(e){t=n.resolve(e,t.slice(h));start()}}},7945:(t,e,r)=>{const n=r(1669);const i=r(8835);let s=false;let o=true;function _value(t,e){const r=process.env[t];if(r===undefined){if(e===undefined&&!o){return r}if(e===undefined){throw new Error("GetEnv.Nonexistent: "+t+" does not exist "+"and no fallback value provided.")}if(s){throw new Error("GetEnv.DisabledFallbacks: "+t+" relying on fallback "+"when fallbacks have been disabled")}return""+e}return r}const a={string:function(t){return""+t},int:function(t){const e=t.match(/^-?\d+$/);if(!e){throw new Error("GetEnv.NoInteger: "+t+" is not an integer.")}return+t},float:function(t){const e=+t===Infinity||+t===-Infinity;if(e){throw new Error("GetEnv.Infinity: "+t+" is set to +/-Infinity.")}const r=!(isNaN(t)||t==="");if(!r){throw new Error("GetEnv.NoFloat: "+t+" is not a number.")}return+t},bool:function(t){const e=t==="true"||t==="false";if(!e){throw new Error("GetEnv.NoBoolean: "+t+" is not a boolean.")}return t==="true"},boolish:function(t){try{return a.bool(t)}catch(e){const r=t==="1"||t==="0";if(!r){throw new Error("GetEnv.NoBoolean: "+t+" is not a boolean.")}return t==="1"}},url:i.parse};function converter(t){return function(e,r){if(typeof e=="string"){const n=_value(e,r);return a[t](n)}else{return u.multi(e)}}}const u=converter("string");Object.keys(a).forEach(function(t){u[t]=converter(t)});u.array=function array(t,e,r){e=e||"string";if(Object.keys(a).indexOf(e)===-1){throw new Error("GetEnv.ArrayUndefinedType: Unknown array type "+e)}const n=_value(t,r);return n.split(/\s*,\s*/).map(a[e])};u.multi=function multi(t){const e={};for(let r in t){const i=t[r];if(n.isArray(i)){switch(i.length){case 1:case 2:e[r]=u(i[0],i[1]);break;case 3:e[r]=u[i[2]](i[0],i[1]);break;default:throw"getenv.multi(): invalid spec";break}}else{e[r]=u(i)}}return e};u.disableFallbacks=function(){s=true};u.enableFallbacks=function(){s=false};u.disableErrors=function(){o=false};u.enableErrors=function(){o=true};t.exports=u},2821:(t,e,r)=>{e.alphasort=alphasort;e.alphasorti=alphasorti;e.setopts=setopts;e.ownProp=ownProp;e.makeAbs=makeAbs;e.finish=finish;e.mark=mark;e.isIgnored=isIgnored;e.childrenIgnored=childrenIgnored;function ownProp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var n=r(5622);var i=r(9566);var s=r(1323);var o=i.Minimatch;function alphasorti(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function alphasort(t,e){return t.localeCompare(e)}function setupIgnores(t,e){t.ignore=e.ignore||[];if(!Array.isArray(t.ignore))t.ignore=[t.ignore];if(t.ignore.length){t.ignore=t.ignore.map(ignoreMap)}}function ignoreMap(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new o(r,{dot:true})}return{matcher:new o(t,{dot:true}),gmatcher:e}}function setopts(t,e,r){if(!r)r={};if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar){throw new Error("base matching requires globstar")}e="**/"+e}t.silent=!!r.silent;t.pattern=e;t.strict=r.strict!==false;t.realpath=!!r.realpath;t.realpathCache=r.realpathCache||Object.create(null);t.follow=!!r.follow;t.dot=!!r.dot;t.mark=!!r.mark;t.nodir=!!r.nodir;if(t.nodir)t.mark=true;t.sync=!!r.sync;t.nounique=!!r.nounique;t.nonull=!!r.nonull;t.nosort=!!r.nosort;t.nocase=!!r.nocase;t.stat=!!r.stat;t.noprocess=!!r.noprocess;t.absolute=!!r.absolute;t.maxLength=r.maxLength||Infinity;t.cache=r.cache||Object.create(null);t.statCache=r.statCache||Object.create(null);t.symlinks=r.symlinks||Object.create(null);setupIgnores(t,r);t.changedCwd=false;var i=process.cwd();if(!ownProp(r,"cwd"))t.cwd=i;else{t.cwd=n.resolve(r.cwd);t.changedCwd=t.cwd!==i}t.root=r.root||n.resolve(t.cwd,"/");t.root=n.resolve(t.root);if(process.platform==="win32")t.root=t.root.replace(/\\/g,"/");t.cwdAbs=s(t.cwd)?t.cwd:makeAbs(t,t.cwd);if(process.platform==="win32")t.cwdAbs=t.cwdAbs.replace(/\\/g,"/");t.nomount=!!r.nomount;r.nonegate=true;r.nocomment=true;t.minimatch=new o(e,r);t.options=t.minimatch.options}function finish(t){var e=t.nounique;var r=e?[]:Object.create(null);for(var n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];if(e)r.push(o);else r[o]=true}}else{var a=Object.keys(s);if(e)r.push.apply(r,a);else a.forEach(function(t){r[t]=true})}}if(!e)r=Object.keys(r);if(!t.nosort)r=r.sort(t.nocase?alphasorti:alphasort);if(t.mark){for(var n=0;n<r.length;n++){r[n]=t._mark(r[n])}if(t.nodir){r=r.filter(function(e){var r=!/\/$/.test(e);var n=t.cache[e]||t.cache[makeAbs(t,e)];if(r&&n)r=n!=="DIR"&&!Array.isArray(n);return r})}}if(t.ignore.length)r=r.filter(function(e){return!isIgnored(t,e)});t.found=r}function mark(t,e){var r=makeAbs(t,e);var n=t.cache[r];var i=e;if(n){var s=n==="DIR"||Array.isArray(n);var o=e.slice(-1)==="/";if(s&&!o)i+="/";else if(!s&&o)i=i.slice(0,-1);if(i!==e){var a=makeAbs(t,i);t.statCache[a]=t.statCache[r];t.cache[a]=t.cache[r]}}return i}function makeAbs(t,e){var r=e;if(e.charAt(0)==="/"){r=n.join(t.root,e)}else if(s(e)||e===""){r=e}else if(t.changedCwd){r=n.resolve(t.cwd,e)}else{r=n.resolve(e)}if(process.platform==="win32")r=r.replace(/\\/g,"/");return r}function isIgnored(t,e){if(!t.ignore.length)return false;return t.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))})}function childrenIgnored(t,e){if(!t.ignore.length)return false;return t.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))})}},3700:(t,e,r)=>{t.exports=glob;var n=r(5747);var i=r(8945);var s=r(9566);var o=s.Minimatch;var a=r(6919);var u=r(8614).EventEmitter;var c=r(5622);var l=r(2357);var h=r(1323);var f=r(7433);var d=r(2821);var p=d.alphasort;var m=d.alphasorti;var y=d.setopts;var g=d.ownProp;var v=r(9442);var w=r(1669);var b=d.childrenIgnored;var E=d.isIgnored;var O=r(7197);function glob(t,e,r){if(typeof e==="function")r=e,e={};if(!e)e={};if(e.sync){if(r)throw new TypeError("callback provided to sync glob");return f(t,e)}return new Glob(t,e,r)}glob.sync=f;var D=glob.GlobSync=f.GlobSync;glob.glob=glob;function extend(t,e){if(e===null||typeof e!=="object"){return t}var r=Object.keys(e);var n=r.length;while(n--){t[r[n]]=e[r[n]]}return t}glob.hasMagic=function(t,e){var r=extend({},e);r.noprocess=true;var n=new Glob(t,r);var i=n.minimatch.set;if(!t)return false;if(i.length>1)return true;for(var s=0;s<i[0].length;s++){if(typeof i[0][s]!=="string")return true}return false};glob.Glob=Glob;a(Glob,u);function Glob(t,e,r){if(typeof e==="function"){r=e;e=null}if(e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new D(t,e)}if(!(this instanceof Glob))return new Glob(t,e,r);y(this,t,e);this._didRealPath=false;var n=this.minimatch.set.length;this.matches=new Array(n);if(typeof r==="function"){r=O(r);this.on("error",r);this.on("end",function(t){r(null,t)})}var i=this;this._processing=0;this._emitQueue=[];this._processQueue=[];this.paused=false;if(this.noprocess)return this;if(n===0)return done();var s=true;for(var o=0;o<n;o++){this._process(this.minimatch.set[o],o,false,done)}s=false;function done(){--i._processing;if(i._processing<=0){if(s){process.nextTick(function(){i._finish()})}else{i._finish()}}}}Glob.prototype._finish=function(){l(this instanceof Glob);if(this.aborted)return;if(this.realpath&&!this._didRealpath)return this._realpath();d.finish(this);this.emit("end",this.found)};Glob.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=true;var t=this.matches.length;if(t===0)return this._finish();var e=this;for(var r=0;r<this.matches.length;r++)this._realpathSet(r,next);function next(){if(--t===0)e._finish()}};Glob.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r);var s=this;var o=n.length;if(o===0)return e();var a=this.matches[t]=Object.create(null);n.forEach(function(r,n){r=s._makeAbs(r);i.realpath(r,s.realpathCache,function(n,i){if(!n)a[i]=true;else if(n.syscall==="stat")a[r]=true;else s.emit("error",n);if(--o===0){s.matches[t]=a;e()}})})};Glob.prototype._mark=function(t){return d.mark(this,t)};Glob.prototype._makeAbs=function(t){return d.makeAbs(this,t)};Glob.prototype.abort=function(){this.aborted=true;this.emit("abort")};Glob.prototype.pause=function(){if(!this.paused){this.paused=true;this.emit("pause")}};Glob.prototype.resume=function(){if(this.paused){this.emit("resume");this.paused=false;if(this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--;this._process(i[0],i[1],i[2],i[3])}}}};Glob.prototype._process=function(t,e,r,n){l(this instanceof Glob);l(typeof n==="function");if(this.aborted)return;this._processing++;if(this.paused){this._processQueue.push([t,e,r,n]);return}var i=0;while(typeof t[i]==="string"){i++}var o;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:o=null;break;default:o=t.slice(0,i).join("/");break}var a=t.slice(i);var u;if(o===null)u=".";else if(h(o)||h(t.join("/"))){if(!o||!h(o))o="/"+o;u=o}else u=o;var c=this._makeAbs(u);if(b(this,u))return n();var f=a[0]===s.GLOBSTAR;if(f)this._processGlobStar(o,u,c,a,e,r,n);else this._processReaddir(o,u,c,a,e,r,n)};Glob.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};Glob.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n[0];var l=!!this.minimatch.negate;var h=u._glob;var f=this.dot||h.charAt(0)===".";var d=[];for(var p=0;p<o.length;p++){var m=o[p];if(m.charAt(0)!=="."||f){var y;if(l&&!t){y=!m.match(u)}else{y=m.match(u)}if(y)d.push(m)}}var g=d.length;if(g===0)return a();if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var p=0;p<g;p++){var m=d[p];if(t){if(t!=="/")m=t+"/"+m;else m=t+m}if(m.charAt(0)==="/"&&!this.nomount){m=c.join(this.root,m)}this._emitMatch(i,m)}return a()}n.shift();for(var p=0;p<g;p++){var m=d[p];var v;if(t){if(t!=="/")m=t+"/"+m;else m=t+m}this._process([m].concat(n),i,s,a)}a()};Glob.prototype._emitMatch=function(t,e){if(this.aborted)return;if(E(this,e))return;if(this.paused){this._emitQueue.push([t,e]);return}var r=h(e)?e:this._makeAbs(e);if(this.mark)e=this._mark(e);if(this.absolute)e=r;if(this.matches[t][e])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=true;var i=this.statCache[r];if(i)this.emit("stat",e,i);this.emit("match",e)};Glob.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,false,e);var r="lstat\0"+t;var i=this;var s=v(r,lstatcb_);if(s)n.lstat(t,s);function lstatcb_(r,n){if(r&&r.code==="ENOENT")return e();var s=n&&n.isSymbolicLink();i.symlinks[t]=s;if(!s&&n&&!n.isDirectory()){i.cache[t]="FILE";e()}else i._readdir(t,false,e)}};Glob.prototype._readdir=function(t,e,r){if(this.aborted)return;r=v("readdir\0"+t+"\0"+e,r);if(!r)return;if(e&&!g(this.symlinks,t))return this._readdirInGlobStar(t,r);if(g(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var s=this;n.readdir(t,readdirCb(this,t,r))};function readdirCb(t,e,r){return function(n,i){if(n)t._readdirError(e,n,r);else t._readdirEntries(e,i,r)}}Glob.prototype._readdirEntries=function(t,e,r){if(this.aborted)return;if(!this.mark&&!this.stat){for(var n=0;n<e.length;n++){var i=e[n];if(t==="/")i=t+i;else i=t+"/"+i;this.cache[i]=true}}this.cache[t]=e;return r(null,e)};Glob.prototype._readdirError=function(t,e,r){if(this.aborted)return;switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);this.cache[n]="FILE";if(n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd;i.code=e.code;this.emit("error",i);this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict){this.emit("error",e);this.abort()}if(!this.silent)console.error("glob error",e);break}return r()};Glob.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};Glob.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1);var c=t?[t]:[];var l=c.concat(u);this._process(l,i,false,a);var h=this.symlinks[r];var f=o.length;if(h&&s)return a();for(var d=0;d<f;d++){var p=o[d];if(p.charAt(0)==="."&&!this.dot)continue;var m=c.concat(o[d],u);this._process(m,i,true,a);var y=c.concat(o[d],n);this._process(y,i,true,a)}a()};Glob.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};Glob.prototype._processSimple2=function(t,e,r,n,i){if(!this.matches[e])this.matches[e]=Object.create(null);if(!n)return i();if(t&&h(t)&&!this.nomount){var s=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=c.join(this.root,t)}else{t=c.resolve(this.root,t);if(s)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(e,t);i()};Glob.prototype._stat=function(t,e){var r=this._makeAbs(t);var i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&g(this.cache,r)){var s=this.cache[r];if(Array.isArray(s))s="DIR";if(!i||s==="DIR")return e(null,s);if(i&&s==="FILE")return e()}var o;var a=this.statCache[r];if(a!==undefined){if(a===false)return e(null,a);else{var u=a.isDirectory()?"DIR":"FILE";if(i&&u==="FILE")return e();else return e(null,u,a)}}var c=this;var l=v("stat\0"+r,lstatcb_);if(l)n.lstat(r,l);function lstatcb_(i,s){if(s&&s.isSymbolicLink()){return n.stat(r,function(n,i){if(n)c._stat2(t,r,null,s,e);else c._stat2(t,r,n,i,e)})}else{c._stat2(t,r,i,s,e)}}};Glob.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR")){this.statCache[e]=false;return i()}var s=t.slice(-1)==="/";this.statCache[e]=n;if(e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,false,n);var o=true;if(n)o=n.isDirectory()?"DIR":"FILE";this.cache[e]=this.cache[e]||o;if(s&&o==="FILE")return i();return i(null,o,n)}},7433:(t,e,r)=>{t.exports=globSync;globSync.GlobSync=GlobSync;var n=r(5747);var i=r(8945);var s=r(9566);var o=s.Minimatch;var a=r(3700).Glob;var u=r(1669);var c=r(5622);var l=r(2357);var h=r(1323);var f=r(2821);var d=f.alphasort;var p=f.alphasorti;var m=f.setopts;var y=f.ownProp;var g=f.childrenIgnored;var v=f.isIgnored;function globSync(t,e){if(typeof e==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(t,e).found}function GlobSync(t,e){if(!t)throw new Error("must provide pattern");if(typeof e==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(t,e);m(this,t,e);if(this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++){this._process(this.minimatch.set[n],n,false)}this._finish()}GlobSync.prototype._finish=function(){l(this instanceof GlobSync);if(this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var s in e){try{s=t._makeAbs(s);var o=i.realpathSync(s,t.realpathCache);n[o]=true}catch(e){if(e.syscall==="stat")n[t._makeAbs(s)]=true;else throw e}}})}f.finish(this)};GlobSync.prototype._process=function(t,e,r){l(this instanceof GlobSync);var n=0;while(typeof t[n]==="string"){n++}var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var o=t.slice(n);var a;if(i===null)a=".";else if(h(i)||h(t.join("/"))){if(!i||!h(i))i="/"+i;a=i}else a=i;var u=this._makeAbs(a);if(g(this,a))return;var c=o[0]===s.GLOBSTAR;if(c)this._processGlobStar(i,a,u,o,e,r);else this._processReaddir(i,a,u,o,e,r)};GlobSync.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!o)return;var a=n[0];var u=!!this.minimatch.negate;var l=a._glob;var h=this.dot||l.charAt(0)===".";var f=[];for(var d=0;d<o.length;d++){var p=o[d];if(p.charAt(0)!=="."||h){var m;if(u&&!t){m=!p.match(a)}else{m=p.match(a)}if(m)f.push(p)}}var y=f.length;if(y===0)return;if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var d=0;d<y;d++){var p=f[d];if(t){if(t.slice(-1)!=="/")p=t+"/"+p;else p=t+p}if(p.charAt(0)==="/"&&!this.nomount){p=c.join(this.root,p)}this._emitMatch(i,p)}return}n.shift();for(var d=0;d<y;d++){var p=f[d];var g;if(t)g=[t,p];else g=[p];this._process(g.concat(n),i,s)}};GlobSync.prototype._emitMatch=function(t,e){if(v(this,e))return;var r=this._makeAbs(e);if(this.mark)e=this._mark(e);if(this.absolute){e=r}if(this.matches[t][e])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=true;if(this.stat)this._stat(e)};GlobSync.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,false);var e;var r;var i;try{r=n.lstatSync(t)}catch(t){if(t.code==="ENOENT"){return null}}var s=r&&r.isSymbolicLink();this.symlinks[t]=s;if(!s&&r&&!r.isDirectory())this.cache[t]="FILE";else e=this._readdir(t,false);return e};GlobSync.prototype._readdir=function(t,e){var r;if(e&&!y(this.symlinks,t))return this._readdirInGlobStar(t);if(y(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,n.readdirSync(t))}catch(e){this._readdirError(t,e);return null}};GlobSync.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat){for(var r=0;r<e.length;r++){var n=e[r];if(t==="/")n=t+n;else n=t+"/"+n;this.cache[n]=true}}this.cache[t]=e;return e};GlobSync.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);this.cache[r]="FILE";if(r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd;n.code=e.code;throw n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict)throw e;if(!this.silent)console.error("glob error",e);break}};GlobSync.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!o)return;var a=n.slice(1);var u=t?[t]:[];var c=u.concat(a);this._process(c,i,false);var l=o.length;var h=this.symlinks[r];if(h&&s)return;for(var f=0;f<l;f++){var d=o[f];if(d.charAt(0)==="."&&!this.dot)continue;var p=u.concat(o[f],a);this._process(p,i,true);var m=u.concat(o[f],n);this._process(m,i,true)}};GlobSync.prototype._processSimple=function(t,e){var r=this._stat(t);if(!this.matches[e])this.matches[e]=Object.create(null);if(!r)return;if(t&&h(t)&&!this.nomount){var n=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=c.join(this.root,t)}else{t=c.resolve(this.root,t);if(n)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(e,t)};GlobSync.prototype._stat=function(t){var e=this._makeAbs(t);var r=t.slice(-1)==="/";if(t.length>this.maxLength)return false;if(!this.stat&&y(this.cache,e)){var i=this.cache[e];if(Array.isArray(i))i="DIR";if(!r||i==="DIR")return i;if(r&&i==="FILE")return false}var s;var o=this.statCache[e];if(!o){var a;try{a=n.lstatSync(e)}catch(t){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR")){this.statCache[e]=false;return false}}if(a&&a.isSymbolicLink()){try{o=n.statSync(e)}catch(t){o=a}}else{o=a}}this.statCache[e]=o;var i=true;if(o)i=o.isDirectory()?"DIR":"FILE";this.cache[e]=this.cache[e]||i;if(r&&i==="FILE")return false;return i};GlobSync.prototype._mark=function(t){return f.mark(this,t)};GlobSync.prototype._makeAbs=function(t){return f.makeAbs(this,t)}},9132:t=>{"use strict";t.exports=clone;function clone(t){if(t===null||typeof t!=="object")return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}},552:(t,e,r)=>{var n=r(5747);var i=r(1290);var s=r(4410);var o=r(9132);var a=r(1669);var u;var c;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){u=Symbol.for("graceful-fs.queue");c=Symbol.for("graceful-fs.previous")}else{u="___graceful-fs.queue";c="___graceful-fs.previous"}function noop(){}function publishQueue(t,e){Object.defineProperty(t,u,{get:function(){return e}})}var l=noop;if(a.debuglog)l=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))l=function(){var t=a.format.apply(a,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: ");console.error(t)};if(!n[u]){var h=global[u]||[];publishQueue(n,h);n.close=function(t){function close(e,r){return t.call(n,e,function(t){if(!t){retry()}if(typeof r==="function")r.apply(this,arguments)})}Object.defineProperty(close,c,{value:t});return close}(n.close);n.closeSync=function(t){function closeSync(e){t.apply(n,arguments);retry()}Object.defineProperty(closeSync,c,{value:t});return closeSync}(n.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",function(){l(n[u]);r(2357).equal(n[u].length,0)})}}if(!global[u]){publishQueue(global,n[u])}t.exports=patch(o(n));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched){t.exports=patch(n);n.__patched=true}function patch(t){i(t);t.gracefulify=patch;t.createReadStream=createReadStream;t.createWriteStream=createWriteStream;var e=t.readFile;t.readFile=readFile;function readFile(t,r,n){if(typeof r==="function")n=r,r=null;return go$readFile(t,r,n);function go$readFile(t,r,n){return e(t,r,function(e){if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))enqueue([go$readFile,[t,r,n]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}})}}var r=t.writeFile;t.writeFile=writeFile;function writeFile(t,e,n,i){if(typeof n==="function")i=n,n=null;return go$writeFile(t,e,n,i);function go$writeFile(t,e,n,i){return r(t,e,n,function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$writeFile,[t,e,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}var n=t.appendFile;if(n)t.appendFile=appendFile;function appendFile(t,e,r,i){if(typeof r==="function")i=r,r=null;return go$appendFile(t,e,r,i);function go$appendFile(t,e,r,i){return n(t,e,r,function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$appendFile,[t,e,r,i]]);else{if(typeof i==="function")i.apply(this,arguments);retry()}})}}var o=t.readdir;t.readdir=readdir;function readdir(t,e,r){var n=[t];if(typeof e!=="function"){n.push(e)}else{r=e}n.push(go$readdir$cb);return go$readdir(n);function go$readdir$cb(t,e){if(e&&e.sort)e.sort();if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readdir,[n]]);else{if(typeof r==="function")r.apply(this,arguments);retry()}}}function go$readdir(e){return o.apply(t,e)}if(process.version.substr(0,4)==="v0.8"){var a=s(t);ReadStream=a.ReadStream;WriteStream=a.WriteStream}var u=t.ReadStream;if(u){ReadStream.prototype=Object.create(u.prototype);ReadStream.prototype.open=ReadStream$open}var c=t.WriteStream;if(c){WriteStream.prototype=Object.create(c.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(t,"ReadStream",{get:function(){return ReadStream},set:function(t){ReadStream=t},enumerable:true,configurable:true});Object.defineProperty(t,"WriteStream",{get:function(){return WriteStream},set:function(t){WriteStream=t},enumerable:true,configurable:true});var l=ReadStream;Object.defineProperty(t,"FileReadStream",{get:function(){return l},set:function(t){l=t},enumerable:true,configurable:true});var h=WriteStream;Object.defineProperty(t,"FileWriteStream",{get:function(){return h},set:function(t){h=t},enumerable:true,configurable:true});function ReadStream(t,e){if(this instanceof ReadStream)return u.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var t=this;open(t.path,t.flags,t.mode,function(e,r){if(e){if(t.autoClose)t.destroy();t.emit("error",e)}else{t.fd=r;t.emit("open",r);t.read()}})}function WriteStream(t,e){if(this instanceof WriteStream)return c.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var t=this;open(t.path,t.flags,t.mode,function(e,r){if(e){t.destroy();t.emit("error",e)}else{t.fd=r;t.emit("open",r)}})}function createReadStream(e,r){return new t.ReadStream(e,r)}function createWriteStream(e,r){return new t.WriteStream(e,r)}var f=t.open;t.open=open;function open(t,e,r,n){if(typeof r==="function")n=r,r=null;return go$open(t,e,r,n);function go$open(t,e,r,n){return f(t,e,r,function(i,s){if(i&&(i.code==="EMFILE"||i.code==="ENFILE"))enqueue([go$open,[t,e,r,n]]);else{if(typeof n==="function")n.apply(this,arguments);retry()}})}}return t}function enqueue(t){l("ENQUEUE",t[0].name,t[1]);n[u].push(t)}function retry(){var t=n[u].shift();if(t){l("RETRY",t[0].name,t[1]);t[0].apply(null,t[1])}}},4410:(t,e,r)=>{var n=r(2413).Stream;t.exports=legacy;function legacy(t){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(e,r){if(!(this instanceof ReadStream))return new ReadStream(e,r);n.call(this);var i=this;this.path=e;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;r=r||{};var s=Object.keys(r);for(var o=0,a=s.length;o<a;o++){var u=s[o];this[u]=r[u]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}t.open(this.path,this.flags,this.mode,function(t,e){if(t){i.emit("error",t);i.readable=false;return}i.fd=e;i.emit("open",e);i._read()})}function WriteStream(e,r){if(!(this instanceof WriteStream))return new WriteStream(e,r);n.call(this);this.path=e;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;r=r||{};var i=Object.keys(r);for(var s=0,o=i.length;s<o;s++){var a=i[s];this[a]=r[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=t.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},1290:(t,e,r)=>{var n=r(7619);var i=process.cwd;var s=null;var o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!s)s=i.call(process);return s};try{process.cwd()}catch(t){}var a=process.chdir;process.chdir=function(t){s=null;a.call(process,t)};t.exports=patch;function patch(t){if(n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(t)}if(!t.lutimes){patchLutimes(t)}t.chown=chownFix(t.chown);t.fchown=chownFix(t.fchown);t.lchown=chownFix(t.lchown);t.chmod=chmodFix(t.chmod);t.fchmod=chmodFix(t.fchmod);t.lchmod=chmodFix(t.lchmod);t.chownSync=chownFixSync(t.chownSync);t.fchownSync=chownFixSync(t.fchownSync);t.lchownSync=chownFixSync(t.lchownSync);t.chmodSync=chmodFixSync(t.chmodSync);t.fchmodSync=chmodFixSync(t.fchmodSync);t.lchmodSync=chmodFixSync(t.lchmodSync);t.stat=statFix(t.stat);t.fstat=statFix(t.fstat);t.lstat=statFix(t.lstat);t.statSync=statFixSync(t.statSync);t.fstatSync=statFixSync(t.fstatSync);t.lstatSync=statFixSync(t.lstatSync);if(!t.lchmod){t.lchmod=function(t,e,r){if(r)process.nextTick(r)};t.lchmodSync=function(){}}if(!t.lchown){t.lchown=function(t,e,r,n){if(n)process.nextTick(n)};t.lchownSync=function(){}}if(o==="win32"){t.rename=function(e){return function(r,n,i){var s=Date.now();var o=0;e(r,n,function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM")&&Date.now()-s<6e4){setTimeout(function(){t.stat(n,function(t,s){if(t&&t.code==="ENOENT")e(r,n,CB);else i(a)})},o);if(o<100)o+=10;return}if(i)i(a)})}}(t.rename)}t.read=function(e){function read(r,n,i,s,o,a){var u;if(a&&typeof a==="function"){var c=0;u=function(l,h,f){if(l&&l.code==="EAGAIN"&&c<10){c++;return e.call(t,r,n,i,s,o,u)}a.apply(this,arguments)}}return e.call(t,r,n,i,s,o,u)}read.__proto__=e;return read}(t.read);t.readSync=function(e){return function(r,n,i,s,o){var a=0;while(true){try{return e.call(t,r,n,i,s,o)}catch(t){if(t.code==="EAGAIN"&&a<10){a++;continue}throw t}}}}(t.readSync);function patchLchmod(t){t.lchmod=function(e,r,i){t.open(e,n.O_WRONLY|n.O_SYMLINK,r,function(e,n){if(e){if(i)i(e);return}t.fchmod(n,r,function(e){t.close(n,function(t){if(i)i(e||t)})})})};t.lchmodSync=function(e,r){var i=t.openSync(e,n.O_WRONLY|n.O_SYMLINK,r);var s=true;var o;try{o=t.fchmodSync(i,r);s=false}finally{if(s){try{t.closeSync(i)}catch(t){}}else{t.closeSync(i)}}return o}}function patchLutimes(t){if(n.hasOwnProperty("O_SYMLINK")){t.lutimes=function(e,r,i,s){t.open(e,n.O_SYMLINK,function(e,n){if(e){if(s)s(e);return}t.futimes(n,r,i,function(e){t.close(n,function(t){if(s)s(e||t)})})})};t.lutimesSync=function(e,r,i){var s=t.openSync(e,n.O_SYMLINK);var o;var a=true;try{o=t.futimesSync(s,r,i);a=false}finally{if(a){try{t.closeSync(s)}catch(t){}}else{t.closeSync(s)}}return o}}else{t.lutimes=function(t,e,r,n){if(n)process.nextTick(n)};t.lutimesSync=function(){}}}function chmodFix(e){if(!e)return e;return function(r,n,i){return e.call(t,r,n,function(t){if(chownErOk(t))t=null;if(i)i.apply(this,arguments)})}}function chmodFixSync(e){if(!e)return e;return function(r,n){try{return e.call(t,r,n)}catch(t){if(!chownErOk(t))throw t}}}function chownFix(e){if(!e)return e;return function(r,n,i,s){return e.call(t,r,n,i,function(t){if(chownErOk(t))t=null;if(s)s.apply(this,arguments)})}}function chownFixSync(e){if(!e)return e;return function(r,n,i){try{return e.call(t,r,n,i)}catch(t){if(!chownErOk(t))throw t}}}function statFix(e){if(!e)return e;return function(r,n,i){if(typeof n==="function"){i=n;n=null}function callback(t,e){if(e){if(e.uid<0)e.uid+=4294967296;if(e.gid<0)e.gid+=4294967296}if(i)i.apply(this,arguments)}return n?e.call(t,r,n,callback):e.call(t,r,callback)}}function statFixSync(e){if(!e)return e;return function(r,n){var i=n?e.call(t,r,n):e.call(t,r);if(i.uid<0)i.uid+=4294967296;if(i.gid<0)i.gid+=4294967296;return i}}function chownErOk(t){if(!t)return true;if(t.code==="ENOSYS")return true;var e=!process.getuid||process.getuid()!==0;if(e){if(t.code==="EINVAL"||t.code==="EPERM")return true}return false}}},9442:(t,e,r)=>{var n=r(4586);var i=Object.create(null);var s=r(7197);t.exports=n(inflight);function inflight(t,e){if(i[t]){i[t].push(e);return null}else{i[t]=[e];return makeres(t)}}function makeres(t){return s(function RES(){var e=i[t];var r=e.length;var n=slice(arguments);try{for(var s=0;s<r;s++){e[s].apply(null,n)}}finally{if(e.length>r){e.splice(0,r);process.nextTick(function(){RES.apply(null,n)})}else{delete i[t]}}})}function slice(t){var e=t.length;var r=[];for(var n=0;n<e;n++)r[n]=t[n];return r}},6919:(t,e,r)=>{try{var n=r(1669);if(typeof n.inherits!=="function")throw"";t.exports=n.inherits}catch(e){t.exports=r(7526)}},7526:t=>{if(typeof Object.create==="function"){t.exports=function inherits(t,e){if(e){t.super_=e;t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{t.exports=function inherits(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype;t.prototype=new r;t.prototype.constructor=t}}}},1923:(t,e)=>{e.parse=e.decode=decode;e.stringify=e.encode=encode;e.safe=safe;e.unsafe=unsafe;var r=typeof process!=="undefined"&&process.platform==="win32"?"\r\n":"\n";function encode(t,e){var n=[];var i="";if(typeof e==="string"){e={section:e,whitespace:false}}else{e=e||{};e.whitespace=e.whitespace===true}var s=e.whitespace?" = ":"=";Object.keys(t).forEach(function(e,o,a){var u=t[e];if(u&&Array.isArray(u)){u.forEach(function(t){i+=safe(e+"[]")+s+safe(t)+"\n"})}else if(u&&typeof u==="object"){n.push(e)}else{i+=safe(e)+s+safe(u)+r}});if(e.section&&i.length){i="["+safe(e.section)+"]"+r+i}n.forEach(function(n,s,o){var a=dotSplit(n).join("\\.");var u=(e.section?e.section+".":"")+a;var c=encode(t[n],{section:u,whitespace:e.whitespace});if(i.length&&c.length){i+=r}i+=c});return i}function dotSplit(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function decode(t){var e={};var r=e;var n=null;var i=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;var s=t.split(/[\r\n]+/g);s.forEach(function(t,s,o){if(!t||t.match(/^\s*[;#]/))return;var a=t.match(i);if(!a)return;if(a[1]!==undefined){n=unsafe(a[1]);r=e[n]=e[n]||{};return}var u=unsafe(a[2]);var c=a[3]?unsafe(a[4]):true;switch(c){case"true":case"false":case"null":c=JSON.parse(c)}if(u.length>2&&u.slice(-2)==="[]"){u=u.substring(0,u.length-2);if(!r[u]){r[u]=[]}else if(!Array.isArray(r[u])){r[u]=[r[u]]}}if(Array.isArray(r[u])){r[u].push(c)}else{r[u]=c}});Object.keys(e).filter(function(t,r,n){if(!e[t]||typeof e[t]!=="object"||Array.isArray(e[t])){return false}var i=dotSplit(t);var s=e;var o=i.pop();var a=o.replace(/\\\./g,".");i.forEach(function(t,e,r){if(!s[t]||typeof s[t]!=="object")s[t]={};s=s[t]});if(s===e&&a===o){return false}s[a]=e[t];return true}).forEach(function(t,r,n){delete e[t]});return e}function isQuoted(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function safe(t){return typeof t!=="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&isQuoted(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function unsafe(t,e){t=(t||"").trim();if(isQuoted(t)){if(t.charAt(0)==="'"){t=t.substr(1,t.length-2)}try{t=JSON.parse(t)}catch(t){}}else{var r=false;var n="";for(var i=0,s=t.length;i<s;i++){var o=t.charAt(i);if(r){if("\\;#".indexOf(o)!==-1){n+=o}else{n+="\\"+o}r=false}else if(";#".indexOf(o)!==-1){break}else if(o==="\\"){r=true}else{n+=o}}if(r){n+="\\"}return n.trim()}return t}},228:(t,e,r)=>{var n=r(5747);var i;if(process.platform==="win32"||global.TESTING_WINDOWS){i=r(7214)}else{i=r(5211)}t.exports=isexe;isexe.sync=sync;function isexe(t,e,r){if(typeof e==="function"){r=e;e={}}if(!r){if(typeof Promise!=="function"){throw new TypeError("callback not provided")}return new Promise(function(r,n){isexe(t,e||{},function(t,e){if(t){n(t)}else{r(e)}})})}i(t,e||{},function(t,n){if(t){if(t.code==="EACCES"||e&&e.ignoreErrors){t=null;n=false}}r(t,n)})}function sync(t,e){try{return i.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES"){return false}else{throw t}}}},5211:(t,e,r)=>{t.exports=isexe;isexe.sync=sync;var n=r(5747);function isexe(t,e,r){n.stat(t,function(t,n){r(t,t?false:checkStat(n,e))})}function sync(t,e){return checkStat(n.statSync(t),e)}function checkStat(t,e){return t.isFile()&&checkMode(t,e)}function checkMode(t,e){var r=t.mode;var n=t.uid;var i=t.gid;var s=e.uid!==undefined?e.uid:process.getuid&&process.getuid();var o=e.gid!==undefined?e.gid:process.getgid&&process.getgid();var a=parseInt("100",8);var u=parseInt("010",8);var c=parseInt("001",8);var l=a|u;var h=r&c||r&u&&i===o||r&a&&n===s||r&l&&s===0;return h}},7214:(t,e,r)=>{t.exports=isexe;isexe.sync=sync;var n=r(5747);function checkPathExt(t,e){var r=e.pathExt!==undefined?e.pathExt:process.env.PATHEXT;if(!r){return true}r=r.split(";");if(r.indexOf("")!==-1){return true}for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i){return true}}return false}function checkStat(t,e,r){if(!t.isSymbolicLink()&&!t.isFile()){return false}return checkPathExt(e,r)}function isexe(t,e,r){n.stat(t,function(n,i){r(n,n?false:checkStat(i,t,e))})}function sync(t,e){return checkStat(n.statSync(t),t,e)}},9439:t=>{"use strict";const{FORCE_COLOR:e,NODE_DISABLE_COLORS:r,TERM:n}=process.env;const i={enabled:!r&&n!=="dumb"&&e!=="0",reset:init(0,0),bold:init(1,22),dim:init(2,22),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),grey:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49)};function run(t,e){let r=0,n,i="",s="";for(;r<t.length;r++){n=t[r];i+=n.open;s+=n.close;if(e.includes(n.close)){e=e.replace(n.rgx,n.close+n.open)}}return i+e+s}function chain(t,e){let r={has:t,keys:e};r.reset=i.reset.bind(r);r.bold=i.bold.bind(r);r.dim=i.dim.bind(r);r.italic=i.italic.bind(r);r.underline=i.underline.bind(r);r.inverse=i.inverse.bind(r);r.hidden=i.hidden.bind(r);r.strikethrough=i.strikethrough.bind(r);r.black=i.black.bind(r);r.red=i.red.bind(r);r.green=i.green.bind(r);r.yellow=i.yellow.bind(r);r.blue=i.blue.bind(r);r.magenta=i.magenta.bind(r);r.cyan=i.cyan.bind(r);r.white=i.white.bind(r);r.gray=i.gray.bind(r);r.grey=i.grey.bind(r);r.bgBlack=i.bgBlack.bind(r);r.bgRed=i.bgRed.bind(r);r.bgGreen=i.bgGreen.bind(r);r.bgYellow=i.bgYellow.bind(r);r.bgBlue=i.bgBlue.bind(r);r.bgMagenta=i.bgMagenta.bind(r);r.bgCyan=i.bgCyan.bind(r);r.bgWhite=i.bgWhite.bind(r);return r}function init(t,e){let r={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){if(this!==void 0&&this.has!==void 0){this.has.includes(t)||(this.has.push(t),this.keys.push(r));return e===void 0?this:i.enabled?run(this.keys,e+""):e+""}return e===void 0?chain([t],[r]):i.enabled?run([r],e+""):e+""}}t.exports=i},9566:(t,e,r)=>{t.exports=minimatch;minimatch.Minimatch=Minimatch;var n={sep:"/"};try{n=r(5622)}catch(t){}var i=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var s=r(3197);var o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var a="[^/]";var u=a+"*?";var c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var l="(?:(?!(?:\\/|^)\\.).)*?";var h=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce(function(t,e){t[e]=true;return t},{})}var f=/\/+/;minimatch.filter=filter;function filter(t,e){e=e||{};return function(r,n,i){return minimatch(r,t,e)}}function ext(t,e){t=t||{};e=e||{};var r={};Object.keys(e).forEach(function(t){r[t]=e[t]});Object.keys(t).forEach(function(e){r[e]=t[e]});return r}minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return minimatch;var e=minimatch;var r=function minimatch(r,n,i){return e.minimatch(r,n,ext(t,i))};r.Minimatch=function Minimatch(r,n){return new e.Minimatch(r,ext(t,n))};return r};Minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return Minimatch;return minimatch.defaults(t).Minimatch};function minimatch(t,e,r){if(typeof e!=="string"){throw new TypeError("glob pattern string required")}if(!r)r={};if(!r.nocomment&&e.charAt(0)==="#"){return false}if(e.trim()==="")return t==="";return new Minimatch(e,r).match(t)}function Minimatch(t,e){if(!(this instanceof Minimatch)){return new Minimatch(t,e)}if(typeof t!=="string"){throw new TypeError("glob pattern string required")}if(!e)e={};t=t.trim();if(n.sep!=="/"){t=t.split(n.sep).join("/")}this.options=e;this.set=[];this.pattern=t;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made)return;var t=this.pattern;var e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();var r=this.globSet=this.braceExpand();if(e.debug)this.debug=console.error;this.debug(this.pattern,r);r=this.globParts=r.map(function(t){return t.split(f)});this.debug(this.pattern,r);r=r.map(function(t,e,r){return t.map(this.parse,this)},this);this.debug(this.pattern,r);r=r.filter(function(t){return t.indexOf(false)===-1});this.debug(this.pattern,r);this.set=r}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var t=this.pattern;var e=false;var r=this.options;var n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++){e=!e;n++}if(n)this.pattern=t.substr(n);this.negate=e}minimatch.braceExpand=function(t,e){return braceExpand(t,e)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(t,e){if(!e){if(this instanceof Minimatch){e=this.options}else{e={}}}t=typeof t==="undefined"?this.pattern:t;if(typeof t==="undefined"){throw new TypeError("undefined pattern")}if(e.nobrace||!t.match(/\{.*\}/)){return[t]}return s(t)}Minimatch.prototype.parse=parse;var d={};function parse(t,e){if(t.length>1024*64){throw new TypeError("pattern is too long")}var r=this.options;if(!r.noglobstar&&t==="**")return i;if(t==="")return"";var n="";var s=!!r.nocase;var c=false;var l=[];var f=[];var p;var m=false;var y=-1;var g=-1;var v=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var w=this;function clearStateChar(){if(p){switch(p){case"*":n+=u;s=true;break;case"?":n+=a;s=true;break;default:n+="\\"+p;break}w.debug("clearStateChar %j %j",p,n);p=false}}for(var b=0,E=t.length,O;b<E&&(O=t.charAt(b));b++){this.debug("%s\t%s %s %j",t,b,n,O);if(c&&h[O]){n+="\\"+O;c=false;continue}switch(O){case"/":return false;case"\\":clearStateChar();c=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",t,b,n,O);if(m){this.debug("  in class");if(O==="!"&&b===g+1)O="^";n+=O;continue}w.debug("call clearStateChar %j",p);clearStateChar();p=O;if(r.noext)clearStateChar();continue;case"(":if(m){n+="(";continue}if(!p){n+="\\(";continue}l.push({type:p,start:b-1,reStart:n.length,open:o[p].open,close:o[p].close});n+=p==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",p,n);p=false;continue;case")":if(m||!l.length){n+="\\)";continue}clearStateChar();s=true;var D=l.pop();n+=D.close;if(D.type==="!"){f.push(D)}D.reEnd=n.length;continue;case"|":if(m||!l.length||c){n+="\\|";c=false;continue}clearStateChar();n+="|";continue;case"[":clearStateChar();if(m){n+="\\"+O;continue}m=true;g=b;y=n.length;n+=O;continue;case"]":if(b===g+1||!m){n+="\\"+O;c=false;continue}if(m){var M=t.substring(g+1,b);try{RegExp("["+M+"]")}catch(t){var T=this.parse(M,d);n=n.substr(0,y)+"\\["+T[0]+"\\]";s=s||T[1];m=false;continue}}s=true;m=false;n+=O;continue;default:clearStateChar();if(c){c=false}else if(h[O]&&!(O==="^"&&m)){n+="\\"}n+=O}}if(m){M=t.substr(g+1);T=this.parse(M,d);n=n.substr(0,y)+"\\["+T[0];s=s||T[1]}for(D=l.pop();D;D=l.pop()){var S=n.slice(D.reStart+D.open.length);this.debug("setting tail",n,D);S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){if(!r){r="\\"}return e+e+r+"|"});this.debug("tail=%j\n   %s",S,S,D,n);var I=D.type==="*"?u:D.type==="?"?a:"\\"+D.type;s=true;n=n.slice(0,D.reStart)+I+"\\("+S}clearStateChar();if(c){n+="\\\\"}var x=false;switch(n.charAt(0)){case".":case"[":case"(":x=true}for(var N=f.length-1;N>-1;N--){var L=f[N];var _=n.slice(0,L.reStart);var A=n.slice(L.reStart,L.reEnd-8);var P=n.slice(L.reEnd-8,L.reEnd);var C=n.slice(L.reEnd);P+=C;var F=_.split("(").length-1;var X=C;for(b=0;b<F;b++){X=X.replace(/\)[+*?]?/,"")}C=X;var R="";if(C===""&&e!==d){R="$"}var j=_+A+C+R+P;n=j}if(n!==""&&s){n="(?=.)"+n}if(x){n=v+n}if(e===d){return[n,s]}if(!s){return globUnescape(t)}var B=r.nocase?"i":"";try{var $=new RegExp("^"+n+"$",B)}catch(t){return new RegExp("$.")}$._glob=t;$._src=n;return $}minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var t=this.set;if(!t.length){this.regexp=false;return this.regexp}var e=this.options;var r=e.noglobstar?u:e.dot?c:l;var n=e.nocase?"i":"";var s=t.map(function(t){return t.map(function(t){return t===i?r:typeof t==="string"?regExpEscape(t):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$";if(this.negate)s="^(?!"+s+").*$";try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=false}return this.regexp}minimatch.match=function(t,e,r){r=r||{};var n=new Minimatch(e,r);t=t.filter(function(t){return n.match(t)});if(n.options.nonull&&!t.length){t.push(e)}return t};Minimatch.prototype.match=match;function match(t,e){this.debug("match",t,this.pattern);if(this.comment)return false;if(this.empty)return t==="";if(t==="/"&&e)return true;var r=this.options;if(n.sep!=="/"){t=t.split(n.sep).join("/")}t=t.split(f);this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var s;var o;for(o=t.length-1;o>=0;o--){s=t[o];if(s)break}for(o=0;o<i.length;o++){var a=i[o];var u=t;if(r.matchBase&&a.length===1){u=[s]}var c=this.matchOne(u,a,e);if(c){if(r.flipNegate)return true;return!this.negate}}if(r.flipNegate)return false;return this.negate}Minimatch.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e});this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,u=e.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=e[o];var l=t[s];this.debug(e,c,l);if(c===false)return false;if(c===i){this.debug("GLOBSTAR",[e,c,l]);var h=s;var f=o+1;if(f===u){this.debug("** at the end");for(;s<a;s++){if(t[s]==="."||t[s]===".."||!n.dot&&t[s].charAt(0)===".")return false}return true}while(h<a){var d=t[h];this.debug("\nglobstar while",t,h,e,f,d);if(this.matchOne(t.slice(h),e.slice(f),r)){this.debug("globstar found match!",h,a,d);return true}else{if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue");h++}}if(r){this.debug("\n>>> no match, partial?",t,h,e,f);if(h===a)return true}return false}var p;if(typeof c==="string"){if(n.nocase){p=l.toLowerCase()===c.toLowerCase()}else{p=l===c}this.debug("string match",c,l,p)}else{p=l.match(c);this.debug("pattern match",c,l,p)}if(!p)return false}if(s===a&&o===u){return true}else if(s===a){return r}else if(o===u){var m=s===a-1&&t[s]==="";return m}throw new Error("wtf?")};function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},5912:t=>{t.exports=function(t,e){if(!e)e={};var r={bools:{},strings:{},unknownFn:null};if(typeof e["unknown"]==="function"){r.unknownFn=e["unknown"]}if(typeof e["boolean"]==="boolean"&&e["boolean"]){r.allBools=true}else{[].concat(e["boolean"]).filter(Boolean).forEach(function(t){r.bools[t]=true})}var n={};Object.keys(e.alias||{}).forEach(function(t){n[t]=[].concat(e.alias[t]);n[t].forEach(function(e){n[e]=[t].concat(n[t].filter(function(t){return e!==t}))})});[].concat(e.string).filter(Boolean).forEach(function(t){r.strings[t]=true;if(n[t]){r.strings[n[t]]=true}});var i=e["default"]||{};var s={_:[]};Object.keys(r.bools).forEach(function(t){setArg(t,i[t]===undefined?false:i[t])});var o=[];if(t.indexOf("--")!==-1){o=t.slice(t.indexOf("--")+1);t=t.slice(0,t.indexOf("--"))}function argDefined(t,e){return r.allBools&&/^--[^=]+$/.test(e)||r.strings[t]||r.bools[t]||n[t]}function setArg(t,e,i){if(i&&r.unknownFn&&!argDefined(t,i)){if(r.unknownFn(i)===false)return}var o=!r.strings[t]&&isNumber(e)?Number(e):e;setKey(s,t.split("."),o);(n[t]||[]).forEach(function(t){setKey(s,t.split("."),o)})}function setKey(t,e,n){var i=t;for(var s=0;s<e.length-1;s++){var o=e[s];if(o==="__proto__")return;if(i[o]===undefined)i[o]={};if(i[o]===Object.prototype||i[o]===Number.prototype||i[o]===String.prototype)i[o]={};if(i[o]===Array.prototype)i[o]=[];i=i[o]}var o=e[e.length-1];if(o==="__proto__")return;if(i===Object.prototype||i===Number.prototype||i===String.prototype)i={};if(i===Array.prototype)i=[];if(i[o]===undefined||r.bools[o]||typeof i[o]==="boolean"){i[o]=n}else if(Array.isArray(i[o])){i[o].push(n)}else{i[o]=[i[o],n]}}function aliasIsBoolean(t){return n[t].some(function(t){return r.bools[t]})}for(var a=0;a<t.length;a++){var u=t[a];if(/^--.+=/.test(u)){var c=u.match(/^--([^=]+)=([\s\S]*)$/);var l=c[1];var h=c[2];if(r.bools[l]){h=h!=="false"}setArg(l,h,u)}else if(/^--no-.+/.test(u)){var l=u.match(/^--no-(.+)/)[1];setArg(l,false,u)}else if(/^--.+/.test(u)){var l=u.match(/^--(.+)/)[1];var f=t[a+1];if(f!==undefined&&!/^-/.test(f)&&!r.bools[l]&&!r.allBools&&(n[l]?!aliasIsBoolean(l):true)){setArg(l,f,u);a++}else if(/^(true|false)$/.test(f)){setArg(l,f==="true",u);a++}else{setArg(l,r.strings[l]?"":true,u)}}else if(/^-[^-]+/.test(u)){var d=u.slice(1,-1).split("");var p=false;for(var m=0;m<d.length;m++){var f=u.slice(m+2);if(f==="-"){setArg(d[m],f,u);continue}if(/[A-Za-z]/.test(d[m])&&/=/.test(f)){setArg(d[m],f.split("=")[1],u);p=true;break}if(/[A-Za-z]/.test(d[m])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(f)){setArg(d[m],f,u);p=true;break}if(d[m+1]&&d[m+1].match(/\W/)){setArg(d[m],u.slice(m+2),u);p=true;break}else{setArg(d[m],r.strings[d[m]]?"":true,u)}}var l=u.slice(-1)[0];if(!p&&l!=="-"){if(t[a+1]&&!/^(-|--)[^-]/.test(t[a+1])&&!r.bools[l]&&(n[l]?!aliasIsBoolean(l):true)){setArg(l,t[a+1],u);a++}else if(t[a+1]&&/^(true|false)$/.test(t[a+1])){setArg(l,t[a+1]==="true",u);a++}else{setArg(l,r.strings[l]?"":true,u)}}}else{if(!r.unknownFn||r.unknownFn(u)!==false){s._.push(r.strings["_"]||!isNumber(u)?u:Number(u))}if(e.stopEarly){s._.push.apply(s._,t.slice(a+1));break}}}Object.keys(i).forEach(function(t){if(!hasKey(s,t.split("."))){setKey(s,t.split("."),i[t]);(n[t]||[]).forEach(function(e){setKey(s,e.split("."),i[t])})}});if(e["--"]){s["--"]=new Array;o.forEach(function(t){s["--"].push(t)})}else{o.forEach(function(t){s._.push(t)})}return s};function hasKey(t,e){var r=t;e.slice(0,-1).forEach(function(t){r=r[t]||{}});var n=e[e.length-1];return n in r}function isNumber(t){if(typeof t==="number")return true;if(/^0x[0-9a-f]+$/i.test(t))return true;return/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}},7369:t=>{"use strict";t.exports=function(t){try{return t()}catch(t){}}},7197:(t,e,r)=>{var n=r(4586);t.exports=n(once);t.exports.strict=n(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(t){var e=function(){if(e.called)return e.value;e.called=true;return e.value=t.apply(this,arguments)};e.called=false;return e}function onceStrict(t){var e=function(){if(e.called)throw new Error(e.onceError);e.called=true;return e.value=t.apply(this,arguments)};var r=t.name||"Function wrapped with `once`";e.onceError=r+" shouldn't be called more than once";e.called=false;return e}},1323:t=>{"use strict";function posix(t){return t.charAt(0)==="/"}function win32(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var r=e.exec(t);var n=r[1]||"";var i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}t.exports=process.platform==="win32"?win32:posix;t.exports.posix=posix;t.exports.win32=win32},2170:t=>{"use strict";t.exports=(t=>{t=t||{};const e=t.env||process.env;const r=t.platform||process.platform;if(r!=="win32"){return"PATH"}return Object.keys(e).find(t=>t.toUpperCase()==="PATH")||"Path"})},399:t=>{"use strict";class DatePart{constructor({token:t,date:e,parts:r,locales:n}){this.token=t;this.date=e||new Date;this.parts=r||[this];this.locales=n||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find((e,r)=>r>t&&e instanceof DatePart)}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find((t,r)=>r>e&&t instanceof DatePart)}toString(){return String(this.date)}}t.exports=DatePart},7967:(t,e,r)=>{"use strict";const n=r(399);const i=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends n{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+i(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}}t.exports=Day},4102:(t,e,r)=>{"use strict";const n=r(399);class Hours extends n{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},7517:(t,e,r)=>{"use strict";t.exports={DatePart:r(399),Meridiem:r(2725),Day:r(7967),Hours:r(4102),Milliseconds:r(6945),Minutes:r(7829),Month:r(8608),Seconds:r(812),Year:r(5227)}},2725:(t,e,r)=>{"use strict";const n=r(399);class Meridiem extends n{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},6945:(t,e,r)=>{"use strict";const n=r(399);class Milliseconds extends n{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},7829:(t,e,r)=>{"use strict";const n=r(399);class Minutes extends n{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},8608:(t,e,r)=>{"use strict";const n=r(399);class Month extends n{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}}t.exports=Month},812:(t,e,r)=>{"use strict";const n=r(399);class Seconds extends n{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},5227:(t,e,r)=>{"use strict";const n=r(399);class Year extends n{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},935:(t,e,r)=>{"use strict";function asyncGeneratorStep(t,e,r,n,i,s,o){try{var a=t[s](o);var u=a.value}catch(t){r(t);return}if(a.done){e(u)}else{Promise.resolve(u).then(n,i)}}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function _next(t){asyncGeneratorStep(s,n,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,n,i,_next,_throw,"throw",t)}_next(undefined)})}}const n=r(9439);const i=r(5876);const s=r(332),o=s.erase,a=s.cursor;const u=r(7483),c=u.style,l=u.clear,h=u.figures,f=u.wrap,d=u.entriesToDisplay;const p=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]);const m=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);const y=(t,e)=>{const r=t.findIndex(t=>t.value===e||t.title===e);return r>-1?r:undefined};class AutocompletePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:y(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=c.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=l("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=p(this.suggestions,t);else this.value=this.fallback.value;this.fire()}complete(t){var e=this;return _asyncToGenerator(function*(){const r=e.completing=e.suggest(e.input,e.choices);const n=yield r;if(e.completing!==r)return;e.suggestions=n.map((t,e,r)=>({title:m(r,e),value:p(r,e),description:t.description}));e.completing=false;const i=Math.max(n.length-1,0);e.moveSelect(Math.min(i,e.select));t&&t()})()}reset(){this.input="";this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()});this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,e){let r=this.input.slice(0,this.cursor);let n=this.input.slice(this.cursor);this.input=`${r}${t}${n}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let e=this.input.slice(this.cursor);this.input=`${t}${e}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let e=this.input.slice(this.cursor+1);this.input=`${t}${e}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,e,r,i){let s;let o=r?h.arrowUp:i?h.arrowDown:" ";let a=e?n.cyan().underline(t.title):t.title;o=(e?n.cyan(h.pointer)+" ":"  ")+o;if(t.description){s=` - ${t.description}`;if(o.length+a.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1){s="\n"+f(t.description,{margin:3,width:this.out.columns})}}return o+" "+a+n.gray(s||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();let t=d(this.select,this.choices.length,this.limit),e=t.startIndex,r=t.endIndex;this.outputText=[c.symbol(this.done,this.aborted,this.exited),n.bold(this.msg),c.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const t=this.suggestions.slice(e,r).map((t,n)=>this.renderOption(t,this.select===n+e,n===0&&e>0,n+e===r-1&&r<this.choices.length)).join("\n");this.outputText+=`\n`+(t||n.gray(this.fallback.title))}this.out.write(o.line+a.to(0)+this.outputText)}}t.exports=AutocompletePrompt},2040:(t,e,r)=>{"use strict";const n=r(9439);const i=r(332),s=i.cursor;const o=r(4047);const a=r(7483),u=a.clear,c=a.style,l=a.figures;class AutocompleteMultiselectPrompt extends o{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=u("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true});const e=this.filteredOptions.findIndex(e=>e===t);this.cursor=e<0?0:e;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,e){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${l.arrowUp}/${l.arrowDown}: Highlight option\n    ${l.arrowLeft}/${l.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:n.gray("Enter something to filter")}\n`}renderOption(t,e,r){let i;if(e.disabled)i=t===r?n.gray().underline(e.title):n.strikethrough().gray(e.title);else i=t===r?n.cyan().underline(e.title):e.title;return(e.selected?n.green(l.radioOn):l.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done){return this.value.filter(t=>t.selected).map(t=>t.title).join(", ")}const t=[n.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(n.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(s.hide);super.render();let t=[c.symbol(this.done,this.aborted),n.bold(this.msg),c.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=n.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},5680:(t,e,r)=>{"use strict";const n=r(9439);const i=r(5876);const s=r(7483),o=s.style,a=s.clear;const u=r(332),c=u.erase,l=u.cursor;class ConfirmPrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,e){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);else this.out.write(a(this.outputText,this.out.columns));super.render();this.outputText=[o.symbol(this.done,this.aborted),n.bold(this.msg),o.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:n.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(c.line+l.to(0)+this.outputText)}}t.exports=ConfirmPrompt},3031:(t,e,r)=>{"use strict";function asyncGeneratorStep(t,e,r,n,i,s,o){try{var a=t[s](o);var u=a.value}catch(t){r(t);return}if(a.done){e(u)}else{Promise.resolve(u).then(n,i)}}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function _next(t){asyncGeneratorStep(s,n,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,n,i,_next,_throw,"throw",t)}_next(undefined)})}}const n=r(9439);const i=r(5876);const s=r(7483),o=s.style,a=s.clear,u=s.figures;const c=r(332),l=c.erase,h=c.cursor;const f=r(7517),d=f.DatePart,p=f.Meridiem,m=f.Day,y=f.Hours,g=f.Milliseconds,v=f.Minutes,w=f.Month,b=f.Seconds,E=f.Year;const O=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const D={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new m(t),3:t=>new w(t),4:t=>new E(t),5:t=>new p(t),6:t=>new y(t),7:t=>new v(t),8:t=>new b(t),9:t=>new g(t)};const M={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(M,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=a("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let e;this.parts=[];while(e=O.exec(t)){let t=e.shift();let r=e.findIndex(t=>t!=null);this.parts.push(r in D?D[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce((t,e)=>{if(typeof e==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=e;else t.push(e);return t},[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof d));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator(function*(){let e=yield t.validator(t.value);if(typeof e==="string"){t.errorMsg=e;e=false}t.error=!e})()}submit(){var t=this;return _asyncToGenerator(function*(){yield t.validate();if(t.error){t.color="red";t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()})()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(t=>t instanceof d));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(a(this.outputText,this.out.columns));super.render();this.outputText=[o.symbol(this.done,this.aborted),n.bold(this.msg),o.delimiter(false),this.parts.reduce((t,e,r)=>t.concat(r===this.cursor&&!this.done?n.cyan().underline(e.toString()):e),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce((t,e,r)=>t+`\n${r?` `:u.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(l.line+h.to(0)+this.outputText)}}t.exports=DatePrompt},9956:(t,e,r)=>{"use strict";t.exports={TextPrompt:r(5430),SelectPrompt:r(8856),TogglePrompt:r(9692),DatePrompt:r(3031),NumberPrompt:r(8831),MultiselectPrompt:r(4047),AutocompletePrompt:r(935),AutocompleteMultiselectPrompt:r(2040),ConfirmPrompt:r(5680)}},4047:(t,e,r)=>{"use strict";const n=r(9439);const i=r(332),s=i.cursor;const o=r(5876);const a=r(7483),u=a.clear,c=a.figures,l=a.style,h=a.wrap,f=a.entriesToDisplay;class MultiselectPrompt extends o{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map((t,e)=>{if(typeof t==="string")t={title:t,value:e};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}});this.clear=u("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map(t=>!t.selected);this.cursor=0;this.fire();this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter(t=>t.selected);if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(e=>e.selected=t);this.render()}_(t,e){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${c.arrowUp}/${c.arrowDown}: Highlight option\n`+`    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,e,r,i){const s=(e.selected?n.green(c.radioOn):c.radioOff)+" "+i+" ";let o,a;if(e.disabled){o=t===r?n.gray().underline(e.title):n.strikethrough().gray(e.title)}else{o=t===r?n.cyan().underline(e.title):e.title;if(t===r&&e.description){a=` - ${e.description}`;if(s.length+o.length+a.length>=this.out.columns||e.description.split(/\r?\n/).length>1){a="\n"+h(e.description,{margin:s.length,width:this.out.columns})}}}return s+o+n.gray(a||"")}paginateOptions(t){if(t.length===0){return n.red("No matches for this query.")}let e=f(this.cursor,t.length,this.optionsPerPage),r=e.startIndex,i=e.endIndex;let s,o=[];for(let e=r;e<i;e++){if(e===r&&r>0){s=c.arrowUp}else if(e===i-1&&i<t.length){s=c.arrowDown}else{s=" "}o.push(this.renderOption(this.cursor,t[e],e,s))}return"\n"+o.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter(t=>t.selected).map(t=>t.title).join(", ")}const t=[n.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(n.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(s.hide);super.render();let t=[l.symbol(this.done,this.aborted),n.bold(this.msg),l.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=n.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=MultiselectPrompt},8831:(t,e,r)=>{"use strict";function asyncGeneratorStep(t,e,r,n,i,s,o){try{var a=t[s](o);var u=a.value}catch(t){r(t);return}if(a.done){e(u)}else{Promise.resolve(u).then(n,i)}}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function _next(t){asyncGeneratorStep(s,n,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,n,i,_next,_throw,"throw",t)}_next(undefined)})}}const n=r(9439);const i=r(5876);const s=r(332),o=s.cursor,a=s.erase;const u=r(7483),c=u.style,l=u.figures,h=u.clear,f=u.lines;const d=/[0-9]/;const p=t=>t!==undefined;const m=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};class NumberPrompt extends i{constructor(t={}){super(t);this.transform=c.render(t.style);this.msg=t.message;this.initial=p(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=p(t.min)?t.min:-Infinity;this.max=p(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=n.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${m(t,this.round)}`);this._value=m(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||d.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}validate(){var t=this;return _asyncToGenerator(function*(){let e=yield t.validator(t.value);if(typeof e===`string`){t.errorMsg=e;e=false}t.error=!e})()}submit(){var t=this;return _asyncToGenerator(function*(){yield t.validate();if(t.error){t.color=`red`;t.fire();t.render();return}let e=t.value;t.value=e!==``?e:t.initial;t.done=true;t.aborted=false;t.error=false;t.fire();t.render();t.out.write(`\n`);t.close()})()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=r;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(o.down(f(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns));this.out.write(h(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[c.symbol(this.done,this.aborted),n.bold(this.msg),c.delimiter(this.done),!this.done||!this.done&&!this.placeholder?n[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce((t,e,r)=>t+`\n${r?` `:l.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(a.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore)}}t.exports=NumberPrompt},5876:(t,e,r)=>{"use strict";const n=r(1058);const i=r(7483),s=i.action;const o=r(8614);const a=r(332),u=a.beep,c=a.cursor;const l=r(9439);class Prompt extends o{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const e=n.createInterface({input:this.in,escapeCodeTimeout:50});n.emitKeypressEvents(this.in,e);if(this.in.isTTY)this.in.setRawMode(true);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const i=(t,e)=>{let n=s(e,r);if(n===false){this._&&this._(t,e)}else if(typeof this[n]==="function"){this[n](e)}else{this.bell()}};this.close=(()=>{this.out.write(c.show);this.in.removeListener("keypress",i);if(this.in.isTTY)this.in.setRawMode(false);e.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true});this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(u)}render(){this.onRender(l);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},8856:(t,e,r)=>{"use strict";const n=r(9439);const i=r(5876);const s=r(7483),o=s.style,a=s.clear,u=s.figures,c=s.wrap,l=s.entriesToDisplay;const h=r(332),f=h.cursor;class SelectPrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map((t,e)=>{if(typeof t==="string")t={title:t,value:e};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}});this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=a("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(f.hide);else this.out.write(a(this.outputText,this.out.columns));super.render();let t=l(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,r=t.endIndex;this.outputText=[o.symbol(this.done,this.aborted),n.bold(this.msg),o.delimiter(false),this.done?this.selection.title:this.selection.disabled?n.yellow(this.warn):n.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let t=e;t<r;t++){let i,s,o="",a=this.choices[t];if(t===e&&e>0){s=u.arrowUp}else if(t===r-1&&r<this.choices.length){s=u.arrowDown}else{s=" "}if(a.disabled){i=this.cursor===t?n.gray().underline(a.title):n.strikethrough().gray(a.title);s=(this.cursor===t?n.bold().gray(u.pointer)+" ":"  ")+s}else{i=this.cursor===t?n.cyan().underline(a.title):a.title;s=(this.cursor===t?n.cyan(u.pointer)+" ":"  ")+s;if(a.description&&this.cursor===t){o=` - ${a.description}`;if(s.length+i.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1){o="\n"+c(a.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${s} ${i}${n.gray(o)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},5430:(t,e,r)=>{"use strict";function asyncGeneratorStep(t,e,r,n,i,s,o){try{var a=t[s](o);var u=a.value}catch(t){r(t);return}if(a.done){e(u)}else{Promise.resolve(u).then(n,i)}}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function _next(t){asyncGeneratorStep(s,n,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,n,i,_next,_throw,"throw",t)}_next(undefined)})}}const n=r(9439);const i=r(5876);const s=r(332),o=s.erase,a=s.cursor;const u=r(7483),c=u.style,l=u.clear,h=u.lines,f=u.figures;class TextPrompt extends i{constructor(t={}){super(t);this.transform=c.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=l(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=n.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator(function*(){let e=yield t.validator(t.value);if(typeof e===`string`){t.errorMsg=e;e=false}t.error=!e})()}submit(){var t=this;return _asyncToGenerator(function*(){t.value=t.value||t.initial;t.cursorOffset=0;t.cursor=t.rendered.length;yield t.validate();if(t.error){t.red=true;t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,e){let r=this.value.slice(0,this.cursor);let n=this.value.slice(this.cursor);this.value=`${r}${t}${n}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let e=this.value.slice(this.cursor);this.value=`${t}${e}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let e=this.value.slice(this.cursor+1);this.value=`${t}${e}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(a.down(h(this.outputError,this.out.columns)-1)+l(this.outputError,this.out.columns));this.out.write(l(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[c.symbol(this.done,this.aborted),n.bold(this.msg),c.delimiter(this.done),this.red?n.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce((t,e,r)=>t+`\n${r?" ":f.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(o.line+a.to(0)+this.outputText+a.save+this.outputError+a.restore+a.move(this.cursorOffset,0))}}t.exports=TextPrompt},9692:(t,e,r)=>{"use strict";const n=r(9439);const i=r(5876);const s=r(7483),o=s.style,a=s.clear;const u=r(332),c=u.cursor,l=u.erase;class TogglePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,e){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);else this.out.write(a(this.outputText,this.out.columns));super.render();this.outputText=[o.symbol(this.done,this.aborted),n.bold(this.msg),o.delimiter(this.done),this.value?this.inactive:n.cyan().underline(this.inactive),n.gray("/"),this.value?n.cyan().underline(this.active):this.active].join(" ");this.out.write(l.line+c.to(0)+this.outputText)}}t.exports=TogglePrompt},6598:(t,e,r)=>{"use strict";function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e){n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){ownKeys(Object(r),true).forEach(function(e){_defineProperty(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function _defineProperty(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function _createForOfIteratorHelper(t,r){var i=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&typeof t.length==="number"){if(i)t=i;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=true,c=false,l;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=true;l=t},f:function f(){try{if(!u&&i.return!=null)i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,e){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}function _arrayLikeToArray(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function asyncGeneratorStep(t,e,r,n,i,s,o){try{var a=t[s](o);var u=a.value}catch(t){r(t);return}if(a.done){e(u)}else{Promise.resolve(u).then(n,i)}}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function _next(t){asyncGeneratorStep(s,n,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,n,i,_next,_throw,"throw",t)}_next(undefined)})}}const n=r(4591);const i=["suggest","format","onState","validate","onRender","type"];const s=()=>{};function prompt(){return _prompt.apply(this,arguments)}function _prompt(){_prompt=_asyncToGenerator(function*(t=[],{onSubmit:e=s,onCancel:r=s}={}){const o={};const a=prompt._override||{};t=[].concat(t);let u,c,l,h,f,d;const p=function(){var t=_asyncToGenerator(function*(t,e,r=false){if(!r&&t.validate&&t.validate(e)!==true){return}return t.format?yield t.format(e,o):e});return function getFormattedAnswer(e,r){return t.apply(this,arguments)}}();var m=_createForOfIteratorHelper(t),y;try{for(m.s();!(y=m.n()).done;){c=y.value;var g=c;h=g.name;f=g.type;if(typeof f==="function"){f=yield f(u,_objectSpread({},o),c);c["type"]=f}if(!f)continue;for(let t in c){if(i.includes(t))continue;let e=c[t];c[t]=typeof e==="function"?yield e(u,_objectSpread({},o),d):e}d=c;if(typeof c.message!=="string"){throw new Error("prompt message is required")}var v=c;h=v.name;f=v.type;if(n[f]===void 0){throw new Error(`prompt type (${f}) is not defined`)}if(a[c.name]!==undefined){u=yield p(c,a[c.name]);if(u!==undefined){o[h]=u;continue}}try{u=prompt._injected?getInjectedAnswer(prompt._injected,c.initial):yield n[f](c);o[h]=u=yield p(c,u,true);l=yield e(c,u,o)}catch(t){l=!(yield r(c,o))}if(l)return o}}catch(t){m.e(t)}finally{m.f()}return o});return _prompt.apply(this,arguments)}function getInjectedAnswer(t,e){const r=t.shift();if(r instanceof Error){throw r}return r===undefined?e:r}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:n,inject:inject,override:override})},4591:(t,e,r)=>{"use strict";const n=e;const i=r(9956);const s=t=>t;function toPrompt(t,e,r={}){return new Promise((n,o)=>{const a=new i[t](e);const u=r.onAbort||s;const c=r.onSubmit||s;const l=r.onExit||s;a.on("state",e.onState||s);a.on("submit",t=>n(c(t)));a.on("exit",t=>n(l(t)));a.on("abort",t=>o(u(t)))})}n.text=(t=>toPrompt("TextPrompt",t));n.password=(t=>{t.style="password";return n.text(t)});n.invisible=(t=>{t.style="invisible";return n.text(t)});n.number=(t=>toPrompt("NumberPrompt",t));n.date=(t=>toPrompt("DatePrompt",t));n.confirm=(t=>toPrompt("ConfirmPrompt",t));n.list=(t=>{const e=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(e).map(t=>t.trim())})});n.toggle=(t=>toPrompt("TogglePrompt",t));n.select=(t=>toPrompt("SelectPrompt",t));n.multiselect=(t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter(t=>t.selected).map(t=>t.value);return toPrompt("MultiselectPrompt",t,{onAbort:e,onSubmit:e})});n.autocompleteMultiselect=(t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter(t=>t.selected).map(t=>t.value);return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})});const o=(t,e)=>Promise.resolve(e.filter(e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));n.autocomplete=(t=>{t.suggest=t.suggest||o;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)})},8692:t=>{"use strict";t.exports=((t,e)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false})},3513:(t,e,r)=>{"use strict";function _createForOfIteratorHelper(t,r){var i=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&typeof t.length==="number"){if(i)t=i;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=true,c=false,l;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=true;l=t},f:function f(){try{if(!u&&i.return!=null)i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,e){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor)r=t.constructor.name;if(r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}function _arrayLikeToArray(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const n=r(8760);const i=r(332),s=i.erase,o=i.cursor;const a=t=>[...n(t)].length;t.exports=function(t,e){if(!e)return s.line+o.to(0);let r=0;const n=t.split(/\r?\n/);var i=_createForOfIteratorHelper(n),u;try{for(i.s();!(u=i.n()).done;){let t=u.value;r+=1+Math.floor(Math.max(a(t)-1,0)/e)}}catch(t){i.e(t)}finally{i.f()}return s.lines(r)}},393:t=>{"use strict";t.exports=((t,e,r)=>{r=r||e;let n=Math.min(e-r,t-Math.floor(r/2));if(n<0)n=0;let i=Math.min(n+r,e);return{startIndex:n,endIndex:i}})},6217:t=>{"use strict";const e={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"};const r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};const n=process.platform==="win32"?r:e;t.exports=n},7483:(t,e,r)=>{"use strict";t.exports={action:r(8692),clear:r(3513),style:r(5012),strip:r(8760),figures:r(6217),lines:r(1688),wrap:r(1705),entriesToDisplay:r(393)}},1688:(t,e,r)=>{"use strict";const n=r(8760);t.exports=function(t,e){let r=String(n(t)||"").split(/\r?\n/);if(!e)return r.length;return r.map(t=>Math.ceil(t.length/e)).reduce((t,e)=>t+e)}},8760:t=>{"use strict";t.exports=(t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(e,"g");return typeof t==="string"?t.replace(r,""):t})},5012:(t,e,r)=>{"use strict";const n=r(9439);const i=r(6217);const s=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const o=t=>s[t]||s.default;const a=Object.freeze({aborted:n.red(i.cross),done:n.green(i.tick),exited:n.yellow(i.cross),default:n.cyan("?")});const u=(t,e,r)=>e?a.aborted:r?a.exited:t?a.done:a.default;const c=t=>n.gray(t?i.ellipsis:i.pointerSmall);const l=(t,e)=>n.gray(t?e?i.pointerSmall:"+":i.line);t.exports={styles:s,render:o,symbols:a,symbol:u,delimiter:c,item:l}},1705:t=>{"use strict";t.exports=((t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"";const n=e.width;return(t||"").split(/\r?\n/g).map(t=>t.split(/\s+/g).reduce((t,e)=>{if(e.length+r.length>=n||t[t.length-1].length+e.length+1<n)t[t.length-1]+=` ${e}`;else t.push(`${r}${e}`);return t},[r]).join("\n")).join("\n")})},1112:(t,e,r)=>{function isNodeLT(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return false;if(t[e]>r[e])return true}return false}t.exports=isNodeLT("8.6.0")?r(6598):r(9590)},8994:t=>{"use strict";class DatePart{constructor({token:t,date:e,parts:r,locales:n}){this.token=t;this.date=e||new Date;this.parts=r||[this];this.locales=n||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find((e,r)=>r>t&&e instanceof DatePart)}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find((t,r)=>r>e&&t instanceof DatePart)}toString(){return String(this.date)}}t.exports=DatePart},5513:(t,e,r)=>{"use strict";const n=r(8994);const i=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends n{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+i(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}}t.exports=Day},9270:(t,e,r)=>{"use strict";const n=r(8994);class Hours extends n{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},3052:(t,e,r)=>{"use strict";t.exports={DatePart:r(8994),Meridiem:r(8135),Day:r(5513),Hours:r(9270),Milliseconds:r(2397),Minutes:r(9246),Month:r(5763),Seconds:r(5579),Year:r(4191)}},8135:(t,e,r)=>{"use strict";const n=r(8994);class Meridiem extends n{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},2397:(t,e,r)=>{"use strict";const n=r(8994);class Milliseconds extends n{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},9246:(t,e,r)=>{"use strict";const n=r(8994);class Minutes extends n{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},5763:(t,e,r)=>{"use strict";const n=r(8994);class Month extends n{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}}t.exports=Month},5579:(t,e,r)=>{"use strict";const n=r(8994);class Seconds extends n{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},4191:(t,e,r)=>{"use strict";const n=r(8994);class Year extends n{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},514:(t,e,r)=>{"use strict";const n=r(9439);const i=r(9126);const{erase:s,cursor:o}=r(332);const{style:a,clear:u,figures:c,wrap:l,entriesToDisplay:h}=r(9807);const f=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]);const d=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);const p=(t,e)=>{const r=t.findIndex(t=>t.value===e||t.title===e);return r>-1?r:undefined};class AutocompletePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:p(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=a.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=u("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=f(this.suggestions,t);else this.value=this.fallback.value;this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices);const r=await e;if(this.completing!==e)return;this.suggestions=r.map((t,e,r)=>({title:d(r,e),value:f(r,e),description:t.description}));this.completing=false;const n=Math.max(r.length-1,0);this.moveSelect(Math.min(n,this.select));t&&t()}reset(){this.input="";this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()});this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,e){let r=this.input.slice(0,this.cursor);let n=this.input.slice(this.cursor);this.input=`${r}${t}${n}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let e=this.input.slice(this.cursor);this.input=`${t}${e}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let e=this.input.slice(this.cursor+1);this.input=`${t}${e}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,e,r,i){let s;let o=r?c.arrowUp:i?c.arrowDown:" ";let a=e?n.cyan().underline(t.title):t.title;o=(e?n.cyan(c.pointer)+" ":"  ")+o;if(t.description){s=` - ${t.description}`;if(o.length+a.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1){s="\n"+l(t.description,{margin:3,width:this.out.columns})}}return o+" "+a+n.gray(s||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(o.hide);else this.out.write(u(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:e}=h(this.select,this.choices.length,this.limit);this.outputText=[a.symbol(this.done,this.aborted,this.exited),n.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const r=this.suggestions.slice(t,e).map((r,n)=>this.renderOption(r,this.select===n+t,n===0&&t>0,n+t===e-1&&e<this.choices.length)).join("\n");this.outputText+=`\n`+(r||n.gray(this.fallback.title))}this.out.write(s.line+o.to(0)+this.outputText)}}t.exports=AutocompletePrompt},7685:(t,e,r)=>{"use strict";const n=r(9439);const{cursor:i}=r(332);const s=r(92);const{clear:o,style:a,figures:u}=r(9807);class AutocompleteMultiselectPrompt extends s{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=o("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true});const e=this.filteredOptions.findIndex(e=>e===t);this.cursor=e<0?0:e;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,e){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${u.arrowUp}/${u.arrowDown}: Highlight option\n    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:n.gray("Enter something to filter")}\n`}renderOption(t,e,r){let i;if(e.disabled)i=t===r?n.gray().underline(e.title):n.strikethrough().gray(e.title);else i=t===r?n.cyan().underline(e.title):e.title;return(e.selected?n.green(u.radioOn):u.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done){return this.value.filter(t=>t.selected).map(t=>t.title).join(", ")}const t=[n.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(n.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(i.hide);super.render();let t=[a.symbol(this.done,this.aborted),n.bold(this.msg),a.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=n.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=o(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},3037:(t,e,r)=>{const n=r(9439);const i=r(9126);const{style:s,clear:o}=r(9807);const{erase:a,cursor:u}=r(332);class ConfirmPrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,e){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(u.hide);else this.out.write(o(this.outputText,this.out.columns));super.render();this.outputText=[s.symbol(this.done,this.aborted),n.bold(this.msg),s.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:n.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(a.line+u.to(0)+this.outputText)}}t.exports=ConfirmPrompt},5048:(t,e,r)=>{"use strict";const n=r(9439);const i=r(9126);const{style:s,clear:o,figures:a}=r(9807);const{erase:u,cursor:c}=r(332);const{DatePart:l,Meridiem:h,Day:f,Hours:d,Milliseconds:p,Minutes:m,Month:y,Seconds:g,Year:v}=r(3052);const w=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const b={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new f(t),3:t=>new y(t),4:t=>new v(t),5:t=>new h(t),6:t=>new d(t),7:t=>new m(t),8:t=>new g(t),9:t=>new p(t)};const E={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(E,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=o("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let e;this.parts=[];while(e=w.exec(t)){let t=e.shift();let r=e.findIndex(t=>t!=null);this.parts.push(r in b?b[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce((t,e)=>{if(typeof e==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=e;else t.push(e);return t},[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof l));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t==="string"){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color="red";this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(t=>t instanceof l));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);else this.out.write(o(this.outputText,this.out.columns));super.render();this.outputText=[s.symbol(this.done,this.aborted),n.bold(this.msg),s.delimiter(false),this.parts.reduce((t,e,r)=>t.concat(r===this.cursor&&!this.done?n.cyan().underline(e.toString()):e),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce((t,e,r)=>t+`\n${r?` `:a.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(u.line+c.to(0)+this.outputText)}}t.exports=DatePrompt},6529:(t,e,r)=>{"use strict";t.exports={TextPrompt:r(1551),SelectPrompt:r(6515),TogglePrompt:r(181),DatePrompt:r(5048),NumberPrompt:r(3686),MultiselectPrompt:r(92),AutocompletePrompt:r(514),AutocompleteMultiselectPrompt:r(7685),ConfirmPrompt:r(3037)}},92:(t,e,r)=>{"use strict";const n=r(9439);const{cursor:i}=r(332);const s=r(9126);const{clear:o,figures:a,style:u,wrap:c,entriesToDisplay:l}=r(9807);class MultiselectPrompt extends s{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map((t,e)=>{if(typeof t==="string")t={title:t,value:e};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}});this.clear=o("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map(t=>!t.selected);this.cursor=0;this.fire();this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter(t=>t.selected);if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(e=>e.selected=t);this.render()}_(t,e){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${a.arrowUp}/${a.arrowDown}: Highlight option\n`+`    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,e,r,i){const s=(e.selected?n.green(a.radioOn):a.radioOff)+" "+i+" ";let o,u;if(e.disabled){o=t===r?n.gray().underline(e.title):n.strikethrough().gray(e.title)}else{o=t===r?n.cyan().underline(e.title):e.title;if(t===r&&e.description){u=` - ${e.description}`;if(s.length+o.length+u.length>=this.out.columns||e.description.split(/\r?\n/).length>1){u="\n"+c(e.description,{margin:s.length,width:this.out.columns})}}}return s+o+n.gray(u||"")}paginateOptions(t){if(t.length===0){return n.red("No matches for this query.")}let{startIndex:e,endIndex:r}=l(this.cursor,t.length,this.optionsPerPage);let i,s=[];for(let n=e;n<r;n++){if(n===e&&e>0){i=a.arrowUp}else if(n===r-1&&r<t.length){i=a.arrowDown}else{i=" "}s.push(this.renderOption(this.cursor,t[n],n,i))}return"\n"+s.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter(t=>t.selected).map(t=>t.title).join(", ")}const t=[n.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(n.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(i.hide);super.render();let t=[u.symbol(this.done,this.aborted),n.bold(this.msg),u.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=n.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=o(t,this.out.columns)}}t.exports=MultiselectPrompt},3686:(t,e,r)=>{const n=r(9439);const i=r(9126);const{cursor:s,erase:o}=r(332);const{style:a,figures:u,clear:c,lines:l}=r(9807);const h=/[0-9]/;const f=t=>t!==undefined;const d=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};class NumberPrompt extends i{constructor(t={}){super(t);this.transform=a.render(t.style);this.msg=t.message;this.initial=f(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=f(t.min)?t.min:-Infinity;this.max=f(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=n.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${d(t,this.round)}`);this._value=d(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||h.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color=`red`;this.fire();this.render();return}let t=this.value;this.value=t!==``?t:this.initial;this.done=true;this.aborted=false;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=r;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(s.down(l(this.outputError,this.out.columns)-1)+c(this.outputError,this.out.columns));this.out.write(c(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[a.symbol(this.done,this.aborted),n.bold(this.msg),a.delimiter(this.done),!this.done||!this.done&&!this.placeholder?n[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce((t,e,r)=>t+`\n${r?` `:u.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(o.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore)}}t.exports=NumberPrompt},9126:(t,e,r)=>{"use strict";const n=r(1058);const{action:i}=r(9807);const s=r(8614);const{beep:o,cursor:a}=r(332);const u=r(9439);class Prompt extends s{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const e=n.createInterface({input:this.in,escapeCodeTimeout:50});n.emitKeypressEvents(this.in,e);if(this.in.isTTY)this.in.setRawMode(true);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const s=(t,e)=>{let n=i(e,r);if(n===false){this._&&this._(t,e)}else if(typeof this[n]==="function"){this[n](e)}else{this.bell()}};this.close=(()=>{this.out.write(a.show);this.in.removeListener("keypress",s);if(this.in.isTTY)this.in.setRawMode(false);e.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true});this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(o)}render(){this.onRender(u);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},6515:(t,e,r)=>{"use strict";const n=r(9439);const i=r(9126);const{style:s,clear:o,figures:a,wrap:u,entriesToDisplay:c}=r(9807);const{cursor:l}=r(332);class SelectPrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map((t,e)=>{if(typeof t==="string")t={title:t,value:e};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}});this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=o("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);else this.out.write(o(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:e}=c(this.cursor,this.choices.length,this.optionsPerPage);this.outputText=[s.symbol(this.done,this.aborted),n.bold(this.msg),s.delimiter(false),this.done?this.selection.title:this.selection.disabled?n.yellow(this.warn):n.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let r=t;r<e;r++){let i,s,o="",c=this.choices[r];if(r===t&&t>0){s=a.arrowUp}else if(r===e-1&&e<this.choices.length){s=a.arrowDown}else{s=" "}if(c.disabled){i=this.cursor===r?n.gray().underline(c.title):n.strikethrough().gray(c.title);s=(this.cursor===r?n.bold().gray(a.pointer)+" ":"  ")+s}else{i=this.cursor===r?n.cyan().underline(c.title):c.title;s=(this.cursor===r?n.cyan(a.pointer)+" ":"  ")+s;if(c.description&&this.cursor===r){o=` - ${c.description}`;if(s.length+i.length+o.length>=this.out.columns||c.description.split(/\r?\n/).length>1){o="\n"+u(c.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${s} ${i}${n.gray(o)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},1551:(t,e,r)=>{const n=r(9439);const i=r(9126);const{erase:s,cursor:o}=r(332);const{style:a,clear:u,lines:c,figures:l}=r(9807);class TextPrompt extends i{constructor(t={}){super(t);this.transform=a.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=u(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=n.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){this.value=this.value||this.initial;this.cursorOffset=0;this.cursor=this.rendered.length;await this.validate();if(this.error){this.red=true;this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,e){let r=this.value.slice(0,this.cursor);let n=this.value.slice(this.cursor);this.value=`${r}${t}${n}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let e=this.value.slice(this.cursor);this.value=`${t}${e}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let e=this.value.slice(this.cursor+1);this.value=`${t}${e}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(o.down(c(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns));this.out.write(u(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[a.symbol(this.done,this.aborted),n.bold(this.msg),a.delimiter(this.done),this.red?n.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce((t,e,r)=>t+`\n${r?" ":l.pointerSmall} ${n.red().italic(e)}`,``)}this.out.write(s.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0))}}t.exports=TextPrompt},181:(t,e,r)=>{const n=r(9439);const i=r(9126);const{style:s,clear:o}=r(9807);const{cursor:a,erase:u}=r(332);class TogglePrompt extends i{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,e){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);else this.out.write(o(this.outputText,this.out.columns));super.render();this.outputText=[s.symbol(this.done,this.aborted),n.bold(this.msg),s.delimiter(this.done),this.value?this.inactive:n.cyan().underline(this.inactive),n.gray("/"),this.value?n.cyan().underline(this.active):this.active].join(" ");this.out.write(u.line+a.to(0)+this.outputText)}}t.exports=TogglePrompt},9590:(t,e,r)=>{"use strict";const n=r(4450);const i=["suggest","format","onState","validate","onRender","type"];const s=()=>{};async function prompt(t=[],{onSubmit:e=s,onCancel:r=s}={}){const o={};const a=prompt._override||{};t=[].concat(t);let u,c,l,h,f,d;const p=async(t,e,r=false)=>{if(!r&&t.validate&&t.validate(e)!==true){return}return t.format?await t.format(e,o):e};for(c of t){({name:h,type:f}=c);if(typeof f==="function"){f=await f(u,{...o},c);c["type"]=f}if(!f)continue;for(let t in c){if(i.includes(t))continue;let e=c[t];c[t]=typeof e==="function"?await e(u,{...o},d):e}d=c;if(typeof c.message!=="string"){throw new Error("prompt message is required")}({name:h,type:f}=c);if(n[f]===void 0){throw new Error(`prompt type (${f}) is not defined`)}if(a[c.name]!==undefined){u=await p(c,a[c.name]);if(u!==undefined){o[h]=u;continue}}try{u=prompt._injected?getInjectedAnswer(prompt._injected,c.initial):await n[f](c);o[h]=u=await p(c,u,true);l=await e(c,u,o)}catch(t){l=!await r(c,o)}if(l)return o}return o}function getInjectedAnswer(t,e){const r=t.shift();if(r instanceof Error){throw r}return r===undefined?e:r}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:n,inject:inject,override:override})},4450:(t,e,r)=>{"use strict";const n=e;const i=r(6529);const s=t=>t;function toPrompt(t,e,r={}){return new Promise((n,o)=>{const a=new i[t](e);const u=r.onAbort||s;const c=r.onSubmit||s;const l=r.onExit||s;a.on("state",e.onState||s);a.on("submit",t=>n(c(t)));a.on("exit",t=>n(l(t)));a.on("abort",t=>o(u(t)))})}n.text=(t=>toPrompt("TextPrompt",t));n.password=(t=>{t.style="password";return n.text(t)});n.invisible=(t=>{t.style="invisible";return n.text(t)});n.number=(t=>toPrompt("NumberPrompt",t));n.date=(t=>toPrompt("DatePrompt",t));n.confirm=(t=>toPrompt("ConfirmPrompt",t));n.list=(t=>{const e=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(e).map(t=>t.trim())})});n.toggle=(t=>toPrompt("TogglePrompt",t));n.select=(t=>toPrompt("SelectPrompt",t));n.multiselect=(t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter(t=>t.selected).map(t=>t.value);return toPrompt("MultiselectPrompt",t,{onAbort:e,onSubmit:e})});n.autocompleteMultiselect=(t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter(t=>t.selected).map(t=>t.value);return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})});const o=(t,e)=>Promise.resolve(e.filter(e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));n.autocomplete=(t=>{t.suggest=t.suggest||o;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)})},8573:t=>{"use strict";t.exports=((t,e)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false})},6747:(t,e,r)=>{"use strict";const n=r(2714);const{erase:i,cursor:s}=r(332);const o=t=>[...n(t)].length;t.exports=function(t,e){if(!e)return i.line+s.to(0);let r=0;const n=t.split(/\r?\n/);for(let t of n){r+=1+Math.floor(Math.max(o(t)-1,0)/e)}return i.lines(r)}},3297:t=>{"use strict";t.exports=((t,e,r)=>{r=r||e;let n=Math.min(e-r,t-Math.floor(r/2));if(n<0)n=0;let i=Math.min(n+r,e);return{startIndex:n,endIndex:i}})},3034:t=>{"use strict";const e={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"};const r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};const n=process.platform==="win32"?r:e;t.exports=n},9807:(t,e,r)=>{"use strict";t.exports={action:r(8573),clear:r(6747),style:r(7357),strip:r(2714),figures:r(3034),lines:r(4413),wrap:r(2492),entriesToDisplay:r(3297)}},4413:(t,e,r)=>{"use strict";const n=r(2714);t.exports=function(t,e){let r=String(n(t)||"").split(/\r?\n/);if(!e)return r.length;return r.map(t=>Math.ceil(t.length/e)).reduce((t,e)=>t+e)}},2714:t=>{"use strict";t.exports=(t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(e,"g");return typeof t==="string"?t.replace(r,""):t})},7357:(t,e,r)=>{"use strict";const n=r(9439);const i=r(3034);const s=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const o=t=>s[t]||s.default;const a=Object.freeze({aborted:n.red(i.cross),done:n.green(i.tick),exited:n.yellow(i.cross),default:n.cyan("?")});const u=(t,e,r)=>e?a.aborted:r?a.exited:t?a.done:a.default;const c=t=>n.gray(t?i.ellipsis:i.pointerSmall);const l=(t,e)=>n.gray(t?e?i.pointerSmall:"+":i.line);t.exports={styles:s,render:o,symbols:a,symbol:u,delimiter:c,item:l}},2492:t=>{"use strict";t.exports=((t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"";const n=e.width;return(t||"").split(/\r?\n/g).map(t=>t.split(/\s+/g).reduce((t,e)=>{if(e.length+r.length>=n||t[t.length-1].length+e.length+1<n)t[t.length-1]+=` ${e}`;else t.push(`${r}${e}`);return t},[r]).join("\n")).join("\n")})},8271:(t,e,r)=>{var n=r(7563);var i=r(5622).join;var s=r(5134);var o="/etc";var a=process.platform==="win32";var u=a?process.env.USERPROFILE:process.env.HOME;t.exports=function(t,e,c,l){if("string"!==typeof t)throw new Error("rc(name): name *must* be string");if(!c)c=r(5912)(process.argv.slice(2));e=("string"===typeof e?n.json(e):e)||{};l=l||n.parse;var h=n.env(t+"_");var f=[e];var d=[];function addConfigFile(t){if(d.indexOf(t)>=0)return;var e=n.file(t);if(e){f.push(l(e));d.push(t)}}if(!a)[i(o,t,"config"),i(o,t+"rc")].forEach(addConfigFile);if(u)[i(u,".config",t,"config"),i(u,".config",t),i(u,"."+t,"config"),i(u,"."+t+"rc")].forEach(addConfigFile);addConfigFile(n.find("."+t+"rc"));if(h.config)addConfigFile(h.config);if(c.config)addConfigFile(c.config);return s.apply(null,f.concat([h,c,d.length?{configs:d,config:d[d.length-1]}:undefined]))}},7563:(t,e,r)=>{"use strict";var n=r(5747);var i=r(1923);var s=r(5622);var o=r(6397);var a=e.parse=function(t){if(/^\s*{/.test(t))return JSON.parse(o(t));return i.parse(t)};var u=e.file=function(){var t=[].slice.call(arguments).filter(function(t){return t!=null});for(var e in t)if("string"!==typeof t[e])return;var r=s.join.apply(null,t);var i;try{return n.readFileSync(r,"utf-8")}catch(t){return}};var c=e.json=function(){var t=u.apply(null,arguments);return t?a(t):null};var l=e.env=function(t,e){e=e||process.env;var r={};var n=t.length;for(var i in e){if(i.toLowerCase().indexOf(t.toLowerCase())===0){var s=i.substring(n).split("__");var o;while((o=s.indexOf(""))>-1){s.splice(o,1)}var a=r;s.forEach(function _buildSubObj(t,r){if(!t||typeof a!=="object")return;if(r===s.length-1)a[t]=e[i];if(a[t]===undefined)a[t]={};a=a[t]})}}return r};var h=e.find=function(){var t=s.join.apply(null,[].slice.call(arguments));function find(t,e){var r=s.join(t,e);try{n.statSync(r);return r}catch(r){if(s.dirname(t)!==t)return find(s.dirname(t),e)}}return find(process.cwd(),t)}},6397:t=>{"use strict";var e=1;var r=2;function stripWithoutWhitespace(){return""}function stripWithWhitespace(t,e,r){return t.slice(e,r).replace(/\S/g," ")}t.exports=function(t,n){n=n||{};var i;var s;var o=false;var a=false;var u=0;var c="";var l=n.whitespace===false?stripWithoutWhitespace:stripWithWhitespace;for(var h=0;h<t.length;h++){i=t[h];s=t[h+1];if(!a&&i==='"'){var f=t[h-1]==="\\"&&t[h-2]!=="\\";if(!f){o=!o}}if(o){continue}if(!a&&i+s==="//"){c+=t.slice(u,h);u=h;a=e;h++}else if(a===e&&i+s==="\r\n"){h++;a=false;c+=l(t,u,h);u=h;continue}else if(a===e&&i==="\n"){a=false;c+=l(t,u,h);u=h}else if(!a&&i+s==="/*"){c+=t.slice(u,h);u=h;a=r;h++;continue}else if(a===r&&i+s==="*/"){h++;a=false;c+=l(t,u,h+1);u=h+1;continue}}return c+(a?l(t.substr(u)):t.substr(u))}},4955:(t,e,r)=>{const n=r(3118).Buffer;function decodeBase64(t){return n.from(t,"base64").toString("utf8")}function encodeBase64(t){return n.from(t,"utf8").toString("base64")}t.exports={decodeBase64:decodeBase64,encodeBase64:encodeBase64}},1384:(t,e,r)=>{var n=r(8835);var i=r(4955);var s=i.decodeBase64;var o=i.encodeBase64;var a=":_authToken";var u=":username";var c=":_password";t.exports=function(){var t;var e;if(arguments.length>=2){t=arguments[0];e=arguments[1]}else if(typeof arguments[0]==="string"){t=arguments[0]}else{e=arguments[0]}e=e||{};e.npmrc=e.npmrc||r(8271)("npm",{registry:"https://registry.npmjs.org/"});t=t||e.npmrc.registry;return getRegistryAuthInfo(t,e)||getLegacyAuthInfo(e.npmrc)};function getRegistryAuthInfo(t,e){var r=n.parse(t,false,true);var i;while(i!=="/"&&r.pathname!==i){i=r.pathname||"/";var s="//"+r.host+i.replace(/\/$/,"");var o=getAuthInfoForUrl(s,e.npmrc);if(o){return o}if(!e.recursive){return/\/$/.test(t)?undefined:getRegistryAuthInfo(n.resolve(t,"."),e)}r.pathname=n.resolve(normalizePath(i),"..")||"/"}return undefined}function getLegacyAuthInfo(t){if(t._auth){return{token:t._auth,type:"Basic"}}return undefined}function normalizePath(t){return t[t.length-1]==="/"?t:t+"/"}function getAuthInfoForUrl(t,e){var r=getBearerToken(e[t+a]||e[t+"/"+a]);if(r){return r}var n=e[t+u]||e[t+"/"+u];var i=e[t+c]||e[t+"/"+c];var s=getTokenForUsernameAndPassword(n,i);if(s){return s}return undefined}function getBearerToken(t){if(!t){return undefined}var e=t.replace(/^\$\{?([^}]*)\}?$/,function(t,e){return process.env[e]});return{token:e,type:"Bearer"}}function getTokenForUsernameAndPassword(t,e){if(!t||!e){return undefined}var r=s(e.replace(/^\$\{?([^}]*)\}?$/,function(t,e){return process.env[e]}));var n=o(t+":"+r);return{token:n,type:"Basic",password:r,username:t}}},2447:(t,e,r)=>{"use strict";t.exports=function(t){var e=r(8271)("npm",{registry:"https://registry.npmjs.org/"});var n=e[t+":registry"]||e.registry;return n.slice(-1)==="/"?n:n+"/"}},3118:(t,e,r)=>{var n=r(4293);var i=n.Buffer;function copyProps(t,e){for(var r in t){e[r]=t[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){t.exports=n}else{copyProps(n,e);e.Buffer=SafeBuffer}function SafeBuffer(t,e,r){return i(t,e,r)}SafeBuffer.prototype=Object.create(i.prototype);copyProps(i,SafeBuffer);SafeBuffer.from=function(t,e,r){if(typeof t==="number"){throw new TypeError("Argument must not be a number")}return i(t,e,r)};SafeBuffer.alloc=function(t,e,r){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}var n=i(t);if(e!==undefined){if(typeof r==="string"){n.fill(e,r)}else{n.fill(e)}}else{n.fill(0)}return n};SafeBuffer.allocUnsafe=function(t){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}return i(t)};SafeBuffer.allocUnsafeSlow=function(t){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(t)}},9746:(t,e,r)=>{(function(t){t.parser=function(t,e){return new SAXParser(t,e)};t.SAXParser=SAXParser;t.SAXStream=SAXStream;t.createStream=createStream;t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function SAXParser(e,r){if(!(this instanceof SAXParser)){return new SAXParser(e,r)}var n=this;clearBuffers(n);n.q=n.c="";n.bufferCheckPosition=t.MAX_BUFFER_LENGTH;n.opt=r||{};n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags;n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase";n.tags=[];n.closed=n.closedRoot=n.sawRoot=false;n.tag=n.error=null;n.strict=!!e;n.noscript=!!(e||n.opt.noscript);n.state=p.BEGIN;n.strictEntities=n.opt.strictEntities;n.ENTITIES=n.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES);n.attribList=[];if(n.opt.xmlns){n.ns=Object.create(c)}n.trackPosition=n.opt.position!==false;if(n.trackPosition){n.position=n.line=n.column=0}emit(n,"onready")}if(!Object.create){Object.create=function(t){function F(){}F.prototype=t;var e=new F;return e}}if(!Object.keys){Object.keys=function(t){var e=[];for(var r in t)if(t.hasOwnProperty(r))e.push(r);return e}}function checkBufferLength(r){var n=Math.max(t.MAX_BUFFER_LENGTH,10);var i=0;for(var s=0,o=e.length;s<o;s++){var a=r[e[s]].length;if(a>n){switch(e[s]){case"textNode":closeText(r);break;case"cdata":emitNode(r,"oncdata",r.cdata);r.cdata="";break;case"script":emitNode(r,"onscript",r.script);r.script="";break;default:error(r,"Max buffer length exceeded: "+e[s])}}i=Math.max(i,a)}var u=t.MAX_BUFFER_LENGTH-i;r.bufferCheckPosition=u+r.position}function clearBuffers(t){for(var r=0,n=e.length;r<n;r++){t[e[r]]=""}}function flushBuffers(t){closeText(t);if(t.cdata!==""){emitNode(t,"oncdata",t.cdata);t.cdata=""}if(t.script!==""){emitNode(t,"onscript",t.script);t.script=""}}SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var n;try{n=r(2413).Stream}catch(t){n=function(){}}var i=t.EVENTS.filter(function(t){return t!=="error"&&t!=="end"});function createStream(t,e){return new SAXStream(t,e)}function SAXStream(t,e){if(!(this instanceof SAXStream)){return new SAXStream(t,e)}n.apply(this);this._parser=new SAXParser(t,e);this.writable=true;this.readable=true;var r=this;this._parser.onend=function(){r.emit("end")};this._parser.onerror=function(t){r.emit("error",t);r._parser.error=null};this._decoder=null;i.forEach(function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e){r.removeAllListeners(t);r._parser["on"+t]=e;return e}r.on(t,e)},enumerable:true,configurable:false})})}SAXStream.prototype=Object.create(n.prototype,{constructor:{value:SAXStream}});SAXStream.prototype.write=function(t){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(t)){if(!this._decoder){var e=r(4304).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}this._parser.write(t.toString());this.emit("data",t);return true};SAXStream.prototype.end=function(t){if(t&&t.length){this.write(t)}this._parser.end();return true};SAXStream.prototype.on=function(t,e){var r=this;if(!r._parser["on"+t]&&i.indexOf(t)!==-1){r._parser["on"+t]=function(){var e=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t);r.emit.apply(r,e)}}return n.prototype.on.call(r,t,e)};var s="[CDATA[";var o="DOCTYPE";var a="http://www.w3.org/XML/1998/namespace";var u="http://www.w3.org/2000/xmlns/";var c={xml:a,xmlns:u};var l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;var f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function isWhitespace(t){return t===" "||t==="\n"||t==="\r"||t==="\t"}function isQuote(t){return t==='"'||t==="'"}function isAttribEnd(t){return t===">"||isWhitespace(t)}function isMatch(t,e){return t.test(e)}function notMatch(t,e){return!isMatch(t,e)}var p=0;t.STATE={BEGIN:p++,BEGIN_WHITESPACE:p++,TEXT:p++,TEXT_ENTITY:p++,OPEN_WAKA:p++,SGML_DECL:p++,SGML_DECL_QUOTED:p++,DOCTYPE:p++,DOCTYPE_QUOTED:p++,DOCTYPE_DTD:p++,DOCTYPE_DTD_QUOTED:p++,COMMENT_STARTING:p++,COMMENT:p++,COMMENT_ENDING:p++,COMMENT_ENDED:p++,CDATA:p++,CDATA_ENDING:p++,CDATA_ENDING_2:p++,PROC_INST:p++,PROC_INST_BODY:p++,PROC_INST_ENDING:p++,OPEN_TAG:p++,OPEN_TAG_SLASH:p++,ATTRIB:p++,ATTRIB_NAME:p++,ATTRIB_NAME_SAW_WHITE:p++,ATTRIB_VALUE:p++,ATTRIB_VALUE_QUOTED:p++,ATTRIB_VALUE_CLOSED:p++,ATTRIB_VALUE_UNQUOTED:p++,ATTRIB_VALUE_ENTITY_Q:p++,ATTRIB_VALUE_ENTITY_U:p++,CLOSE_TAG:p++,CLOSE_TAG_SAW_WHITE:p++,SCRIPT:p++,SCRIPT_ENDING:p++};t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e];var n=typeof r==="number"?String.fromCharCode(r):r;t.ENTITIES[e]=n});for(var m in t.STATE){t.STATE[t.STATE[m]]=m}p=t.STATE;function emit(t,e,r){t[e]&&t[e](r)}function emitNode(t,e,r){if(t.textNode)closeText(t);emit(t,e,r)}function closeText(t){t.textNode=textopts(t.opt,t.textNode);if(t.textNode)emit(t,"ontext",t.textNode);t.textNode=""}function textopts(t,e){if(t.trim)e=e.trim();if(t.normalize)e=e.replace(/\s+/g," ");return e}function error(t,e){closeText(t);if(t.trackPosition){e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c}e=new Error(e);t.error=e;emit(t,"onerror",e);return t}function end(t){if(t.sawRoot&&!t.closedRoot)strictFail(t,"Unclosed root tag");if(t.state!==p.BEGIN&&t.state!==p.BEGIN_WHITESPACE&&t.state!==p.TEXT){error(t,"Unexpected end")}closeText(t);t.c="";t.closed=true;emit(t,"onend");SAXParser.call(t,t.strict,t.opt);return t}function strictFail(t,e){if(typeof t!=="object"||!(t instanceof SAXParser)){throw new Error("bad call to strictFail")}if(t.strict){error(t,e)}}function newTag(t){if(!t.strict)t.tagName=t.tagName[t.looseCase]();var e=t.tags[t.tags.length-1]||t;var r=t.tag={name:t.tagName,attributes:{}};if(t.opt.xmlns){r.ns=e.ns}t.attribList.length=0;emitNode(t,"onopentagstart",r)}function qname(t,e){var r=t.indexOf(":");var n=r<0?["",t]:t.split(":");var i=n[0];var s=n[1];if(e&&t==="xmlns"){i="xmlns";s=""}return{prefix:i,local:s}}function attrib(t){if(!t.strict){t.attribName=t.attribName[t.looseCase]()}if(t.attribList.indexOf(t.attribName)!==-1||t.tag.attributes.hasOwnProperty(t.attribName)){t.attribName=t.attribValue="";return}if(t.opt.xmlns){var e=qname(t.attribName,true);var r=e.prefix;var n=e.local;if(r==="xmlns"){if(n==="xml"&&t.attribValue!==a){strictFail(t,"xml: prefix must be bound to "+a+"\n"+"Actual: "+t.attribValue)}else if(n==="xmlns"&&t.attribValue!==u){strictFail(t,"xmlns: prefix must be bound to "+u+"\n"+"Actual: "+t.attribValue)}else{var i=t.tag;var s=t.tags[t.tags.length-1]||t;if(i.ns===s.ns){i.ns=Object.create(s.ns)}i.ns[n]=t.attribValue}}t.attribList.push([t.attribName,t.attribValue])}else{t.tag.attributes[t.attribName]=t.attribValue;emitNode(t,"onattribute",{name:t.attribName,value:t.attribValue})}t.attribName=t.attribValue=""}function openTag(t,e){if(t.opt.xmlns){var r=t.tag;var n=qname(t.tagName);r.prefix=n.prefix;r.local=n.local;r.uri=r.ns[n.prefix]||"";if(r.prefix&&!r.uri){strictFail(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName));r.uri=n.prefix}var i=t.tags[t.tags.length-1]||t;if(r.ns&&i.ns!==r.ns){Object.keys(r.ns).forEach(function(e){emitNode(t,"onopennamespace",{prefix:e,uri:r.ns[e]})})}for(var s=0,o=t.attribList.length;s<o;s++){var a=t.attribList[s];var u=a[0];var c=a[1];var l=qname(u,true);var h=l.prefix;var f=l.local;var d=h===""?"":r.ns[h]||"";var m={name:u,value:c,prefix:h,local:f,uri:d};if(h&&h!=="xmlns"&&!d){strictFail(t,"Unbound namespace prefix: "+JSON.stringify(h));m.uri=h}t.tag.attributes[u]=m;emitNode(t,"onattribute",m)}t.attribList.length=0}t.tag.isSelfClosing=!!e;t.sawRoot=true;t.tags.push(t.tag);emitNode(t,"onopentag",t.tag);if(!e){if(!t.noscript&&t.tagName.toLowerCase()==="script"){t.state=p.SCRIPT}else{t.state=p.TEXT}t.tag=null;t.tagName=""}t.attribName=t.attribValue="";t.attribList.length=0}function closeTag(t){if(!t.tagName){strictFail(t,"Weird empty close tag.");t.textNode+="</>";t.state=p.TEXT;return}if(t.script){if(t.tagName!=="script"){t.script+="</"+t.tagName+">";t.tagName="";t.state=p.SCRIPT;return}emitNode(t,"onscript",t.script);t.script=""}var e=t.tags.length;var r=t.tagName;if(!t.strict){r=r[t.looseCase]()}var n=r;while(e--){var i=t.tags[e];if(i.name!==n){strictFail(t,"Unexpected close tag")}else{break}}if(e<0){strictFail(t,"Unmatched closing tag: "+t.tagName);t.textNode+="</"+t.tagName+">";t.state=p.TEXT;return}t.tagName=r;var s=t.tags.length;while(s-- >e){var o=t.tag=t.tags.pop();t.tagName=t.tag.name;emitNode(t,"onclosetag",t.tagName);var a={};for(var u in o.ns){a[u]=o.ns[u]}var c=t.tags[t.tags.length-1]||t;if(t.opt.xmlns&&o.ns!==c.ns){Object.keys(o.ns).forEach(function(e){var r=o.ns[e];emitNode(t,"onclosenamespace",{prefix:e,uri:r})})}}if(e===0)t.closedRoot=true;t.tagName=t.attribValue=t.attribName="";t.attribList.length=0;t.state=p.TEXT}function parseEntity(t){var e=t.entity;var r=e.toLowerCase();var n;var i="";if(t.ENTITIES[e]){return t.ENTITIES[e]}if(t.ENTITIES[r]){return t.ENTITIES[r]}e=r;if(e.charAt(0)==="#"){if(e.charAt(1)==="x"){e=e.slice(2);n=parseInt(e,16);i=n.toString(16)}else{e=e.slice(1);n=parseInt(e,10);i=n.toString(10)}}e=e.replace(/^0+/,"");if(isNaN(n)||i.toLowerCase()!==e){strictFail(t,"Invalid character entity");return"&"+t.entity+";"}return String.fromCodePoint(n)}function beginWhiteSpace(t,e){if(e==="<"){t.state=p.OPEN_WAKA;t.startTagPosition=t.position}else if(!isWhitespace(e)){strictFail(t,"Non-whitespace before first tag.");t.textNode=e;t.state=p.TEXT}}function charAt(t,e){var r="";if(e<t.length){r=t.charAt(e)}return r}function write(t){var e=this;if(this.error){throw this.error}if(e.closed){return error(e,"Cannot write after close. Assign an onready handler.")}if(t===null){return end(e)}if(typeof t==="object"){t=t.toString()}var r=0;var n="";while(true){n=charAt(t,r++);e.c=n;if(!n){break}if(e.trackPosition){e.position++;if(n==="\n"){e.line++;e.column=0}else{e.column++}}switch(e.state){case p.BEGIN:e.state=p.BEGIN_WHITESPACE;if(n==="\ufeff"){continue}beginWhiteSpace(e,n);continue;case p.BEGIN_WHITESPACE:beginWhiteSpace(e,n);continue;case p.TEXT:if(e.sawRoot&&!e.closedRoot){var i=r-1;while(n&&n!=="<"&&n!=="&"){n=charAt(t,r++);if(n&&e.trackPosition){e.position++;if(n==="\n"){e.line++;e.column=0}else{e.column++}}}e.textNode+=t.substring(i,r-1)}if(n==="<"&&!(e.sawRoot&&e.closedRoot&&!e.strict)){e.state=p.OPEN_WAKA;e.startTagPosition=e.position}else{if(!isWhitespace(n)&&(!e.sawRoot||e.closedRoot)){strictFail(e,"Text data outside of root node.")}if(n==="&"){e.state=p.TEXT_ENTITY}else{e.textNode+=n}}continue;case p.SCRIPT:if(n==="<"){e.state=p.SCRIPT_ENDING}else{e.script+=n}continue;case p.SCRIPT_ENDING:if(n==="/"){e.state=p.CLOSE_TAG}else{e.script+="<"+n;e.state=p.SCRIPT}continue;case p.OPEN_WAKA:if(n==="!"){e.state=p.SGML_DECL;e.sgmlDecl=""}else if(isWhitespace(n)){}else if(isMatch(l,n)){e.state=p.OPEN_TAG;e.tagName=n}else if(n==="/"){e.state=p.CLOSE_TAG;e.tagName=""}else if(n==="?"){e.state=p.PROC_INST;e.procInstName=e.procInstBody=""}else{strictFail(e,"Unencoded <");if(e.startTagPosition+1<e.position){var a=e.position-e.startTagPosition;n=new Array(a).join(" ")+n}e.textNode+="<"+n;e.state=p.TEXT}continue;case p.SGML_DECL:if((e.sgmlDecl+n).toUpperCase()===s){emitNode(e,"onopencdata");e.state=p.CDATA;e.sgmlDecl="";e.cdata=""}else if(e.sgmlDecl+n==="--"){e.state=p.COMMENT;e.comment="";e.sgmlDecl=""}else if((e.sgmlDecl+n).toUpperCase()===o){e.state=p.DOCTYPE;if(e.doctype||e.sawRoot){strictFail(e,"Inappropriately located doctype declaration")}e.doctype="";e.sgmlDecl=""}else if(n===">"){emitNode(e,"onsgmldeclaration",e.sgmlDecl);e.sgmlDecl="";e.state=p.TEXT}else if(isQuote(n)){e.state=p.SGML_DECL_QUOTED;e.sgmlDecl+=n}else{e.sgmlDecl+=n}continue;case p.SGML_DECL_QUOTED:if(n===e.q){e.state=p.SGML_DECL;e.q=""}e.sgmlDecl+=n;continue;case p.DOCTYPE:if(n===">"){e.state=p.TEXT;emitNode(e,"ondoctype",e.doctype);e.doctype=true}else{e.doctype+=n;if(n==="["){e.state=p.DOCTYPE_DTD}else if(isQuote(n)){e.state=p.DOCTYPE_QUOTED;e.q=n}}continue;case p.DOCTYPE_QUOTED:e.doctype+=n;if(n===e.q){e.q="";e.state=p.DOCTYPE}continue;case p.DOCTYPE_DTD:e.doctype+=n;if(n==="]"){e.state=p.DOCTYPE}else if(isQuote(n)){e.state=p.DOCTYPE_DTD_QUOTED;e.q=n}continue;case p.DOCTYPE_DTD_QUOTED:e.doctype+=n;if(n===e.q){e.state=p.DOCTYPE_DTD;e.q=""}continue;case p.COMMENT:if(n==="-"){e.state=p.COMMENT_ENDING}else{e.comment+=n}continue;case p.COMMENT_ENDING:if(n==="-"){e.state=p.COMMENT_ENDED;e.comment=textopts(e.opt,e.comment);if(e.comment){emitNode(e,"oncomment",e.comment)}e.comment=""}else{e.comment+="-"+n;e.state=p.COMMENT}continue;case p.COMMENT_ENDED:if(n!==">"){strictFail(e,"Malformed comment");e.comment+="--"+n;e.state=p.COMMENT}else{e.state=p.TEXT}continue;case p.CDATA:if(n==="]"){e.state=p.CDATA_ENDING}else{e.cdata+=n}continue;case p.CDATA_ENDING:if(n==="]"){e.state=p.CDATA_ENDING_2}else{e.cdata+="]"+n;e.state=p.CDATA}continue;case p.CDATA_ENDING_2:if(n===">"){if(e.cdata){emitNode(e,"oncdata",e.cdata)}emitNode(e,"onclosecdata");e.cdata="";e.state=p.TEXT}else if(n==="]"){e.cdata+="]"}else{e.cdata+="]]"+n;e.state=p.CDATA}continue;case p.PROC_INST:if(n==="?"){e.state=p.PROC_INST_ENDING}else if(isWhitespace(n)){e.state=p.PROC_INST_BODY}else{e.procInstName+=n}continue;case p.PROC_INST_BODY:if(!e.procInstBody&&isWhitespace(n)){continue}else if(n==="?"){e.state=p.PROC_INST_ENDING}else{e.procInstBody+=n}continue;case p.PROC_INST_ENDING:if(n===">"){emitNode(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody});e.procInstName=e.procInstBody="";e.state=p.TEXT}else{e.procInstBody+="?"+n;e.state=p.PROC_INST_BODY}continue;case p.OPEN_TAG:if(isMatch(h,n)){e.tagName+=n}else{newTag(e);if(n===">"){openTag(e)}else if(n==="/"){e.state=p.OPEN_TAG_SLASH}else{if(!isWhitespace(n)){strictFail(e,"Invalid character in tag name")}e.state=p.ATTRIB}}continue;case p.OPEN_TAG_SLASH:if(n===">"){openTag(e,true);closeTag(e)}else{strictFail(e,"Forward-slash in opening tag not followed by >");e.state=p.ATTRIB}continue;case p.ATTRIB:if(isWhitespace(n)){continue}else if(n===">"){openTag(e)}else if(n==="/"){e.state=p.OPEN_TAG_SLASH}else if(isMatch(l,n)){e.attribName=n;e.attribValue="";e.state=p.ATTRIB_NAME}else{strictFail(e,"Invalid attribute name")}continue;case p.ATTRIB_NAME:if(n==="="){e.state=p.ATTRIB_VALUE}else if(n===">"){strictFail(e,"Attribute without value");e.attribValue=e.attribName;attrib(e);openTag(e)}else if(isWhitespace(n)){e.state=p.ATTRIB_NAME_SAW_WHITE}else if(isMatch(h,n)){e.attribName+=n}else{strictFail(e,"Invalid attribute name")}continue;case p.ATTRIB_NAME_SAW_WHITE:if(n==="="){e.state=p.ATTRIB_VALUE}else if(isWhitespace(n)){continue}else{strictFail(e,"Attribute without value");e.tag.attributes[e.attribName]="";e.attribValue="";emitNode(e,"onattribute",{name:e.attribName,value:""});e.attribName="";if(n===">"){openTag(e)}else if(isMatch(l,n)){e.attribName=n;e.state=p.ATTRIB_NAME}else{strictFail(e,"Invalid attribute name");e.state=p.ATTRIB}}continue;case p.ATTRIB_VALUE:if(isWhitespace(n)){continue}else if(isQuote(n)){e.q=n;e.state=p.ATTRIB_VALUE_QUOTED}else{strictFail(e,"Unquoted attribute value");e.state=p.ATTRIB_VALUE_UNQUOTED;e.attribValue=n}continue;case p.ATTRIB_VALUE_QUOTED:if(n!==e.q){if(n==="&"){e.state=p.ATTRIB_VALUE_ENTITY_Q}else{e.attribValue+=n}continue}attrib(e);e.q="";e.state=p.ATTRIB_VALUE_CLOSED;continue;case p.ATTRIB_VALUE_CLOSED:if(isWhitespace(n)){e.state=p.ATTRIB}else if(n===">"){openTag(e)}else if(n==="/"){e.state=p.OPEN_TAG_SLASH}else if(isMatch(l,n)){strictFail(e,"No whitespace between attributes");e.attribName=n;e.attribValue="";e.state=p.ATTRIB_NAME}else{strictFail(e,"Invalid attribute name")}continue;case p.ATTRIB_VALUE_UNQUOTED:if(!isAttribEnd(n)){if(n==="&"){e.state=p.ATTRIB_VALUE_ENTITY_U}else{e.attribValue+=n}continue}attrib(e);if(n===">"){openTag(e)}else{e.state=p.ATTRIB}continue;case p.CLOSE_TAG:if(!e.tagName){if(isWhitespace(n)){continue}else if(notMatch(l,n)){if(e.script){e.script+="</"+n;e.state=p.SCRIPT}else{strictFail(e,"Invalid tagname in closing tag.")}}else{e.tagName=n}}else if(n===">"){closeTag(e)}else if(isMatch(h,n)){e.tagName+=n}else if(e.script){e.script+="</"+e.tagName;e.tagName="";e.state=p.SCRIPT}else{if(!isWhitespace(n)){strictFail(e,"Invalid tagname in closing tag")}e.state=p.CLOSE_TAG_SAW_WHITE}continue;case p.CLOSE_TAG_SAW_WHITE:if(isWhitespace(n)){continue}if(n===">"){closeTag(e)}else{strictFail(e,"Invalid characters in closing tag")}continue;case p.TEXT_ENTITY:case p.ATTRIB_VALUE_ENTITY_Q:case p.ATTRIB_VALUE_ENTITY_U:var u;var c;switch(e.state){case p.TEXT_ENTITY:u=p.TEXT;c="textNode";break;case p.ATTRIB_VALUE_ENTITY_Q:u=p.ATTRIB_VALUE_QUOTED;c="attribValue";break;case p.ATTRIB_VALUE_ENTITY_U:u=p.ATTRIB_VALUE_UNQUOTED;c="attribValue";break}if(n===";"){e[c]+=parseEntity(e);e.entity="";e.state=u}else if(isMatch(e.entity.length?d:f,n)){e.entity+=n}else{strictFail(e,"Invalid character in entity name");e[c]+="&"+e.entity+n;e.entity="";e.state=u}continue;default:throw new Error(e,"Unknown state: "+e.state)}}if(e.position>=e.bufferCheckPosition){checkBufferLength(e)}return e}if(!String.fromCodePoint){(function(){var t=String.fromCharCode;var e=Math.floor;var r=function(){var r=16384;var n=[];var i;var s;var o=-1;var a=arguments.length;if(!a){return""}var u="";while(++o<a){var c=Number(arguments[o]);if(!isFinite(c)||c<0||c>1114111||e(c)!==c){throw RangeError("Invalid code point: "+c)}if(c<=65535){n.push(c)}else{c-=65536;i=(c>>10)+55296;s=c%1024+56320;n.push(i,s)}if(o+1===a||n.length>r){u+=t.apply(null,n);n.length=0}}return u};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:r,configurable:true,writable:true})}else{String.fromCodePoint=r}})()}})(false?0:e)},4970:(t,e,r)=>{"use strict";var n=r(1504);t.exports=function(t){var e=t.match(n);if(!e){return null}var r=e[0].replace(/#! ?/,"").split(" ");var i=r[0].split("/").pop();var s=r[1];return i==="env"?s:i+(s?" "+s:"")}},1504:t=>{"use strict";t.exports=/^#!.*/},332:t=>{"use strict";const e="";const r=`${e}[`;const n="";const i={to(t,e){if(!e)return`${r}${t+1}G`;return`${r}${e+1};${t+1}H`},move(t,e){let n="";if(t<0)n+=`${r}${-t}D`;else if(t>0)n+=`${r}${t}C`;if(e<0)n+=`${r}${-e}A`;else if(e>0)n+=`${r}${e}B`;return n},up:(t=1)=>`${r}${t}A`,down:(t=1)=>`${r}${t}B`,forward:(t=1)=>`${r}${t}C`,backward:(t=1)=>`${r}${t}D`,nextLine:(t=1)=>`${r}E`.repeat(t),prevLine:(t=1)=>`${r}F`.repeat(t),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${e}7`,restore:`${e}8`};const s={up:(t=1)=>`${r}S`.repeat(t),down:(t=1)=>`${r}T`.repeat(t)};const o={screen:`${r}2J`,up:(t=1)=>`${r}1J`.repeat(t),down:(t=1)=>`${r}J`.repeat(t),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?i.up():"");if(t)e+=i.left;return e}};t.exports={cursor:i,scroll:s,erase:o,beep:n}},395:(t,e,r)=>{"use strict";const n=r(2087);const i=r(3867);const s=r(6704);const{env:o}=process;let a;if(s("no-color")||s("no-colors")||s("color=false")||s("color=never")){a=0}else if(s("color")||s("colors")||s("color=true")||s("color=always")){a=1}if("FORCE_COLOR"in o){if(o.FORCE_COLOR==="true"){a=1}else if(o.FORCE_COLOR==="false"){a=0}else{a=o.FORCE_COLOR.length===0?1:Math.min(parseInt(o.FORCE_COLOR,10),3)}}function translateLevel(t){if(t===0){return false}return{level:t,hasBasic:true,has256:t>=2,has16m:t>=3}}function supportsColor(t,e){if(a===0){return 0}if(s("color=16m")||s("color=full")||s("color=truecolor")){return 3}if(s("color=256")){return 2}if(t&&!e&&a===undefined){return 0}const r=a||0;if(o.TERM==="dumb"){return r}if(process.platform==="win32"){const t=n.release().split(".");if(Number(t[0])>=10&&Number(t[2])>=10586){return Number(t[2])>=14931?3:2}return 1}if("CI"in o){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in o)||o.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in o){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0}if("GITHUB_ACTIONS"in o){return 1}if(o.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in o){const t=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(o.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)){return 1}if("COLORTERM"in o){return 1}return r}function getSupportLevel(t){const e=supportsColor(t,t&&t.isTTY);return translateLevel(e)}t.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,i.isatty(1))),stderr:translateLevel(supportsColor(true,i.isatty(2)))}},6704:t=>{"use strict";t.exports=((t,e=process.argv)=>{const r=t.startsWith("-")?"":t.length===1?"-":"--";const n=e.indexOf(r+t);const i=e.indexOf("--");return n!==-1&&(i===-1||n<i)})},5418:(t,e,r)=>{const{URL:n}=r(8835);const{join:i}=r(5622);const s=r(5747);const{promisify:o}=r(1669);const{tmpdir:a}=r(2087);const u=r(2447);const c=o(s.writeFile);const l=o(s.mkdir);const h=o(s.readFile);const f=(t,e)=>t.localeCompare(e,"en-US",{numeric:true});const d=t=>encodeURIComponent(t).replace(/^%40/,"@");const p=async(t,e)=>{const r=a();const n=i(r,"update-check");if(!s.existsSync(n)){await l(n)}let o=`${t.name}-${e}.json`;if(t.scope){o=`${t.scope}-${o}`}return i(n,o)};const m=async(t,e,r)=>{if(s.existsSync(t)){const n=await h(t,"utf8");const{lastUpdate:i,latest:s}=JSON.parse(n);const o=i+r;if(o>e){return{shouldCheck:false,latest:s}}}return{shouldCheck:true,latest:null}};const y=async(t,e,r)=>{const n=JSON.stringify({latest:e,lastUpdate:r});await c(t,n,"utf8")};const g=(t,e)=>new Promise((n,i)=>{const s={host:t.hostname,path:t.pathname,port:t.port,headers:{accept:"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*"},timeout:2e3};if(e){s.headers.authorization=`${e.type} ${e.token}`}const{get:o}=r(t.protocol==="https:"?7211:8605);o(s,t=>{const{statusCode:e}=t;if(e!==200){const r=new Error(`Request failed with code ${e}`);r.code=e;i(r);t.resume();return}let r="";t.setEncoding("utf8");t.on("data",t=>{r+=t});t.on("end",()=>{try{const t=JSON.parse(r);n(t)}catch(t){i(t)}})}).on("error",i).on("timeout",i)});const v=async({full:t,scope:e},i)=>{const s=u(e);const o=new n(t,s);let a=null;try{a=await g(o)}catch(t){if(t.code&&String(t.code).startsWith(4)){const t=r(1384);const e=t(s,{recursive:true});a=await g(o,e)}else{throw t}}const c=a["dist-tags"][i];if(!c){throw new Error(`Distribution tag ${i} is not available`)}return c};const w={interval:36e5,distTag:"latest"};const b=t=>{const e={full:d(t)};if(t.includes("/")){const r=t.split("/");e.scope=r[0];e.name=r[1]}else{e.scope=null;e.name=t}return e};t.exports=(async(t,e)=>{if(typeof t!=="object"){throw new Error("The first parameter should be your package.json file content")}const r=b(t.name);const n=Date.now();const{distTag:i,interval:s}=Object.assign({},w,e);const o=await p(r,i);let a=null;let u=true;({shouldCheck:u,latest:a}=await m(o,n,s));if(u){a=await v(r,i);await y(o,a,n)}const c=f(t.version,a);if(c===-1){return{latest:a,fromCache:!u}}return null})},8201:(t,e,r)=>{t.exports=which;which.sync=whichSync;var n=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys";var i=r(5622);var s=n?";":":";var o=r(228);function getNotFoundError(t){var e=new Error("not found: "+t);e.code="ENOENT";return e}function getPathInfo(t,e){var r=e.colon||s;var i=e.path||process.env.PATH||"";var o=[""];i=i.split(r);var a="";if(n){i.unshift(process.cwd());a=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM";o=a.split(r);if(t.indexOf(".")!==-1&&o[0]!=="")o.unshift("")}if(t.match(/\//)||n&&t.match(/\\/))i=[""];return{env:i,ext:o,extExe:a}}function which(t,e,r){if(typeof e==="function"){r=e;e={}}var n=getPathInfo(t,e);var s=n.env;var a=n.ext;var u=n.extExe;var c=[];(function F(n,l){if(n===l){if(e.all&&c.length)return r(null,c);else return r(getNotFoundError(t))}var h=s[n];if(h.charAt(0)==='"'&&h.slice(-1)==='"')h=h.slice(1,-1);var f=i.join(h,t);if(!h&&/^\.[\\\/]/.test(t)){f=t.slice(0,2)+f}(function E(t,i){if(t===i)return F(n+1,l);var s=a[t];o(f+s,{pathExt:u},function(n,o){if(!n&&o){if(e.all)c.push(f+s);else return r(null,f+s)}return E(t+1,i)})})(0,a.length)})(0,s.length)}function whichSync(t,e){e=e||{};var r=getPathInfo(t,e);var n=r.env;var s=r.ext;var a=r.extExe;var u=[];for(var c=0,l=n.length;c<l;c++){var h=n[c];if(h.charAt(0)==='"'&&h.slice(-1)==='"')h=h.slice(1,-1);var f=i.join(h,t);if(!h&&/^\.[\\\/]/.test(t)){f=t.slice(0,2)+f}for(var d=0,p=s.length;d<p;d++){var m=f+s[d];var y;try{y=o.sync(m,{pathExt:a});if(y){if(e.all)u.push(m);else return m}}catch(t){}}}if(e.all&&u.length)return u;if(e.nothrow)return null;throw getNotFoundError(t)}},4586:t=>{t.exports=wrappy;function wrappy(t,e){if(t&&e)return wrappy(t)(e);if(typeof t!=="function")throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){wrapper[e]=t[e]});return wrapper;function wrapper(){var e=new Array(arguments.length);for(var r=0;r<e.length;r++){e[r]=arguments[r]}var n=t.apply(this,e);var i=e[e.length-1];if(typeof n==="function"&&n!==i){Object.keys(i).forEach(function(t){n[t]=i[t]})}return n}}},4604:function(t,e){(function(){"use strict";e.stripBOM=function(t){if(t[0]==="\ufeff"){return t.substring(1)}else{return t}}}).call(this)},1002:function(t,e,r){(function(){"use strict";var t,n,i,s,o,a={}.hasOwnProperty;t=r(3131);n=r(9498).defaults;s=function(t){return typeof t==="string"&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)};o=function(t){return"<![CDATA["+i(t)+"]]>"};i=function(t){return t.replace("]]>","]]]]><![CDATA[>")};e.Builder=function(){function Builder(t){var e,r,i;this.options={};r=n["0.2"];for(e in r){if(!a.call(r,e))continue;i=r[e];this.options[e]=i}for(e in t){if(!a.call(t,e))continue;i=t[e];this.options[e]=i}}Builder.prototype.buildObject=function(e){var r,i,u,c,l;r=this.options.attrkey;i=this.options.charkey;if(Object.keys(e).length===1&&this.options.rootName===n["0.2"].rootName){l=Object.keys(e)[0];e=e[l]}else{l=this.options.rootName}u=function(t){return function(e,n){var c,l,h,f,d,p;if(typeof n!=="object"){if(t.options.cdata&&s(n)){e.raw(o(n))}else{e.txt(n)}}else if(Array.isArray(n)){for(f in n){if(!a.call(n,f))continue;l=n[f];for(d in l){h=l[d];e=u(e.ele(d),h).up()}}}else{for(d in n){if(!a.call(n,d))continue;l=n[d];if(d===r){if(typeof l==="object"){for(c in l){p=l[c];e=e.att(c,p)}}}else if(d===i){if(t.options.cdata&&s(l)){e=e.raw(o(l))}else{e=e.txt(l)}}else if(Array.isArray(l)){for(f in l){if(!a.call(l,f))continue;h=l[f];if(typeof h==="string"){if(t.options.cdata&&s(h)){e=e.ele(d).raw(o(h)).up()}else{e=e.ele(d,h).up()}}else{e=u(e.ele(d),h).up()}}}else if(typeof l==="object"){e=u(e.ele(d),l).up()}else{if(typeof l==="string"&&t.options.cdata&&s(l)){e=e.ele(d).raw(o(l)).up()}else{if(l==null){l=""}e=e.ele(d,l.toString()).up()}}}}return e}}(this);c=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars});return u(c,e).end(this.options.renderOpts)};return Builder}()}).call(this)},9498:function(t,e){(function(){e.defaults={.1:{explicitCharkey:false,trim:true,normalize:true,normalizeTags:false,attrkey:"@",charkey:"#",explicitArray:false,ignoreAttrs:false,mergeAttrs:false,explicitRoot:false,validator:null,xmlns:false,explicitChildren:false,childkey:"@@",charsAsChildren:false,includeWhiteChars:false,async:false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:false,trim:false,normalize:false,normalizeTags:false,attrkey:"$",charkey:"_",explicitArray:true,ignoreAttrs:false,mergeAttrs:false,explicitRoot:true,validator:null,xmlns:false,explicitChildren:false,preserveChildrenOrder:false,childkey:"$$",charsAsChildren:false,includeWhiteChars:false,async:false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:true},doctype:null,renderOpts:{pretty:true,indent:"  ",newline:"\n"},headless:false,chunkSize:1e4,emptyTag:"",cdata:false}}}).call(this)},7426:function(t,e,r){(function(){"use strict";var t,n,i,s,o,a,u,c,l=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){for(var r in e){if(f.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},f={}.hasOwnProperty;u=r(9746);i=r(8614);t=r(4604);a=r(9068);c=r(8213).setImmediate;n=r(9498).defaults;s=function(t){return typeof t==="object"&&t!=null&&Object.keys(t).length===0};o=function(t,e,r){var n,i,s;for(n=0,i=t.length;n<i;n++){s=t[n];e=s(e,r)}return e};e.Parser=function(r){h(Parser,r);function Parser(t){this.parseStringPromise=l(this.parseStringPromise,this);this.parseString=l(this.parseString,this);this.reset=l(this.reset,this);this.assignOrPush=l(this.assignOrPush,this);this.processAsync=l(this.processAsync,this);var r,i,s;if(!(this instanceof e.Parser)){return new e.Parser(t)}this.options={};i=n["0.2"];for(r in i){if(!f.call(i,r))continue;s=i[r];this.options[r]=s}for(r in t){if(!f.call(t,r))continue;s=t[r];this.options[r]=s}if(this.options.xmlns){this.options.xmlnskey=this.options.attrkey+"ns"}if(this.options.normalizeTags){if(!this.options.tagNameProcessors){this.options.tagNameProcessors=[]}this.options.tagNameProcessors.unshift(a.normalize)}this.reset()}Parser.prototype.processAsync=function(){var t,e;try{if(this.remaining.length<=this.options.chunkSize){t=this.remaining;this.remaining="";this.saxParser=this.saxParser.write(t);return this.saxParser.close()}else{t=this.remaining.substr(0,this.options.chunkSize);this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length);this.saxParser=this.saxParser.write(t);return c(this.processAsync)}}catch(t){e=t;if(!this.saxParser.errThrown){this.saxParser.errThrown=true;return this.emit(e)}}};Parser.prototype.assignOrPush=function(t,e,r){if(!(e in t)){if(!this.options.explicitArray){return t[e]=r}else{return t[e]=[r]}}else{if(!(t[e]instanceof Array)){t[e]=[t[e]]}return t[e].push(r)}};Parser.prototype.reset=function(){var t,e,r,n;this.removeAllListeners();this.saxParser=u.parser(this.options.strict,{trim:false,normalize:false,xmlns:this.options.xmlns});this.saxParser.errThrown=false;this.saxParser.onerror=function(t){return function(e){t.saxParser.resume();if(!t.saxParser.errThrown){t.saxParser.errThrown=true;return t.emit("error",e)}}}(this);this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended){t.saxParser.ended=true;return t.emit("end",t.resultObject)}}}(this);this.saxParser.ended=false;this.EXPLICIT_CHARKEY=this.options.explicitCharkey;this.resultObject=null;n=[];t=this.options.attrkey;e=this.options.charkey;this.saxParser.onopentag=function(r){return function(i){var s,a,u,c,l;u={};u[e]="";if(!r.options.ignoreAttrs){l=i.attributes;for(s in l){if(!f.call(l,s))continue;if(!(t in u)&&!r.options.mergeAttrs){u[t]={}}a=r.options.attrValueProcessors?o(r.options.attrValueProcessors,i.attributes[s],s):i.attributes[s];c=r.options.attrNameProcessors?o(r.options.attrNameProcessors,s):s;if(r.options.mergeAttrs){r.assignOrPush(u,c,a)}else{u[t][c]=a}}}u["#name"]=r.options.tagNameProcessors?o(r.options.tagNameProcessors,i.name):i.name;if(r.options.xmlns){u[r.options.xmlnskey]={uri:i.uri,local:i.local}}return n.push(u)}}(this);this.saxParser.onclosetag=function(t){return function(){var r,i,a,u,c,l,h,d,p,m;l=n.pop();c=l["#name"];if(!t.options.explicitChildren||!t.options.preserveChildrenOrder){delete l["#name"]}if(l.cdata===true){r=l.cdata;delete l.cdata}p=n[n.length-1];if(l[e].match(/^\s*$/)&&!r){i=l[e];delete l[e]}else{if(t.options.trim){l[e]=l[e].trim()}if(t.options.normalize){l[e]=l[e].replace(/\s{2,}/g," ").trim()}l[e]=t.options.valueProcessors?o(t.options.valueProcessors,l[e],c):l[e];if(Object.keys(l).length===1&&e in l&&!t.EXPLICIT_CHARKEY){l=l[e]}}if(s(l)){l=t.options.emptyTag!==""?t.options.emptyTag:i}if(t.options.validator!=null){m="/"+function(){var t,e,r;r=[];for(t=0,e=n.length;t<e;t++){u=n[t];r.push(u["#name"])}return r}().concat(c).join("/");(function(){var e;try{return l=t.options.validator(m,p&&p[c],l)}catch(r){e=r;return t.emit("error",e)}})()}if(t.options.explicitChildren&&!t.options.mergeAttrs&&typeof l==="object"){if(!t.options.preserveChildrenOrder){u={};if(t.options.attrkey in l){u[t.options.attrkey]=l[t.options.attrkey];delete l[t.options.attrkey]}if(!t.options.charsAsChildren&&t.options.charkey in l){u[t.options.charkey]=l[t.options.charkey];delete l[t.options.charkey]}if(Object.getOwnPropertyNames(l).length>0){u[t.options.childkey]=l}l=u}else if(p){p[t.options.childkey]=p[t.options.childkey]||[];h={};for(a in l){if(!f.call(l,a))continue;h[a]=l[a]}p[t.options.childkey].push(h);delete l["#name"];if(Object.keys(l).length===1&&e in l&&!t.EXPLICIT_CHARKEY){l=l[e]}}}if(n.length>0){return t.assignOrPush(p,c,l)}else{if(t.options.explicitRoot){d=l;l={};l[c]=d}t.resultObject=l;t.saxParser.ended=true;return t.emit("end",t.resultObject)}}}(this);r=function(t){return function(r){var i,s;s=n[n.length-1];if(s){s[e]+=r;if(t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||r.replace(/\\n/g,"").trim()!=="")){s[t.options.childkey]=s[t.options.childkey]||[];i={"#name":"__text__"};i[e]=r;if(t.options.normalize){i[e]=i[e].replace(/\s{2,}/g," ").trim()}s[t.options.childkey].push(i)}return s}}}(this);this.saxParser.ontext=r;return this.saxParser.oncdata=function(t){return function(t){var e;e=r(t);if(e){return e.cdata=true}}}(this)};Parser.prototype.parseString=function(e,r){var n;if(r!=null&&typeof r==="function"){this.on("end",function(t){this.reset();return r(null,t)});this.on("error",function(t){this.reset();return r(t)})}try{e=e.toString();if(e.trim()===""){this.emit("end",null);return true}e=t.stripBOM(e);if(this.options.async){this.remaining=e;c(this.processAsync);return this.saxParser}return this.saxParser.write(e).close()}catch(t){n=t;if(!(this.saxParser.errThrown||this.saxParser.ended)){this.emit("error",n);return this.saxParser.errThrown=true}else if(this.saxParser.ended){throw n}}};Parser.prototype.parseStringPromise=function(t){return new Promise(function(e){return function(r,n){return e.parseString(t,function(t,e){if(t){return n(t)}else{return r(e)}})}}(this))};return Parser}(i);e.parseString=function(t,r,n){var i,s,o;if(n!=null){if(typeof n==="function"){i=n}if(typeof r==="object"){s=r}}else{if(typeof r==="function"){i=r}s={}}o=new e.Parser(s);return o.parseString(t,i)};e.parseStringPromise=function(t,r){var n,i;if(typeof r==="object"){n=r}i=new e.Parser(n);return i.parseStringPromise(t)}}).call(this)},9068:function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/);e.normalize=function(t){return t.toLowerCase()};e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)};e.stripPrefix=function(e){return e.replace(t,"")};e.parseNumbers=function(t){if(!isNaN(t)){t=t%1===0?parseInt(t,10):parseFloat(t)}return t};e.parseBooleans=function(t){if(/^(?:true|false)$/i.test(t)){t=t.toLowerCase()==="true"}return t}}).call(this)},7013:function(t,e,r){(function(){"use strict";var t,n,i,s,o=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},a={}.hasOwnProperty;n=r(9498);t=r(1002);i=r(7426);s=r(9068);e.defaults=n.defaults;e.processors=s;e.ValidationError=function(t){o(ValidationError,t);function ValidationError(t){this.message=t}return ValidationError}(Error);e.Builder=t.Builder;e.Parser=i.Parser;e.parseString=i.parseString;e.parseStringPromise=i.parseStringPromise}).call(this)},2346:function(t){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},4128:function(t){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},2629:function(t){(function(){var e,r,n,i,s,o,a,u=[].slice,c={}.hasOwnProperty;e=function(){var t,e,r,n,i,o;o=arguments[0],i=2<=arguments.length?u.call(arguments,1):[];if(s(Object.assign)){Object.assign.apply(null,arguments)}else{for(t=0,r=i.length;t<r;t++){n=i[t];if(n!=null){for(e in n){if(!c.call(n,e))continue;o[e]=n[e]}}}}return o};s=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Function]"};o=function(t){var e;return!!t&&((e=typeof t)==="function"||e==="object")};n=function(t){if(s(Array.isArray)){return Array.isArray(t)}else{return Object.prototype.toString.call(t)==="[object Array]"}};i=function(t){var e;if(n(t)){return!t.length}else{for(e in t){if(!c.call(t,e))continue;return false}return true}};a=function(t){var e,r;return o(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&typeof e==="function"&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)};r=function(t){if(s(t.valueOf)){return t.valueOf()}else{return t}};t.exports.assign=e;t.exports.isFunction=s;t.exports.isObject=o;t.exports.isArray=n;t.exports.isEmpty=i;t.exports.isPlainObject=a;t.exports.getValue=r}).call(this)},8413:function(t){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},9525:function(t,e,r){(function(){var e,n,i;e=r(4128);i=r(8064);t.exports=n=function(){function XMLAttribute(t,r,n){this.parent=t;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}if(r==null){throw new Error("Missing attribute name. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.value=this.stringify.attValue(n);this.type=e.Attribute;this.isId=false;this.schemaTypeInfo=null}Object.defineProperty(XMLAttribute.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLAttribute.prototype,"ownerElement",{get:function(){return this.parent}});Object.defineProperty(XMLAttribute.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}});Object.defineProperty(XMLAttribute.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLAttribute.prototype,"specified",{get:function(){return true}});XMLAttribute.prototype.clone=function(){return Object.create(this)};XMLAttribute.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))};XMLAttribute.prototype.debugInfo=function(t){t=t||this.name;if(t==null){return"parent: <"+this.parent.name+">"}else{return"attribute: {"+t+"}, parent: <"+this.parent.name+">"}};XMLAttribute.prototype.isEqualNode=function(t){if(t.namespaceURI!==this.namespaceURI){return false}if(t.prefix!==this.prefix){return false}if(t.localName!==this.localName){return false}if(t.value!==this.value){return false}return true};return XMLAttribute}()}).call(this)},6789:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;e=r(4128);i=r(3527);t.exports=n=function(t){s(XMLCData,t);function XMLCData(t,r){XMLCData.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing CDATA text. "+this.debugInfo())}this.name="#cdata-section";this.type=e.CData;this.value=this.stringify.cdata(r)}XMLCData.prototype.clone=function(){return Object.create(this)};XMLCData.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))};return XMLCData}(i)}).call(this)},3527:function(t,e,r){(function(){var e,n,i=function(t,e){for(var r in e){if(s.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},s={}.hasOwnProperty;n=r(8064);t.exports=e=function(t){i(XMLCharacterData,t);function XMLCharacterData(t){XMLCharacterData.__super__.constructor.call(this,t);this.value=""}Object.defineProperty(XMLCharacterData.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}});Object.defineProperty(XMLCharacterData.prototype,"length",{get:function(){return this.value.length}});Object.defineProperty(XMLCharacterData.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}});XMLCharacterData.prototype.clone=function(){return Object.create(this)};XMLCharacterData.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.replaceData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.isEqualNode=function(t){if(!XMLCharacterData.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)){return false}if(t.data!==this.data){return false}return true};return XMLCharacterData}(n)}).call(this)},4593:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;e=r(4128);n=r(3527);t.exports=i=function(t){s(XMLComment,t);function XMLComment(t,r){XMLComment.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing comment text. "+this.debugInfo())}this.name="#comment";this.type=e.Comment;this.value=this.stringify.comment(r)}XMLComment.prototype.clone=function(){return Object.create(this)};XMLComment.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))};return XMLComment}(n)}).call(this)},4196:function(t,e,r){(function(){var e,n,i;n=r(7850);i=r(5132);t.exports=e=function(){function XMLDOMConfiguration(){var t;this.defaultParams={"canonical-form":false,"cdata-sections":false,comments:false,"datatype-normalization":false,"element-content-whitespace":true,entities:true,"error-handler":new n,infoset:true,"validate-if-schema":false,namespaces:true,"namespace-declarations":true,"normalize-characters":false,"schema-location":"","schema-type":"","split-cdata-sections":true,validate:false,"well-formed":true};this.params=t=Object.create(this.defaultParams)}Object.defineProperty(XMLDOMConfiguration.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}});XMLDOMConfiguration.prototype.getParameter=function(t){if(this.params.hasOwnProperty(t)){return this.params[t]}else{return null}};XMLDOMConfiguration.prototype.canSetParameter=function(t,e){return true};XMLDOMConfiguration.prototype.setParameter=function(t,e){if(e!=null){return this.params[t]=e}else{return delete this.params[t]}};return XMLDOMConfiguration}()}).call(this)},7850:function(t){(function(){var e;t.exports=e=function(){function XMLDOMErrorHandler(){}XMLDOMErrorHandler.prototype.handleError=function(t){throw new Error(t)};return XMLDOMErrorHandler}()}).call(this)},9490:function(t){(function(){var e;t.exports=e=function(){function XMLDOMImplementation(){}XMLDOMImplementation.prototype.hasFeature=function(t,e){return true};XMLDOMImplementation.prototype.createDocumentType=function(t,e,r){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.createDocument=function(t,e,r){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")};return XMLDOMImplementation}()}).call(this)},5132:function(t){(function(){var e;t.exports=e=function(){function XMLDOMStringList(t){this.arr=t||[]}Object.defineProperty(XMLDOMStringList.prototype,"length",{get:function(){return this.arr.length}});XMLDOMStringList.prototype.item=function(t){return this.arr[t]||null};XMLDOMStringList.prototype.contains=function(t){return this.arr.indexOf(t)!==-1};return XMLDOMStringList}()}).call(this)},1066:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;i=r(8064);e=r(4128);t.exports=n=function(t){s(XMLDTDAttList,t);function XMLDTDAttList(t,r,n,i,s,o){XMLDTDAttList.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(n==null){throw new Error("Missing DTD attribute name. "+this.debugInfo(r))}if(!i){throw new Error("Missing DTD attribute type. "+this.debugInfo(r))}if(!s){throw new Error("Missing DTD attribute default. "+this.debugInfo(r))}if(s.indexOf("#")!==0){s="#"+s}if(!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)){throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r))}if(o&&!s.match(/^(#FIXED|#DEFAULT)$/)){throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r))}this.elementName=this.stringify.name(r);this.type=e.AttributeDeclaration;this.attributeName=this.stringify.name(n);this.attributeType=this.stringify.dtdAttType(i);if(o){this.defaultValue=this.stringify.dtdAttDefault(o)}this.defaultValueType=s}XMLDTDAttList.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))};return XMLDTDAttList}(i)}).call(this)},3584:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;i=r(8064);e=r(4128);t.exports=n=function(t){s(XMLDTDElement,t);function XMLDTDElement(t,r,n){XMLDTDElement.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(!n){n="(#PCDATA)"}if(Array.isArray(n)){n="("+n.join(",")+")"}this.name=this.stringify.name(r);this.type=e.ElementDeclaration;this.value=this.stringify.dtdElementValue(n)}XMLDTDElement.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))};return XMLDTDElement}(i)}).call(this)},9346:function(t,e,r){(function(){var e,n,i,s,o=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},a={}.hasOwnProperty;s=r(2629).isObject;i=r(8064);e=r(4128);t.exports=n=function(t){o(XMLDTDEntity,t);function XMLDTDEntity(t,r,n,i){XMLDTDEntity.__super__.constructor.call(this,t);if(n==null){throw new Error("Missing DTD entity name. "+this.debugInfo(n))}if(i==null){throw new Error("Missing DTD entity value. "+this.debugInfo(n))}this.pe=!!r;this.name=this.stringify.name(n);this.type=e.EntityDeclaration;if(!s(i)){this.value=this.stringify.dtdEntityValue(i);this.internal=true}else{if(!i.pubID&&!i.sysID){throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n))}if(i.pubID&&!i.sysID){throw new Error("System identifier is required for a public external entity. "+this.debugInfo(n))}this.internal=false;if(i.pubID!=null){this.pubID=this.stringify.dtdPubID(i.pubID)}if(i.sysID!=null){this.sysID=this.stringify.dtdSysID(i.sysID)}if(i.nData!=null){this.nData=this.stringify.dtdNData(i.nData)}if(this.pe&&this.nData){throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}}}Object.defineProperty(XMLDTDEntity.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDEntity.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDTDEntity.prototype,"notationName",{get:function(){return this.nData||null}});Object.defineProperty(XMLDTDEntity.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlVersion",{get:function(){return null}});XMLDTDEntity.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))};return XMLDTDEntity}(i)}).call(this)},853:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;i=r(8064);e=r(4128);t.exports=n=function(t){s(XMLDTDNotation,t);function XMLDTDNotation(t,r,n){XMLDTDNotation.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing DTD notation name. "+this.debugInfo(r))}if(!n.pubID&&!n.sysID){throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.type=e.NotationDeclaration;if(n.pubID!=null){this.pubID=this.stringify.dtdPubID(n.pubID)}if(n.sysID!=null){this.sysID=this.stringify.dtdSysID(n.sysID)}}Object.defineProperty(XMLDTDNotation.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDNotation.prototype,"systemId",{get:function(){return this.sysID}});XMLDTDNotation.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))};return XMLDTDNotation}(i)}).call(this)},4972:function(t,e,r){(function(){var e,n,i,s,o=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},a={}.hasOwnProperty;s=r(2629).isObject;i=r(8064);e=r(4128);t.exports=n=function(t){o(XMLDeclaration,t);function XMLDeclaration(t,r,n,i){var o;XMLDeclaration.__super__.constructor.call(this,t);if(s(r)){o=r,r=o.version,n=o.encoding,i=o.standalone}if(!r){r="1.0"}this.type=e.Declaration;this.version=this.stringify.xmlVersion(r);if(n!=null){this.encoding=this.stringify.xmlEncoding(n)}if(i!=null){this.standalone=this.stringify.xmlStandalone(i)}}XMLDeclaration.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))};return XMLDeclaration}(i)}).call(this)},9025:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h=function(t,e){for(var r in e){if(f.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},f={}.hasOwnProperty;l=r(2629).isObject;c=r(8064);e=r(4128);n=r(1066);s=r(9346);i=r(3584);o=r(853);u=r(8339);t.exports=a=function(t){h(XMLDocType,t);function XMLDocType(t,r,n){var i,s,o,a,u,c;XMLDocType.__super__.constructor.call(this,t);this.type=e.DocType;if(t.children){a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];if(i.type===e.Element){this.name=i.name;break}}}this.documentObject=t;if(l(r)){u=r,r=u.pubID,n=u.sysID}if(n==null){c=[r,n],n=c[0],r=c[1]}if(r!=null){this.pubID=this.stringify.dtdPubID(r)}if(n!=null){this.sysID=this.stringify.dtdSysID(n)}}Object.defineProperty(XMLDocType.prototype,"entities",{get:function(){var t,r,n,i,s;i={};s=this.children;for(r=0,n=s.length;r<n;r++){t=s[r];if(t.type===e.EntityDeclaration&&!t.pe){i[t.name]=t}}return new u(i)}});Object.defineProperty(XMLDocType.prototype,"notations",{get:function(){var t,r,n,i,s;i={};s=this.children;for(r=0,n=s.length;r<n;r++){t=s[r];if(t.type===e.NotationDeclaration){i[t.name]=t}}return new u(i)}});Object.defineProperty(XMLDocType.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDocType.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDocType.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});XMLDocType.prototype.element=function(t,e){var r;r=new i(this,t,e);this.children.push(r);return this};XMLDocType.prototype.attList=function(t,e,r,i,s){var o;o=new n(this,t,e,r,i,s);this.children.push(o);return this};XMLDocType.prototype.entity=function(t,e){var r;r=new s(this,false,t,e);this.children.push(r);return this};XMLDocType.prototype.pEntity=function(t,e){var r;r=new s(this,true,t,e);this.children.push(r);return this};XMLDocType.prototype.notation=function(t,e){var r;r=new o(this,t,e);this.children.push(r);return this};XMLDocType.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))};XMLDocType.prototype.ele=function(t,e){return this.element(t,e)};XMLDocType.prototype.att=function(t,e,r,n,i){return this.attList(t,e,r,n,i)};XMLDocType.prototype.ent=function(t,e){return this.entity(t,e)};XMLDocType.prototype.pent=function(t,e){return this.pEntity(t,e)};XMLDocType.prototype.not=function(t,e){return this.notation(t,e)};XMLDocType.prototype.up=function(){return this.root()||this.documentObject};XMLDocType.prototype.isEqualNode=function(t){if(!XMLDocType.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)){return false}if(t.name!==this.name){return false}if(t.publicId!==this.publicId){return false}if(t.systemId!==this.systemId){return false}return true};return XMLDocType}(c)}).call(this)},3315:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l=function(t,e){for(var r in e){if(h.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},h={}.hasOwnProperty;c=r(2629).isPlainObject;i=r(9490);n=r(4196);o=r(8064);e=r(4128);u=r(916);a=r(6939);t.exports=s=function(t){l(XMLDocument,t);function XMLDocument(t){XMLDocument.__super__.constructor.call(this,null);this.name="#document";this.type=e.Document;this.documentURI=null;this.domConfig=new n;t||(t={});if(!t.writer){t.writer=new a}this.options=t;this.stringify=new u(t)}Object.defineProperty(XMLDocument.prototype,"implementation",{value:new i});Object.defineProperty(XMLDocument.prototype,"doctype",{get:function(){var t,r,n,i;i=this.children;for(r=0,n=i.length;r<n;r++){t=i[r];if(t.type===e.DocType){return t}}return null}});Object.defineProperty(XMLDocument.prototype,"documentElement",{get:function(){return this.rootObject||null}});Object.defineProperty(XMLDocument.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"strictErrorChecking",{get:function(){return false}});Object.defineProperty(XMLDocument.prototype,"xmlEncoding",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].encoding}else{return null}}});Object.defineProperty(XMLDocument.prototype,"xmlStandalone",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].standalone==="yes"}else{return false}}});Object.defineProperty(XMLDocument.prototype,"xmlVersion",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].version}else{return"1.0"}}});Object.defineProperty(XMLDocument.prototype,"URL",{get:function(){return this.documentURI}});Object.defineProperty(XMLDocument.prototype,"origin",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"compatMode",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"characterSet",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"contentType",{get:function(){return null}});XMLDocument.prototype.end=function(t){var e;e={};if(!t){t=this.options.writer}else if(c(t)){e=t;t=this.options.writer}return t.document(this,t.filterOptions(e))};XMLDocument.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))};XMLDocument.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.renameNode=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createNodeIterator=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createTreeWalker=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};return XMLDocument}(o)}).call(this)},1523:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w,b,E,O,D,M,T,S={}.hasOwnProperty;T=r(2629),D=T.isObject,O=T.isFunction,M=T.isPlainObject,E=T.getValue;e=r(4128);d=r(3315);m=r(7370);s=r(6789);o=r(4593);g=r(363);b=r(8854);y=r(3234);h=r(4972);f=r(9025);a=r(1066);c=r(9346);u=r(3584);l=r(853);i=r(9525);w=r(916);v=r(6939);n=r(8413);t.exports=p=function(){function XMLDocumentCB(t,r,n){var i;this.name="?xml";this.type=e.Document;t||(t={});i={};if(!t.writer){t.writer=new v}else if(M(t.writer)){i=t.writer;t.writer=new v}this.options=t;this.writer=t.writer;this.writerOptions=this.writer.filterOptions(i);this.stringify=new w(t);this.onDataCallback=r||function(){};this.onEndCallback=n||function(){};this.currentNode=null;this.currentLevel=-1;this.openTags={};this.documentStarted=false;this.documentCompleted=false;this.root=null}XMLDocumentCB.prototype.createChildNode=function(t){var r,n,i,s,o,a,u,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:i={};u=t.attribs;for(n in u){if(!S.call(u,n))continue;r=u[n];i[n]=r.value}this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}c=t.children;for(o=0,a=c.length;o<a;o++){s=c[o];this.createChildNode(s);if(s.type===e.Element){this.up()}}return this};XMLDocumentCB.prototype.dummy=function(){return this};XMLDocumentCB.prototype.node=function(t,e,r){var n;if(t==null){throw new Error("Missing node name.")}if(this.root&&this.currentLevel===-1){throw new Error("Document can only have one root node. "+this.debugInfo(t))}this.openCurrent();t=E(t);if(e==null){e={}}e=E(e);if(!D(e)){n=[e,r],r=n[0],e=n[1]}this.currentNode=new m(this,t,e);this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;if(r!=null){this.text(r)}return this};XMLDocumentCB.prototype.element=function(t,r,n){var i,s,o,a,u,c;if(this.currentNode&&this.currentNode.type===e.DocType){this.dtdElement.apply(this,arguments)}else{if(Array.isArray(t)||D(t)||O(t)){a=this.options.noValidation;this.options.noValidation=true;c=new d(this.options).element("TEMP_ROOT");c.element(t);this.options.noValidation=a;u=c.children;for(s=0,o=u.length;s<o;s++){i=u[s];this.createChildNode(i);if(i.type===e.Element){this.up()}}}else{this.node(t,r,n)}}return this};XMLDocumentCB.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children){throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t))}if(t!=null){t=E(t)}if(D(t)){for(r in t){if(!S.call(t,r))continue;n=t[r];this.attribute(r,n)}}else{if(O(e)){e=e.apply()}if(this.options.keepNullAttributes&&e==null){this.currentNode.attribs[t]=new i(this,t,"")}else if(e!=null){this.currentNode.attribs[t]=new i(this,t,e)}}return this};XMLDocumentCB.prototype.text=function(t){var e;this.openCurrent();e=new b(this,t);this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.cdata=function(t){var e;this.openCurrent();e=new s(this,t);this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.comment=function(t){var e;this.openCurrent();e=new o(this,t);this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.raw=function(t){var e;this.openCurrent();e=new g(this,t);this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.instruction=function(t,e){var r,n,i,s,o;this.openCurrent();if(t!=null){t=E(t)}if(e!=null){e=E(e)}if(Array.isArray(t)){for(r=0,s=t.length;r<s;r++){n=t[r];this.instruction(n)}}else if(D(t)){for(n in t){if(!S.call(t,n))continue;i=t[n];this.instruction(n,i)}}else{if(O(e)){e=e.apply()}o=new y(this,t,e);this.onData(this.writer.processingInstruction(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1)}return this};XMLDocumentCB.prototype.declaration=function(t,e,r){var n;this.openCurrent();if(this.documentStarted){throw new Error("declaration() must be the first node.")}n=new h(this,t,e,r);this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.doctype=function(t,e,r){this.openCurrent();if(t==null){throw new Error("Missing root node name.")}if(this.root){throw new Error("dtd() must come before the root node.")}this.currentNode=new f(this,e,r);this.currentNode.rootNodeName=t;this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;return this};XMLDocumentCB.prototype.dtdElement=function(t,e){var r;this.openCurrent();r=new u(this,t,e);this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.attList=function(t,e,r,n,i){var s;this.openCurrent();s=new a(this,t,e,r,n,i);this.onData(this.writer.dtdAttList(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.entity=function(t,e){var r;this.openCurrent();r=new c(this,false,t,e);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.pEntity=function(t,e){var r;this.openCurrent();r=new c(this,true,t,e);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.notation=function(t,e){var r;this.openCurrent();r=new l(this,t,e);this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.up=function(){if(this.currentLevel<0){throw new Error("The document node has no parent.")}if(this.currentNode){if(this.currentNode.children){this.closeNode(this.currentNode)}else{this.openNode(this.currentNode)}this.currentNode=null}else{this.closeNode(this.openTags[this.currentLevel])}delete this.openTags[this.currentLevel];this.currentLevel--;return this};XMLDocumentCB.prototype.end=function(){while(this.currentLevel>=0){this.up()}return this.onEnd()};XMLDocumentCB.prototype.openCurrent=function(){if(this.currentNode){this.currentNode.children=true;return this.openNode(this.currentNode)}};XMLDocumentCB.prototype.openNode=function(t){var r,i,s,o;if(!t.isOpen){if(!this.root&&this.currentLevel===0&&t.type===e.Element){this.root=t}i="";if(t.type===e.Element){this.writerOptions.state=n.OpenTag;i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name;o=t.attribs;for(s in o){if(!S.call(o,s))continue;r=o[s];i+=this.writer.attribute(r,this.writerOptions,this.currentLevel)}i+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel);this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.OpenTag;i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName;if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}if(t.children){i+=" [";this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.CloseTag;i+=">"}i+=this.writer.endline(t,this.writerOptions,this.currentLevel)}this.onData(i,this.currentLevel);return t.isOpen=true}};XMLDocumentCB.prototype.closeNode=function(t){var r;if(!t.isClosed){r="";this.writerOptions.state=n.CloseTag;if(t.type===e.Element){r=this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel)}else{r=this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel)}this.writerOptions.state=n.None;this.onData(r,this.currentLevel);return t.isClosed=true}};XMLDocumentCB.prototype.onData=function(t,e){this.documentStarted=true;return this.onDataCallback(t,e+1)};XMLDocumentCB.prototype.onEnd=function(){this.documentCompleted=true;return this.onEndCallback()};XMLDocumentCB.prototype.debugInfo=function(t){if(t==null){return""}else{return"node: <"+t+">"}};XMLDocumentCB.prototype.ele=function(){return this.element.apply(this,arguments)};XMLDocumentCB.prototype.nod=function(t,e,r){return this.node(t,e,r)};XMLDocumentCB.prototype.txt=function(t){return this.text(t)};XMLDocumentCB.prototype.dat=function(t){return this.cdata(t)};XMLDocumentCB.prototype.com=function(t){return this.comment(t)};XMLDocumentCB.prototype.ins=function(t,e){return this.instruction(t,e)};XMLDocumentCB.prototype.dec=function(t,e,r){return this.declaration(t,e,r)};XMLDocumentCB.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)};XMLDocumentCB.prototype.e=function(t,e,r){return this.element(t,e,r)};XMLDocumentCB.prototype.n=function(t,e,r){return this.node(t,e,r)};XMLDocumentCB.prototype.t=function(t){return this.text(t)};XMLDocumentCB.prototype.d=function(t){return this.cdata(t)};XMLDocumentCB.prototype.c=function(t){return this.comment(t)};XMLDocumentCB.prototype.r=function(t){return this.raw(t)};XMLDocumentCB.prototype.i=function(t,e){return this.instruction(t,e)};XMLDocumentCB.prototype.att=function(){if(this.currentNode&&this.currentNode.type===e.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};XMLDocumentCB.prototype.a=function(){if(this.currentNode&&this.currentNode.type===e.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};XMLDocumentCB.prototype.ent=function(t,e){return this.entity(t,e)};XMLDocumentCB.prototype.pent=function(t,e){return this.pEntity(t,e)};XMLDocumentCB.prototype.not=function(t,e){return this.notation(t,e)};return XMLDocumentCB}()}).call(this)},3288:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;i=r(8064);e=r(4128);t.exports=n=function(t){s(XMLDummy,t);function XMLDummy(t){XMLDummy.__super__.constructor.call(this,t);this.type=e.Dummy}XMLDummy.prototype.clone=function(){return Object.create(this)};XMLDummy.prototype.toString=function(t){return""};return XMLDummy}(i)}).call(this)},7370:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h=function(t,e){for(var r in e){if(f.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},f={}.hasOwnProperty;l=r(2629),c=l.isObject,u=l.isFunction,a=l.getValue;o=r(8064);e=r(4128);n=r(9525);s=r(8339);t.exports=i=function(t){h(XMLElement,t);function XMLElement(t,r,n){var i,s,o,a;XMLElement.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing element name. "+this.debugInfo())}this.name=this.stringify.name(r);this.type=e.Element;this.attribs={};this.schemaTypeInfo=null;if(n!=null){this.attribute(n)}if(t.type===e.Document){this.isRoot=true;this.documentObject=t;t.rootObject=this;if(t.children){a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];if(i.type===e.DocType){i.name=this.name;break}}}}}Object.defineProperty(XMLElement.prototype,"tagName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"attributes",{get:function(){if(!this.attributeMap||!this.attributeMap.nodes){this.attributeMap=new s(this.attribs)}return this.attributeMap}});XMLElement.prototype.clone=function(){var t,e,r,n;r=Object.create(this);if(r.isRoot){r.documentObject=null}r.attribs={};n=this.attribs;for(e in n){if(!f.call(n,e))continue;t=n[e];r.attribs[e]=t.clone()}r.children=[];this.children.forEach(function(t){var e;e=t.clone();e.parent=r;return r.children.push(e)});return r};XMLElement.prototype.attribute=function(t,e){var r,i;if(t!=null){t=a(t)}if(c(t)){for(r in t){if(!f.call(t,r))continue;i=t[r];this.attribute(r,i)}}else{if(u(e)){e=e.apply()}if(this.options.keepNullAttributes&&e==null){this.attribs[t]=new n(this,t,"")}else if(e!=null){this.attribs[t]=new n(this,t,e)}}return this};XMLElement.prototype.removeAttribute=function(t){var e,r,n;if(t==null){throw new Error("Missing attribute name. "+this.debugInfo())}t=a(t);if(Array.isArray(t)){for(r=0,n=t.length;r<n;r++){e=t[r];delete this.attribs[e]}}else{delete this.attribs[t]}return this};XMLElement.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))};XMLElement.prototype.att=function(t,e){return this.attribute(t,e)};XMLElement.prototype.a=function(t,e){return this.attribute(t,e)};XMLElement.prototype.getAttribute=function(t){if(this.attribs.hasOwnProperty(t)){return this.attribs[t].value}else{return null}};XMLElement.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNode=function(t){if(this.attribs.hasOwnProperty(t)){return this.attribs[t]}else{return null}};XMLElement.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)};XMLElement.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setIdAttribute=function(t,e){if(this.attribs.hasOwnProperty(t)){return this.attribs[t].isId}else{return e}};XMLElement.prototype.setIdAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.isEqualNode=function(t){var e,r,n;if(!XMLElement.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)){return false}if(t.namespaceURI!==this.namespaceURI){return false}if(t.prefix!==this.prefix){return false}if(t.localName!==this.localName){return false}if(t.attribs.length!==this.attribs.length){return false}for(e=r=0,n=this.attribs.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r){if(!this.attribs[e].isEqualNode(t.attribs[e])){return false}}return true};return XMLElement}(o)}).call(this)},8339:function(t){(function(){var e;t.exports=e=function(){function XMLNamedNodeMap(t){this.nodes=t}Object.defineProperty(XMLNamedNodeMap.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}});XMLNamedNodeMap.prototype.clone=function(){return this.nodes=null};XMLNamedNodeMap.prototype.getNamedItem=function(t){return this.nodes[t]};XMLNamedNodeMap.prototype.setNamedItem=function(t){var e;e=this.nodes[t.nodeName];this.nodes[t.nodeName]=t;return e||null};XMLNamedNodeMap.prototype.removeNamedItem=function(t){var e;e=this.nodes[t];delete this.nodes[t];return e||null};XMLNamedNodeMap.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null};XMLNamedNodeMap.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")};XMLNamedNodeMap.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")};XMLNamedNodeMap.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")};return XMLNamedNodeMap}()}).call(this)},8064:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w,b,E={}.hasOwnProperty;b=r(2629),w=b.isObject,v=b.isFunction,g=b.isEmpty,y=b.getValue;c=null;i=null;s=null;o=null;a=null;p=null;m=null;d=null;u=null;n=null;f=null;l=null;e=null;t.exports=h=function(){function XMLNode(t){this.parent=t;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}this.value=null;this.children=[];this.baseURI=null;if(!c){c=r(7370);i=r(6789);s=r(4593);o=r(4972);a=r(9025);p=r(363);m=r(8854);d=r(3234);u=r(3288);n=r(4128);f=r(7209);l=r(8339);e=r(2346)}}Object.defineProperty(XMLNode.prototype,"nodeName",{get:function(){return this.name}});Object.defineProperty(XMLNode.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLNode.prototype,"nodeValue",{get:function(){return this.value}});Object.defineProperty(XMLNode.prototype,"parentNode",{get:function(){return this.parent}});Object.defineProperty(XMLNode.prototype,"childNodes",{get:function(){if(!this.childNodeList||!this.childNodeList.nodes){this.childNodeList=new f(this.children)}return this.childNodeList}});Object.defineProperty(XMLNode.prototype,"firstChild",{get:function(){return this.children[0]||null}});Object.defineProperty(XMLNode.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}});Object.defineProperty(XMLNode.prototype,"previousSibling",{get:function(){var t;t=this.parent.children.indexOf(this);return this.parent.children[t-1]||null}});Object.defineProperty(XMLNode.prototype,"nextSibling",{get:function(){var t;t=this.parent.children.indexOf(this);return this.parent.children[t+1]||null}});Object.defineProperty(XMLNode.prototype,"ownerDocument",{get:function(){return this.document()||null}});Object.defineProperty(XMLNode.prototype,"textContent",{get:function(){var t,e,r,i,s;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){s="";i=this.children;for(e=0,r=i.length;e<r;e++){t=i[e];if(t.textContent){s+=t.textContent}}return s}else{return null}},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}});XMLNode.prototype.setParent=function(t){var e,r,n,i,s;this.parent=t;if(t){this.options=t.options;this.stringify=t.stringify}i=this.children;s=[];for(r=0,n=i.length;r<n;r++){e=i[r];s.push(e.setParent(this))}return s};XMLNode.prototype.element=function(t,e,r){var n,i,s,o,a,u,c,l,h,f,d;u=null;if(e===null&&r==null){h=[{},null],e=h[0],r=h[1]}if(e==null){e={}}e=y(e);if(!w(e)){f=[e,r],r=f[0],e=f[1]}if(t!=null){t=y(t)}if(Array.isArray(t)){for(s=0,c=t.length;s<c;s++){i=t[s];u=this.element(i)}}else if(v(t)){u=this.element(t.apply())}else if(w(t)){for(a in t){if(!E.call(t,a))continue;d=t[a];if(v(d)){d=d.apply()}if(!this.options.ignoreDecorators&&this.stringify.convertAttKey&&a.indexOf(this.stringify.convertAttKey)===0){u=this.attribute(a.substr(this.stringify.convertAttKey.length),d)}else if(!this.options.separateArrayItems&&Array.isArray(d)&&g(d)){u=this.dummy()}else if(w(d)&&g(d)){u=this.element(a)}else if(!this.options.keepNullNodes&&d==null){u=this.dummy()}else if(!this.options.separateArrayItems&&Array.isArray(d)){for(o=0,l=d.length;o<l;o++){i=d[o];n={};n[a]=i;u=this.element(n)}}else if(w(d)){if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&a.indexOf(this.stringify.convertTextKey)===0){u=this.element(d)}else{u=this.element(a);u.element(d)}}else{u=this.element(a,d)}}}else if(!this.options.keepNullNodes&&r===null){u=this.dummy()}else{if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&t.indexOf(this.stringify.convertTextKey)===0){u=this.text(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&t.indexOf(this.stringify.convertCDataKey)===0){u=this.cdata(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&t.indexOf(this.stringify.convertCommentKey)===0){u=this.comment(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertRawKey&&t.indexOf(this.stringify.convertRawKey)===0){u=this.raw(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&t.indexOf(this.stringify.convertPIKey)===0){u=this.instruction(t.substr(this.stringify.convertPIKey.length),r)}else{u=this.node(t,e,r)}}if(u==null){throw new Error("Could not create any elements with: "+t+". "+this.debugInfo())}return u};XMLNode.prototype.insertBefore=function(t,e,r){var n,i,s,o,a;if(t!=null?t.type:void 0){s=t;o=e;s.setParent(this);if(o){i=children.indexOf(o);a=children.splice(i);children.push(s);Array.prototype.push.apply(children,a)}else{children.push(s)}return s}else{if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(t))}i=this.parent.children.indexOf(this);a=this.parent.children.splice(i);n=this.parent.element(t,e,r);Array.prototype.push.apply(this.parent.children,a);return n}};XMLNode.prototype.insertAfter=function(t,e,r){var n,i,s;if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(t))}i=this.parent.children.indexOf(this);s=this.parent.children.splice(i+1);n=this.parent.element(t,e,r);Array.prototype.push.apply(this.parent.children,s);return n};XMLNode.prototype.remove=function(){var t,e;if(this.isRoot){throw new Error("Cannot remove the root element. "+this.debugInfo())}t=this.parent.children.indexOf(this);[].splice.apply(this.parent.children,[t,t-t+1].concat(e=[])),e;return this.parent};XMLNode.prototype.node=function(t,e,r){var n,i;if(t!=null){t=y(t)}e||(e={});e=y(e);if(!w(e)){i=[e,r],r=i[0],e=i[1]}n=new c(this,t,e);if(r!=null){n.text(r)}this.children.push(n);return n};XMLNode.prototype.text=function(t){var e;if(w(t)){this.element(t)}e=new m(this,t);this.children.push(e);return this};XMLNode.prototype.cdata=function(t){var e;e=new i(this,t);this.children.push(e);return this};XMLNode.prototype.comment=function(t){var e;e=new s(this,t);this.children.push(e);return this};XMLNode.prototype.commentBefore=function(t){var e,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r);e=this.parent.comment(t);Array.prototype.push.apply(this.parent.children,n);return this};XMLNode.prototype.commentAfter=function(t){var e,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r+1);e=this.parent.comment(t);Array.prototype.push.apply(this.parent.children,n);return this};XMLNode.prototype.raw=function(t){var e;e=new p(this,t);this.children.push(e);return this};XMLNode.prototype.dummy=function(){var t;t=new u(this);return t};XMLNode.prototype.instruction=function(t,e){var r,n,i,s,o;if(t!=null){t=y(t)}if(e!=null){e=y(e)}if(Array.isArray(t)){for(s=0,o=t.length;s<o;s++){r=t[s];this.instruction(r)}}else if(w(t)){for(r in t){if(!E.call(t,r))continue;n=t[r];this.instruction(r,n)}}else{if(v(e)){e=e.apply()}i=new d(this,t,e);this.children.push(i)}return this};XMLNode.prototype.instructionBefore=function(t,e){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n);r=this.parent.instruction(t,e);Array.prototype.push.apply(this.parent.children,i);return this};XMLNode.prototype.instructionAfter=function(t,e){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n+1);r=this.parent.instruction(t,e);Array.prototype.push.apply(this.parent.children,i);return this};XMLNode.prototype.declaration=function(t,e,r){var i,s;i=this.document();s=new o(i,t,e,r);if(i.children.length===0){i.children.unshift(s)}else if(i.children[0].type===n.Declaration){i.children[0]=s}else{i.children.unshift(s)}return i.root()||i};XMLNode.prototype.dtd=function(t,e){var r,i,s,o,u,c,l,h,f,d;i=this.document();s=new a(i,t,e);f=i.children;for(o=u=0,l=f.length;u<l;o=++u){r=f[o];if(r.type===n.DocType){i.children[o]=s;return s}}d=i.children;for(o=c=0,h=d.length;c<h;o=++c){r=d[o];if(r.isRoot){i.children.splice(o,0,s);return s}}i.children.push(s);return s};XMLNode.prototype.up=function(){if(this.isRoot){throw new Error("The root node has no parent. Use doc() if you need to get the document object.")}return this.parent};XMLNode.prototype.root=function(){var t;t=this;while(t){if(t.type===n.Document){return t.rootObject}else if(t.isRoot){return t}else{t=t.parent}}};XMLNode.prototype.document=function(){var t;t=this;while(t){if(t.type===n.Document){return t}else{t=t.parent}}};XMLNode.prototype.end=function(t){return this.document().end(t)};XMLNode.prototype.prev=function(){var t;t=this.parent.children.indexOf(this);if(t<1){throw new Error("Already at the first node. "+this.debugInfo())}return this.parent.children[t-1]};XMLNode.prototype.next=function(){var t;t=this.parent.children.indexOf(this);if(t===-1||t===this.parent.children.length-1){throw new Error("Already at the last node. "+this.debugInfo())}return this.parent.children[t+1]};XMLNode.prototype.importDocument=function(t){var e;e=t.root().clone();e.parent=this;e.isRoot=false;this.children.push(e);return this};XMLNode.prototype.debugInfo=function(t){var e,r;t=t||this.name;if(t==null&&!((e=this.parent)!=null?e.name:void 0)){return""}else if(t==null){return"parent: <"+this.parent.name+">"}else if(!((r=this.parent)!=null?r.name:void 0)){return"node: <"+t+">"}else{return"node: <"+t+">, parent: <"+this.parent.name+">"}};XMLNode.prototype.ele=function(t,e,r){return this.element(t,e,r)};XMLNode.prototype.nod=function(t,e,r){return this.node(t,e,r)};XMLNode.prototype.txt=function(t){return this.text(t)};XMLNode.prototype.dat=function(t){return this.cdata(t)};XMLNode.prototype.com=function(t){return this.comment(t)};XMLNode.prototype.ins=function(t,e){return this.instruction(t,e)};XMLNode.prototype.doc=function(){return this.document()};XMLNode.prototype.dec=function(t,e,r){return this.declaration(t,e,r)};XMLNode.prototype.e=function(t,e,r){return this.element(t,e,r)};XMLNode.prototype.n=function(t,e,r){return this.node(t,e,r)};XMLNode.prototype.t=function(t){return this.text(t)};XMLNode.prototype.d=function(t){return this.cdata(t)};XMLNode.prototype.c=function(t){return this.comment(t)};XMLNode.prototype.r=function(t){return this.raw(t)};XMLNode.prototype.i=function(t,e){return this.instruction(t,e)};XMLNode.prototype.u=function(){return this.up()};XMLNode.prototype.importXMLBuilder=function(t){return this.importDocument(t)};XMLNode.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.hasChildNodes=function(){return this.children.length!==0};XMLNode.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isSupported=function(t,e){return true};XMLNode.prototype.hasAttributes=function(){return this.attribs.length!==0};XMLNode.prototype.compareDocumentPosition=function(t){var r,n;r=this;if(r===t){return 0}else if(this.document()!==t.document()){n=e.Disconnected|e.ImplementationSpecific;if(Math.random()<.5){n|=e.Preceding}else{n|=e.Following}return n}else if(r.isAncestor(t)){return e.Contains|e.Preceding}else if(r.isDescendant(t)){return e.Contains|e.Following}else if(r.isPreceding(t)){return e.Preceding}else{return e.Following}};XMLNode.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isEqualNode=function(t){var e,r,n;if(t.nodeType!==this.nodeType){return false}if(t.children.length!==this.children.length){return false}for(e=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r){if(!this.children[e].isEqualNode(t.children[e])){return false}}return true};XMLNode.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.setUserData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.contains=function(t){if(!t){return false}return t===this||this.isDescendant(t)};XMLNode.prototype.isDescendant=function(t){var e,r,n,i,s;s=this.children;for(n=0,i=s.length;n<i;n++){e=s[n];if(t===e){return true}r=e.isDescendant(t);if(r){return true}}return false};XMLNode.prototype.isAncestor=function(t){return t.isDescendant(this)};XMLNode.prototype.isPreceding=function(t){var e,r;e=this.treePosition(t);r=this.treePosition(this);if(e===-1||r===-1){return false}else{return e<r}};XMLNode.prototype.isFollowing=function(t){var e,r;e=this.treePosition(t);r=this.treePosition(this);if(e===-1||r===-1){return false}else{return e>r}};XMLNode.prototype.treePosition=function(t){var e,r;r=0;e=false;this.foreachTreeNode(this.document(),function(n){r++;if(!e&&n===t){return e=true}});if(e){return r}else{return-1}};XMLNode.prototype.foreachTreeNode=function(t,e){var r,n,i,s,o;t||(t=this.document());s=t.children;for(n=0,i=s.length;n<i;n++){r=s[n];if(o=e(r)){return o}else{o=this.foreachTreeNode(r,e);if(o){return o}}}};return XMLNode}()}).call(this)},7209:function(t){(function(){var e;t.exports=e=function(){function XMLNodeList(t){this.nodes=t}Object.defineProperty(XMLNodeList.prototype,"length",{get:function(){return this.nodes.length||0}});XMLNodeList.prototype.clone=function(){return this.nodes=null};XMLNodeList.prototype.item=function(t){return this.nodes[t]||null};return XMLNodeList}()}).call(this)},3234:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;e=r(4128);n=r(3527);t.exports=i=function(t){s(XMLProcessingInstruction,t);function XMLProcessingInstruction(t,r,n){XMLProcessingInstruction.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing instruction target. "+this.debugInfo())}this.type=e.ProcessingInstruction;this.target=this.stringify.insTarget(r);this.name=this.target;if(n){this.value=this.stringify.insValue(n)}}XMLProcessingInstruction.prototype.clone=function(){return Object.create(this)};XMLProcessingInstruction.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))};XMLProcessingInstruction.prototype.isEqualNode=function(t){if(!XMLProcessingInstruction.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)){return false}if(t.target!==this.target){return false}return true};return XMLProcessingInstruction}(n)}).call(this)},363:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;e=r(4128);n=r(8064);t.exports=i=function(t){s(XMLRaw,t);function XMLRaw(t,r){XMLRaw.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing raw text. "+this.debugInfo())}this.type=e.Raw;this.value=this.stringify.raw(r)}XMLRaw.prototype.clone=function(){return Object.create(this)};XMLRaw.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))};return XMLRaw}(n)}).call(this)},359:function(t,e,r){(function(){var e,n,i,s,o=function(t,e){for(var r in e){if(a.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},a={}.hasOwnProperty;e=r(4128);s=r(8126);n=r(8413);t.exports=i=function(t){o(XMLStreamWriter,t);function XMLStreamWriter(t,e){this.stream=t;XMLStreamWriter.__super__.constructor.call(this,e)}XMLStreamWriter.prototype.endline=function(t,e,r){if(t.isLastRootNode&&e.state===n.CloseTag){return""}else{return XMLStreamWriter.__super__.endline.call(this,t,e,r)}};XMLStreamWriter.prototype.document=function(t,e){var r,n,i,s,o,a,u,c,l;u=t.children;for(n=i=0,o=u.length;i<o;n=++i){r=u[n];r.isLastRootNode=n===t.children.length-1}e=this.filterOptions(e);c=t.children;l=[];for(s=0,a=c.length;s<a;s++){r=c[s];l.push(this.writeChildNode(r,e,0))}return l};XMLStreamWriter.prototype.attribute=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.attribute.call(this,t,e,r))};XMLStreamWriter.prototype.cdata=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.cdata.call(this,t,e,r))};XMLStreamWriter.prototype.comment=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.comment.call(this,t,e,r))};XMLStreamWriter.prototype.declaration=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.declaration.call(this,t,e,r))};XMLStreamWriter.prototype.docType=function(t,e,r){var i,s,o,a;r||(r=0);this.openNode(t,e,r);e.state=n.OpenTag;this.stream.write(this.indent(t,e,r));this.stream.write("<!DOCTYPE "+t.root().name);if(t.pubID&&t.sysID){this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"')}else if(t.sysID){this.stream.write(' SYSTEM "'+t.sysID+'"')}if(t.children.length>0){this.stream.write(" [");this.stream.write(this.endline(t,e,r));e.state=n.InsideTag;a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];this.writeChildNode(i,e,r+1)}e.state=n.CloseTag;this.stream.write("]")}e.state=n.CloseTag;this.stream.write(e.spaceBeforeSlash+">");this.stream.write(this.endline(t,e,r));e.state=n.None;return this.closeNode(t,e,r)};XMLStreamWriter.prototype.element=function(t,r,i){var s,o,u,c,l,h,f,d,p,m;i||(i=0);this.openNode(t,r,i);r.state=n.OpenTag;this.stream.write(this.indent(t,r,i)+"<"+t.name);p=t.attribs;for(f in p){if(!a.call(p,f))continue;s=p[f];this.attribute(s,r,i)}u=t.children.length;c=u===0?null:t.children[0];if(u===0||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&t.value===""})){if(r.allowEmpty){this.stream.write(">");r.state=n.CloseTag;this.stream.write("</"+t.name+">")}else{r.state=n.CloseTag;this.stream.write(r.spaceBeforeSlash+"/>")}}else if(r.pretty&&u===1&&(c.type===e.Text||c.type===e.Raw)&&c.value!=null){this.stream.write(">");r.state=n.InsideTag;r.suppressPrettyCount++;d=true;this.writeChildNode(c,r,i+1);r.suppressPrettyCount--;d=false;r.state=n.CloseTag;this.stream.write("</"+t.name+">")}else{this.stream.write(">"+this.endline(t,r,i));r.state=n.InsideTag;m=t.children;for(l=0,h=m.length;l<h;l++){o=m[l];this.writeChildNode(o,r,i+1)}r.state=n.CloseTag;this.stream.write(this.indent(t,r,i)+"</"+t.name+">")}this.stream.write(this.endline(t,r,i));r.state=n.None;return this.closeNode(t,r,i)};XMLStreamWriter.prototype.processingInstruction=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this,t,e,r))};XMLStreamWriter.prototype.raw=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.raw.call(this,t,e,r))};XMLStreamWriter.prototype.text=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.text.call(this,t,e,r))};XMLStreamWriter.prototype.dtdAttList=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this,t,e,r))};XMLStreamWriter.prototype.dtdElement=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this,t,e,r))};XMLStreamWriter.prototype.dtdEntity=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this,t,e,r))};XMLStreamWriter.prototype.dtdNotation=function(t,e,r){return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this,t,e,r))};return XMLStreamWriter}(s)}).call(this)},6939:function(t,e,r){(function(){var e,n,i=function(t,e){for(var r in e){if(s.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},s={}.hasOwnProperty;n=r(8126);t.exports=e=function(t){i(XMLStringWriter,t);function XMLStringWriter(t){XMLStringWriter.__super__.constructor.call(this,t)}XMLStringWriter.prototype.document=function(t,e){var r,n,i,s,o;e=this.filterOptions(e);s="";o=t.children;for(n=0,i=o.length;n<i;n++){r=o[n];s+=this.writeChildNode(r,e,0)}if(e.pretty&&s.slice(-e.newline.length)===e.newline){s=s.slice(0,-e.newline.length)}return s};return XMLStringWriter}(n)}).call(this)},916:function(t){(function(){var e,r=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.exports=e=function(){function XMLStringifier(t){this.assertLegalName=r(this.assertLegalName,this);this.assertLegalChar=r(this.assertLegalChar,this);var e,i,s;t||(t={});this.options=t;if(!this.options.version){this.options.version="1.0"}i=t.stringify||{};for(e in i){if(!n.call(i,e))continue;s=i[e];this[e]=s}}XMLStringifier.prototype.name=function(t){if(this.options.noValidation){return t}return this.assertLegalName(""+t||"")};XMLStringifier.prototype.text=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(this.textEscape(""+t||""))};XMLStringifier.prototype.cdata=function(t){if(this.options.noValidation){return t}t=""+t||"";t=t.replace("]]>","]]]]><![CDATA[>");return this.assertLegalChar(t)};XMLStringifier.prototype.comment=function(t){if(this.options.noValidation){return t}t=""+t||"";if(t.match(/--/)){throw new Error("Comment text cannot contain double-hypen: "+t)}return this.assertLegalChar(t)};XMLStringifier.prototype.raw=function(t){if(this.options.noValidation){return t}return""+t||""};XMLStringifier.prototype.attValue=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(this.attEscape(t=""+t||""))};XMLStringifier.prototype.insTarget=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.insValue=function(t){if(this.options.noValidation){return t}t=""+t||"";if(t.match(/\?>/)){throw new Error("Invalid processing instruction value: "+t)}return this.assertLegalChar(t)};XMLStringifier.prototype.xmlVersion=function(t){if(this.options.noValidation){return t}t=""+t||"";if(!t.match(/1\.[0-9]+/)){throw new Error("Invalid version number: "+t)}return t};XMLStringifier.prototype.xmlEncoding=function(t){if(this.options.noValidation){return t}t=""+t||"";if(!t.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)){throw new Error("Invalid encoding: "+t)}return this.assertLegalChar(t)};XMLStringifier.prototype.xmlStandalone=function(t){if(this.options.noValidation){return t}if(t){return"yes"}else{return"no"}};XMLStringifier.prototype.dtdPubID=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdSysID=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdElementValue=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdAttType=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdAttDefault=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdEntityValue=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.dtdNData=function(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")};XMLStringifier.prototype.convertAttKey="@";XMLStringifier.prototype.convertPIKey="?";XMLStringifier.prototype.convertTextKey="#text";XMLStringifier.prototype.convertCDataKey="#cdata";XMLStringifier.prototype.convertCommentKey="#comment";XMLStringifier.prototype.convertRawKey="#raw";XMLStringifier.prototype.assertLegalChar=function(t){var e,r;if(this.options.noValidation){return t}e="";if(this.options.version==="1.0"){e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=t.match(e)){throw new Error("Invalid character in string: "+t+" at index "+r.index)}}else if(this.options.version==="1.1"){e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=t.match(e)){throw new Error("Invalid character in string: "+t+" at index "+r.index)}}return t};XMLStringifier.prototype.assertLegalName=function(t){var e;if(this.options.noValidation){return t}this.assertLegalChar(t);e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;if(!t.match(e)){throw new Error("Invalid character in name")}return t};XMLStringifier.prototype.textEscape=function(t){var e;if(this.options.noValidation){return t}e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")};XMLStringifier.prototype.attEscape=function(t){var e;if(this.options.noValidation){return t}e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")};return XMLStringifier}()}).call(this)},8854:function(t,e,r){(function(){var e,n,i,s=function(t,e){for(var r in e){if(o.call(e,r))t[r]=e[r]}function ctor(){this.constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},o={}.hasOwnProperty;e=r(4128);n=r(3527);t.exports=i=function(t){s(XMLText,t);function XMLText(t,r){XMLText.__super__.constructor.call(this,t);if(r==null){throw new Error("Missing element text. "+this.debugInfo())}this.name="#text";this.type=e.Text;this.value=this.stringify.text(r)}Object.defineProperty(XMLText.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLText.prototype,"wholeText",{get:function(){var t,e,r;r="";e=this.previousSibling;while(e){r=e.data+r;e=e.previousSibling}r+=this.data;t=this.nextSibling;while(t){r=r+t.data;t=t.nextSibling}return r}});XMLText.prototype.clone=function(){return Object.create(this)};XMLText.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))};XMLText.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLText.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())};return XMLText}(n)}).call(this)},8126:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w={}.hasOwnProperty;v=r(2629).assign;e=r(4128);l=r(4972);h=r(9025);i=r(6789);s=r(4593);d=r(7370);m=r(363);y=r(8854);p=r(3234);f=r(3288);o=r(1066);a=r(3584);u=r(9346);c=r(853);n=r(8413);t.exports=g=function(){function XMLWriterBase(t){var e,r,n;t||(t={});this.options=t;r=t.writer||{};for(e in r){if(!w.call(r,e))continue;n=r[e];this["_"+e]=this[e];this[e]=n}}XMLWriterBase.prototype.filterOptions=function(t){var e,r,i,s,o,a,u,c;t||(t={});t=v({},this.options,t);e={writer:this};e.pretty=t.pretty||false;e.allowEmpty=t.allowEmpty||false;e.indent=(r=t.indent)!=null?r:"  ";e.newline=(i=t.newline)!=null?i:"\n";e.offset=(s=t.offset)!=null?s:0;e.dontPrettyTextNodes=(o=(a=t.dontPrettyTextNodes)!=null?a:t.dontprettytextnodes)!=null?o:0;e.spaceBeforeSlash=(u=(c=t.spaceBeforeSlash)!=null?c:t.spacebeforeslash)!=null?u:"";if(e.spaceBeforeSlash===true){e.spaceBeforeSlash=" "}e.suppressPrettyCount=0;e.user={};e.state=n.None;return e};XMLWriterBase.prototype.indent=function(t,e,r){var n;if(!e.pretty||e.suppressPrettyCount){return""}else if(e.pretty){n=(r||0)+e.offset+1;if(n>0){return new Array(n).join(e.indent)}}return""};XMLWriterBase.prototype.endline=function(t,e,r){if(!e.pretty||e.suppressPrettyCount){return""}else{return e.newline}};XMLWriterBase.prototype.attribute=function(t,e,r){var n;this.openAttribute(t,e,r);n=" "+t.name+'="'+t.value+'"';this.closeAttribute(t,e,r);return n};XMLWriterBase.prototype.cdata=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<![CDATA[";e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+="]]>"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.comment=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"\x3c!-- ";e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=" --\x3e"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.declaration=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<?xml";e.state=n.InsideTag;i+=' version="'+t.version+'"';if(t.encoding!=null){i+=' encoding="'+t.encoding+'"'}if(t.standalone!=null){i+=' standalone="'+t.standalone+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+"?>";i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.docType=function(t,e,r){var i,s,o,a,u;r||(r=0);this.openNode(t,e,r);e.state=n.OpenTag;a=this.indent(t,e,r);a+="<!DOCTYPE "+t.root().name;if(t.pubID&&t.sysID){a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){a+=' SYSTEM "'+t.sysID+'"'}if(t.children.length>0){a+=" [";a+=this.endline(t,e,r);e.state=n.InsideTag;u=t.children;for(s=0,o=u.length;s<o;s++){i=u[s];a+=this.writeChildNode(i,e,r+1)}e.state=n.CloseTag;a+="]"}e.state=n.CloseTag;a+=e.spaceBeforeSlash+">";a+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return a};XMLWriterBase.prototype.element=function(t,r,i){var s,o,a,u,c,l,h,f,d,p,m,y,g,v;i||(i=0);p=false;m="";this.openNode(t,r,i);r.state=n.OpenTag;m+=this.indent(t,r,i)+"<"+t.name;y=t.attribs;for(d in y){if(!w.call(y,d))continue;s=y[d];m+=this.attribute(s,r,i)}a=t.children.length;u=a===0?null:t.children[0];if(a===0||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&t.value===""})){if(r.allowEmpty){m+=">";r.state=n.CloseTag;m+="</"+t.name+">"+this.endline(t,r,i)}else{r.state=n.CloseTag;m+=r.spaceBeforeSlash+"/>"+this.endline(t,r,i)}}else if(r.pretty&&a===1&&(u.type===e.Text||u.type===e.Raw)&&u.value!=null){m+=">";r.state=n.InsideTag;r.suppressPrettyCount++;p=true;m+=this.writeChildNode(u,r,i+1);r.suppressPrettyCount--;p=false;r.state=n.CloseTag;m+="</"+t.name+">"+this.endline(t,r,i)}else{if(r.dontPrettyTextNodes){g=t.children;for(c=0,h=g.length;c<h;c++){o=g[c];if((o.type===e.Text||o.type===e.Raw)&&o.value!=null){r.suppressPrettyCount++;p=true;break}}}m+=">"+this.endline(t,r,i);r.state=n.InsideTag;v=t.children;for(l=0,f=v.length;l<f;l++){o=v[l];m+=this.writeChildNode(o,r,i+1)}r.state=n.CloseTag;m+=this.indent(t,r,i)+"</"+t.name+">";if(p){r.suppressPrettyCount--}m+=this.endline(t,r,i);r.state=n.None}this.closeNode(t,r,i);return m};XMLWriterBase.prototype.writeChildNode=function(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw new Error("Unknown XML node type: "+t.constructor.name)}};XMLWriterBase.prototype.processingInstruction=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<?";e.state=n.InsideTag;i+=t.target;if(t.value){i+=" "+t.value}e.state=n.CloseTag;i+=e.spaceBeforeSlash+"?>";i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.raw=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r);e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.text=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r);e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.dtdAttList=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ATTLIST";e.state=n.InsideTag;i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType;if(t.defaultValueType!=="#DEFAULT"){i+=" "+t.defaultValueType}if(t.defaultValue){i+=' "'+t.defaultValue+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.dtdElement=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ELEMENT";e.state=n.InsideTag;i+=" "+t.name+" "+t.value;e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.dtdEntity=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ENTITY";e.state=n.InsideTag;if(t.pe){i+=" %"}i+=" "+t.name;if(t.value){i+=' "'+t.value+'"'}else{if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}if(t.nData){i+=" NDATA "+t.nData}}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.dtdNotation=function(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!NOTATION";e.state=n.InsideTag;i+=" "+t.name;if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.pubID){i+=' PUBLIC "'+t.pubID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i};XMLWriterBase.prototype.openNode=function(t,e,r){};XMLWriterBase.prototype.closeNode=function(t,e,r){};XMLWriterBase.prototype.openAttribute=function(t,e,r){};XMLWriterBase.prototype.closeAttribute=function(t,e,r){};return XMLWriterBase}()}).call(this)},3131:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h;h=r(2629),c=h.assign,l=h.isFunction;i=r(9490);s=r(3315);o=r(1523);u=r(6939);a=r(359);e=r(4128);n=r(8413);t.exports.create=function(t,e,r,n){var i,o;if(t==null){throw new Error("Root element needs a name.")}n=c({},e,r,n);i=new s(n);o=i.element(t);if(!n.headless){i.declaration(n);if(n.pubID!=null||n.sysID!=null){i.dtd(n)}}return o};t.exports.begin=function(t,e,r){var n;if(l(t)){n=[t,e],e=n[0],r=n[1];t={}}if(e){return new o(t,e,r)}else{return new s(t)}};t.exports.stringWriter=function(t){return new u(t)};t.exports.streamWriter=function(t,e){return new a(t,e)};t.exports.implementation=new i;t.exports.nodeType=e;t.exports.writerState=n}).call(this)},144:function(t){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},7762:function(t){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},983:function(t){(function(){var e,r,n,i,s,o,a,u={}.hasOwnProperty;e=function(t,...e){var r,n,i,o;if(s(Object.assign)){Object.assign.apply(null,arguments)}else{for(r=0,i=e.length;r<i;r++){o=e[r];if(o!=null){for(n in o){if(!u.call(o,n))continue;t[n]=o[n]}}}}return t};s=function(t){return!!t&&Object.prototype.toString.call(t)==="[object Function]"};o=function(t){var e;return!!t&&((e=typeof t)==="function"||e==="object")};n=function(t){if(s(Array.isArray)){return Array.isArray(t)}else{return Object.prototype.toString.call(t)==="[object Array]"}};i=function(t){var e;if(n(t)){return!t.length}else{for(e in t){if(!u.call(t,e))continue;return false}return true}};a=function(t){var e,r;return o(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&typeof e==="function"&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)};r=function(t){if(s(t.valueOf)){return t.valueOf()}else{return t}};t.exports.assign=e;t.exports.isFunction=s;t.exports.isObject=o;t.exports.isArray=n;t.exports.isEmpty=i;t.exports.isPlainObject=a;t.exports.getValue=r}).call(this)},140:function(t){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},1395:function(t,e,r){(function(){var e,n,i;e=r(7762);i=r(5089);t.exports=n=function(){class XMLAttribute{constructor(t,r,n){this.parent=t;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}if(r==null){throw new Error("Missing attribute name. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.value=this.stringify.attValue(n);this.type=e.Attribute;this.isId=false;this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))}debugInfo(t){t=t||this.name;if(t==null){return"parent: <"+this.parent.name+">"}else{return"attribute: {"+t+"}, parent: <"+this.parent.name+">"}}isEqualNode(t){if(t.namespaceURI!==this.namespaceURI){return false}if(t.prefix!==this.prefix){return false}if(t.localName!==this.localName){return false}if(t.value!==this.value){return false}return true}}Object.defineProperty(XMLAttribute.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLAttribute.prototype,"ownerElement",{get:function(){return this.parent}});Object.defineProperty(XMLAttribute.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}});Object.defineProperty(XMLAttribute.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLAttribute.prototype,"specified",{get:function(){return true}});return XMLAttribute}.call(this)}).call(this)},5261:function(t,e,r){(function(){var e,n,i;e=r(7762);i=r(4765);t.exports=n=class XMLCData extends i{constructor(t,r){super(t);if(r==null){throw new Error("Missing CDATA text. "+this.debugInfo())}this.name="#cdata-section";this.type=e.CData;this.value=this.stringify.cdata(r)}clone(){return Object.create(this)}toString(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))}}}).call(this)},4765:function(t,e,r){(function(){var e,n;n=r(5089);t.exports=e=function(){class XMLCharacterData extends n{constructor(t){super(t);this.value=""}clone(){return Object.create(this)}substringData(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(t){if(!super.isEqualNode(t)){return false}if(t.data!==this.data){return false}return true}}Object.defineProperty(XMLCharacterData.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}});Object.defineProperty(XMLCharacterData.prototype,"length",{get:function(){return this.value.length}});Object.defineProperty(XMLCharacterData.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}});return XMLCharacterData}.call(this)}).call(this)},360:function(t,e,r){(function(){var e,n,i;e=r(7762);n=r(4765);t.exports=i=class XMLComment extends n{constructor(t,r){super(t);if(r==null){throw new Error("Missing comment text. "+this.debugInfo())}this.name="#comment";this.type=e.Comment;this.value=this.stringify.comment(r)}clone(){return Object.create(this)}toString(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))}}}).call(this)},5675:function(t,e,r){(function(){var e,n,i;n=r(121);i=r(8207);t.exports=e=function(){class XMLDOMConfiguration{constructor(){var t;this.defaultParams={"canonical-form":false,"cdata-sections":false,comments:false,"datatype-normalization":false,"element-content-whitespace":true,entities:true,"error-handler":new n,infoset:true,"validate-if-schema":false,namespaces:true,"namespace-declarations":true,"normalize-characters":false,"schema-location":"","schema-type":"","split-cdata-sections":true,validate:false,"well-formed":true};this.params=t=Object.create(this.defaultParams)}getParameter(t){if(this.params.hasOwnProperty(t)){return this.params[t]}else{return null}}canSetParameter(t,e){return true}setParameter(t,e){if(e!=null){return this.params[t]=e}else{return delete this.params[t]}}}Object.defineProperty(XMLDOMConfiguration.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}});return XMLDOMConfiguration}.call(this)}).call(this)},121:function(t){(function(){var e;t.exports=e=class XMLDOMErrorHandler{constructor(){}handleError(t){throw new Error(t)}}}).call(this)},2692:function(t){(function(){var e;t.exports=e=class XMLDOMImplementation{hasFeature(t,e){return true}createDocumentType(t,e,r){throw new Error("This DOM method is not implemented.")}createDocument(t,e,r){throw new Error("This DOM method is not implemented.")}createHTMLDocument(t){throw new Error("This DOM method is not implemented.")}getFeature(t,e){throw new Error("This DOM method is not implemented.")}}}).call(this)},8207:function(t){(function(){var e;t.exports=e=function(){class XMLDOMStringList{constructor(t){this.arr=t||[]}item(t){return this.arr[t]||null}contains(t){return this.arr.indexOf(t)!==-1}}Object.defineProperty(XMLDOMStringList.prototype,"length",{get:function(){return this.arr.length}});return XMLDOMStringList}.call(this)}).call(this)},2529:function(t,e,r){(function(){var e,n,i;i=r(5089);e=r(7762);t.exports=n=class XMLDTDAttList extends i{constructor(t,r,n,i,s,o){super(t);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(n==null){throw new Error("Missing DTD attribute name. "+this.debugInfo(r))}if(!i){throw new Error("Missing DTD attribute type. "+this.debugInfo(r))}if(!s){throw new Error("Missing DTD attribute default. "+this.debugInfo(r))}if(s.indexOf("#")!==0){s="#"+s}if(!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)){throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r))}if(o&&!s.match(/^(#FIXED|#DEFAULT)$/)){throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r))}this.elementName=this.stringify.name(r);this.type=e.AttributeDeclaration;this.attributeName=this.stringify.name(n);this.attributeType=this.stringify.dtdAttType(i);if(o){this.defaultValue=this.stringify.dtdAttDefault(o)}this.defaultValueType=s}toString(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))}}}).call(this)},7486:function(t,e,r){(function(){var e,n,i;i=r(5089);e=r(7762);t.exports=n=class XMLDTDElement extends i{constructor(t,r,n){super(t);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(!n){n="(#PCDATA)"}if(Array.isArray(n)){n="("+n.join(",")+")"}this.name=this.stringify.name(r);this.type=e.ElementDeclaration;this.value=this.stringify.dtdElementValue(n)}toString(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))}}}).call(this)},9252:function(t,e,r){(function(){var e,n,i,s;({isObject:s}=r(983));i=r(5089);e=r(7762);t.exports=n=function(){class XMLDTDEntity extends i{constructor(t,r,n,i){super(t);if(n==null){throw new Error("Missing DTD entity name. "+this.debugInfo(n))}if(i==null){throw new Error("Missing DTD entity value. "+this.debugInfo(n))}this.pe=!!r;this.name=this.stringify.name(n);this.type=e.EntityDeclaration;if(!s(i)){this.value=this.stringify.dtdEntityValue(i);this.internal=true}else{if(!i.pubID&&!i.sysID){throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n))}if(i.pubID&&!i.sysID){throw new Error("System identifier is required for a public external entity. "+this.debugInfo(n))}this.internal=false;if(i.pubID!=null){this.pubID=this.stringify.dtdPubID(i.pubID)}if(i.sysID!=null){this.sysID=this.stringify.dtdSysID(i.sysID)}if(i.nData!=null){this.nData=this.stringify.dtdNData(i.nData)}if(this.pe&&this.nData){throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}}}toString(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))}}Object.defineProperty(XMLDTDEntity.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDEntity.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDTDEntity.prototype,"notationName",{get:function(){return this.nData||null}});Object.defineProperty(XMLDTDEntity.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlVersion",{get:function(){return null}});return XMLDTDEntity}.call(this)}).call(this)},3353:function(t,e,r){(function(){var e,n,i;i=r(5089);e=r(7762);t.exports=n=function(){class XMLDTDNotation extends i{constructor(t,r,n){super(t);if(r==null){throw new Error("Missing DTD notation name. "+this.debugInfo(r))}if(!n.pubID&&!n.sysID){throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.type=e.NotationDeclaration;if(n.pubID!=null){this.pubID=this.stringify.dtdPubID(n.pubID)}if(n.sysID!=null){this.sysID=this.stringify.dtdSysID(n.sysID)}}toString(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))}}Object.defineProperty(XMLDTDNotation.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDNotation.prototype,"systemId",{get:function(){return this.sysID}});return XMLDTDNotation}.call(this)}).call(this)},6645:function(t,e,r){(function(){var e,n,i,s;({isObject:s}=r(983));i=r(5089);e=r(7762);t.exports=n=class XMLDeclaration extends i{constructor(t,r,n,i){super(t);if(s(r)){({version:r,encoding:n,standalone:i}=r)}if(!r){r="1.0"}this.type=e.Declaration;this.version=this.stringify.xmlVersion(r);if(n!=null){this.encoding=this.stringify.xmlEncoding(n)}if(i!=null){this.standalone=this.stringify.xmlStandalone(i)}}toString(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))}}}).call(this)},8873:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l;({isObject:l}=r(983));c=r(5089);e=r(7762);n=r(2529);s=r(9252);i=r(7486);o=r(3353);u=r(2076);t.exports=a=function(){class XMLDocType extends c{constructor(t,r,n){var i,s,o,a;super(t);this.type=e.DocType;if(t.children){a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];if(i.type===e.Element){this.name=i.name;break}}}this.documentObject=t;if(l(r)){({pubID:r,sysID:n}=r)}if(n==null){[n,r]=[r,n]}if(r!=null){this.pubID=this.stringify.dtdPubID(r)}if(n!=null){this.sysID=this.stringify.dtdSysID(n)}}element(t,e){var r;r=new i(this,t,e);this.children.push(r);return this}attList(t,e,r,i,s){var o;o=new n(this,t,e,r,i,s);this.children.push(o);return this}entity(t,e){var r;r=new s(this,false,t,e);this.children.push(r);return this}pEntity(t,e){var r;r=new s(this,true,t,e);this.children.push(r);return this}notation(t,e){var r;r=new o(this,t,e);this.children.push(r);return this}toString(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))}ele(t,e){return this.element(t,e)}att(t,e,r,n,i){return this.attList(t,e,r,n,i)}ent(t,e){return this.entity(t,e)}pent(t,e){return this.pEntity(t,e)}not(t,e){return this.notation(t,e)}up(){return this.root()||this.documentObject}isEqualNode(t){if(!super.isEqualNode(t)){return false}if(t.name!==this.name){return false}if(t.publicId!==this.publicId){return false}if(t.systemId!==this.systemId){return false}return true}}Object.defineProperty(XMLDocType.prototype,"entities",{get:function(){var t,r,n,i,s;i={};s=this.children;for(r=0,n=s.length;r<n;r++){t=s[r];if(t.type===e.EntityDeclaration&&!t.pe){i[t.name]=t}}return new u(i)}});Object.defineProperty(XMLDocType.prototype,"notations",{get:function(){var t,r,n,i,s;i={};s=this.children;for(r=0,n=s.length;r<n;r++){t=s[r];if(t.type===e.NotationDeclaration){i[t.name]=t}}return new u(i)}});Object.defineProperty(XMLDocType.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDocType.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDocType.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});return XMLDocType}.call(this)}).call(this)},1582:function(t,e,r){(function(){var e,n,i,s,o,a,u,c;({isPlainObject:c}=r(983));i=r(2692);n=r(5675);o=r(5089);e=r(7762);u=r(645);a=r(7834);t.exports=s=function(){class XMLDocument extends o{constructor(t){super(null);this.name="#document";this.type=e.Document;this.documentURI=null;this.domConfig=new n;t||(t={});if(!t.writer){t.writer=new a}this.options=t;this.stringify=new u(t)}end(t){var e;e={};if(!t){t=this.options.writer}else if(c(t)){e=t;t=this.options.writer}return t.document(this,t.filterOptions(e))}toString(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))}createElement(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}}Object.defineProperty(XMLDocument.prototype,"implementation",{value:new i});Object.defineProperty(XMLDocument.prototype,"doctype",{get:function(){var t,r,n,i;i=this.children;for(r=0,n=i.length;r<n;r++){t=i[r];if(t.type===e.DocType){return t}}return null}});Object.defineProperty(XMLDocument.prototype,"documentElement",{get:function(){return this.rootObject||null}});Object.defineProperty(XMLDocument.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"strictErrorChecking",{get:function(){return false}});Object.defineProperty(XMLDocument.prototype,"xmlEncoding",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].encoding}else{return null}}});Object.defineProperty(XMLDocument.prototype,"xmlStandalone",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].standalone==="yes"}else{return false}}});Object.defineProperty(XMLDocument.prototype,"xmlVersion",{get:function(){if(this.children.length!==0&&this.children[0].type===e.Declaration){return this.children[0].version}else{return"1.0"}}});Object.defineProperty(XMLDocument.prototype,"URL",{get:function(){return this.documentURI}});Object.defineProperty(XMLDocument.prototype,"origin",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"compatMode",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"characterSet",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"contentType",{get:function(){return null}});return XMLDocument}.call(this)}).call(this)},2871:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w,b,E,O,D,M,T={}.hasOwnProperty;({isObject:D,isFunction:O,isPlainObject:M,getValue:E}=r(983));e=r(7762);d=r(1582);m=r(6484);s=r(5261);o=r(360);g=r(8732);b=r(2275);y=r(8947);h=r(6645);f=r(8873);a=r(2529);c=r(9252);u=r(7486);l=r(3353);i=r(1395);w=r(645);v=r(7834);n=r(140);t.exports=p=class XMLDocumentCB{constructor(t,r,n){var i;this.name="?xml";this.type=e.Document;t||(t={});i={};if(!t.writer){t.writer=new v}else if(M(t.writer)){i=t.writer;t.writer=new v}this.options=t;this.writer=t.writer;this.writerOptions=this.writer.filterOptions(i);this.stringify=new w(t);this.onDataCallback=r||function(){};this.onEndCallback=n||function(){};this.currentNode=null;this.currentLevel=-1;this.openTags={};this.documentStarted=false;this.documentCompleted=false;this.root=null}createChildNode(t){var r,n,i,s,o,a,u,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:i={};u=t.attribs;for(n in u){if(!T.call(u,n))continue;r=u[n];i[n]=r.value}this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}c=t.children;for(o=0,a=c.length;o<a;o++){s=c[o];this.createChildNode(s);if(s.type===e.Element){this.up()}}return this}dummy(){return this}node(t,e,r){if(t==null){throw new Error("Missing node name.")}if(this.root&&this.currentLevel===-1){throw new Error("Document can only have one root node. "+this.debugInfo(t))}this.openCurrent();t=E(t);if(e==null){e={}}e=E(e);if(!D(e)){[r,e]=[e,r]}this.currentNode=new m(this,t,e);this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;if(r!=null){this.text(r)}return this}element(t,r,n){var i,s,o,a,u,c;if(this.currentNode&&this.currentNode.type===e.DocType){this.dtdElement(...arguments)}else{if(Array.isArray(t)||D(t)||O(t)){a=this.options.noValidation;this.options.noValidation=true;c=new d(this.options).element("TEMP_ROOT");c.element(t);this.options.noValidation=a;u=c.children;for(s=0,o=u.length;s<o;s++){i=u[s];this.createChildNode(i);if(i.type===e.Element){this.up()}}}else{this.node(t,r,n)}}return this}attribute(t,e){var r,n;if(!this.currentNode||this.currentNode.children){throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t))}if(t!=null){t=E(t)}if(D(t)){for(r in t){if(!T.call(t,r))continue;n=t[r];this.attribute(r,n)}}else{if(O(e)){e=e.apply()}if(this.options.keepNullAttributes&&e==null){this.currentNode.attribs[t]=new i(this,t,"")}else if(e!=null){this.currentNode.attribs[t]=new i(this,t,e)}}return this}text(t){var e;this.openCurrent();e=new b(this,t);this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}cdata(t){var e;this.openCurrent();e=new s(this,t);this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}comment(t){var e;this.openCurrent();e=new o(this,t);this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}raw(t){var e;this.openCurrent();e=new g(this,t);this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}instruction(t,e){var r,n,i,s,o;this.openCurrent();if(t!=null){t=E(t)}if(e!=null){e=E(e)}if(Array.isArray(t)){for(r=0,s=t.length;r<s;r++){n=t[r];this.instruction(n)}}else if(D(t)){for(n in t){if(!T.call(t,n))continue;i=t[n];this.instruction(n,i)}}else{if(O(e)){e=e.apply()}o=new y(this,t,e);this.onData(this.writer.processingInstruction(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1)}return this}declaration(t,e,r){var n;this.openCurrent();if(this.documentStarted){throw new Error("declaration() must be the first node.")}n=new h(this,t,e,r);this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}doctype(t,e,r){this.openCurrent();if(t==null){throw new Error("Missing root node name.")}if(this.root){throw new Error("dtd() must come before the root node.")}this.currentNode=new f(this,e,r);this.currentNode.rootNodeName=t;this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;return this}dtdElement(t,e){var r;this.openCurrent();r=new u(this,t,e);this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}attList(t,e,r,n,i){var s;this.openCurrent();s=new a(this,t,e,r,n,i);this.onData(this.writer.dtdAttList(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}entity(t,e){var r;this.openCurrent();r=new c(this,false,t,e);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}pEntity(t,e){var r;this.openCurrent();r=new c(this,true,t,e);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}notation(t,e){var r;this.openCurrent();r=new l(this,t,e);this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}up(){if(this.currentLevel<0){throw new Error("The document node has no parent.")}if(this.currentNode){if(this.currentNode.children){this.closeNode(this.currentNode)}else{this.openNode(this.currentNode)}this.currentNode=null}else{this.closeNode(this.openTags[this.currentLevel])}delete this.openTags[this.currentLevel];this.currentLevel--;return this}end(){while(this.currentLevel>=0){this.up()}return this.onEnd()}openCurrent(){if(this.currentNode){this.currentNode.children=true;return this.openNode(this.currentNode)}}openNode(t){var r,i,s,o;if(!t.isOpen){if(!this.root&&this.currentLevel===0&&t.type===e.Element){this.root=t}i="";if(t.type===e.Element){this.writerOptions.state=n.OpenTag;i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name;o=t.attribs;for(s in o){if(!T.call(o,s))continue;r=o[s];i+=this.writer.attribute(r,this.writerOptions,this.currentLevel)}i+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel);this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.OpenTag;i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName;if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}if(t.children){i+=" [";this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.CloseTag;i+=">"}i+=this.writer.endline(t,this.writerOptions,this.currentLevel)}this.onData(i,this.currentLevel);return t.isOpen=true}}closeNode(t){var r;if(!t.isClosed){r="";this.writerOptions.state=n.CloseTag;if(t.type===e.Element){r=this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel)}else{r=this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel)}this.writerOptions.state=n.None;this.onData(r,this.currentLevel);return t.isClosed=true}}onData(t,e){this.documentStarted=true;return this.onDataCallback(t,e+1)}onEnd(){this.documentCompleted=true;return this.onEndCallback()}debugInfo(t){if(t==null){return""}else{return"node: <"+t+">"}}ele(){return this.element(...arguments)}nod(t,e,r){return this.node(t,e,r)}txt(t){return this.text(t)}dat(t){return this.cdata(t)}com(t){return this.comment(t)}ins(t,e){return this.instruction(t,e)}dec(t,e,r){return this.declaration(t,e,r)}dtd(t,e,r){return this.doctype(t,e,r)}e(t,e,r){return this.element(t,e,r)}n(t,e,r){return this.node(t,e,r)}t(t){return this.text(t)}d(t){return this.cdata(t)}c(t){return this.comment(t)}r(t){return this.raw(t)}i(t,e){return this.instruction(t,e)}att(){if(this.currentNode&&this.currentNode.type===e.DocType){return this.attList(...arguments)}else{return this.attribute(...arguments)}}a(){if(this.currentNode&&this.currentNode.type===e.DocType){return this.attList(...arguments)}else{return this.attribute(...arguments)}}ent(t,e){return this.entity(t,e)}pent(t,e){return this.pEntity(t,e)}not(t,e){return this.notation(t,e)}}}).call(this)},706:function(t,e,r){(function(){var e,n,i;i=r(5089);e=r(7762);t.exports=n=class XMLDummy extends i{constructor(t){super(t);this.type=e.Dummy}clone(){return Object.create(this)}toString(t){return""}}}).call(this)},6484:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l={}.hasOwnProperty;({isObject:c,isFunction:u,getValue:a}=r(983));o=r(5089);e=r(7762);n=r(1395);s=r(2076);t.exports=i=function(){class XMLElement extends o{constructor(t,r,n){var i,s,o,a;super(t);if(r==null){throw new Error("Missing element name. "+this.debugInfo())}this.name=this.stringify.name(r);this.type=e.Element;this.attribs={};this.schemaTypeInfo=null;if(n!=null){this.attribute(n)}if(t.type===e.Document){this.isRoot=true;this.documentObject=t;t.rootObject=this;if(t.children){a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];if(i.type===e.DocType){i.name=this.name;break}}}}}clone(){var t,e,r,n;r=Object.create(this);if(r.isRoot){r.documentObject=null}r.attribs={};n=this.attribs;for(e in n){if(!l.call(n,e))continue;t=n[e];r.attribs[e]=t.clone()}r.children=[];this.children.forEach(function(t){var e;e=t.clone();e.parent=r;return r.children.push(e)});return r}attribute(t,e){var r,i;if(t!=null){t=a(t)}if(c(t)){for(r in t){if(!l.call(t,r))continue;i=t[r];this.attribute(r,i)}}else{if(u(e)){e=e.apply()}if(this.options.keepNullAttributes&&e==null){this.attribs[t]=new n(this,t,"")}else if(e!=null){this.attribs[t]=new n(this,t,e)}}return this}removeAttribute(t){var e,r,n;if(t==null){throw new Error("Missing attribute name. "+this.debugInfo())}t=a(t);if(Array.isArray(t)){for(r=0,n=t.length;r<n;r++){e=t[r];delete this.attribs[e]}}else{delete this.attribs[t]}return this}toString(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))}att(t,e){return this.attribute(t,e)}a(t,e){return this.attribute(t,e)}getAttribute(t){if(this.attribs.hasOwnProperty(t)){return this.attribs[t].value}else{return null}}setAttribute(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(t){if(this.attribs.hasOwnProperty(t)){return this.attribs[t]}else{return null}}setAttributeNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(t){return this.attribs.hasOwnProperty(t)}hasAttributeNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(t,e){if(this.attribs.hasOwnProperty(t)){return this.attribs[t].isId}else{return e}}setIdAttributeNS(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(t){var e,r,n;if(!super.isEqualNode(t)){return false}if(t.namespaceURI!==this.namespaceURI){return false}if(t.prefix!==this.prefix){return false}if(t.localName!==this.localName){return false}if(t.attribs.length!==this.attribs.length){return false}for(e=r=0,n=this.attribs.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r){if(!this.attribs[e].isEqualNode(t.attribs[e])){return false}}return true}}Object.defineProperty(XMLElement.prototype,"tagName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"attributes",{get:function(){if(!this.attributeMap||!this.attributeMap.nodes){this.attributeMap=new s(this.attribs)}return this.attributeMap}});return XMLElement}.call(this)}).call(this)},2076:function(t){(function(){var e;t.exports=e=function(){class XMLNamedNodeMap{constructor(t){this.nodes=t}clone(){return this.nodes=null}getNamedItem(t){return this.nodes[t]}setNamedItem(t){var e;e=this.nodes[t.nodeName];this.nodes[t.nodeName]=t;return e||null}removeNamedItem(t){var e;e=this.nodes[t];delete this.nodes[t];return e||null}item(t){return this.nodes[Object.keys(this.nodes)[t]]||null}getNamedItemNS(t,e){throw new Error("This DOM method is not implemented.")}setNamedItemNS(t){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(t,e){throw new Error("This DOM method is not implemented.")}}Object.defineProperty(XMLNamedNodeMap.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}});return XMLNamedNodeMap}.call(this)}).call(this)},5089:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w,b={}.hasOwnProperty,E=[].splice;({isObject:w,isFunction:v,isEmpty:g,getValue:y}=r(983));c=null;i=null;s=null;o=null;a=null;p=null;m=null;d=null;u=null;n=null;f=null;l=null;e=null;t.exports=h=function(){class XMLNode{constructor(t){this.parent=t;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}this.value=null;this.children=[];this.baseURI=null;if(!c){c=r(6484);i=r(5261);s=r(360);o=r(6645);a=r(8873);p=r(8732);m=r(2275);d=r(8947);u=r(706);n=r(7762);f=r(9908);l=r(2076);e=r(144)}}setParent(t){var e,r,n,i,s;this.parent=t;if(t){this.options=t.options;this.stringify=t.stringify}i=this.children;s=[];for(r=0,n=i.length;r<n;r++){e=i[r];s.push(e.setParent(this))}return s}element(t,e,r){var n,i,s,o,a,u,c,l,h;u=null;if(e===null&&r==null){[e,r]=[{},null]}if(e==null){e={}}e=y(e);if(!w(e)){[r,e]=[e,r]}if(t!=null){t=y(t)}if(Array.isArray(t)){for(s=0,c=t.length;s<c;s++){i=t[s];u=this.element(i)}}else if(v(t)){u=this.element(t.apply())}else if(w(t)){for(a in t){if(!b.call(t,a))continue;h=t[a];if(v(h)){h=h.apply()}if(!this.options.ignoreDecorators&&this.stringify.convertAttKey&&a.indexOf(this.stringify.convertAttKey)===0){u=this.attribute(a.substr(this.stringify.convertAttKey.length),h)}else if(!this.options.separateArrayItems&&Array.isArray(h)&&g(h)){u=this.dummy()}else if(w(h)&&g(h)){u=this.element(a)}else if(!this.options.keepNullNodes&&h==null){u=this.dummy()}else if(!this.options.separateArrayItems&&Array.isArray(h)){for(o=0,l=h.length;o<l;o++){i=h[o];n={};n[a]=i;u=this.element(n)}}else if(w(h)){if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&a.indexOf(this.stringify.convertTextKey)===0){u=this.element(h)}else{u=this.element(a);u.element(h)}}else{u=this.element(a,h)}}}else if(!this.options.keepNullNodes&&r===null){u=this.dummy()}else{if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&t.indexOf(this.stringify.convertTextKey)===0){u=this.text(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&t.indexOf(this.stringify.convertCDataKey)===0){u=this.cdata(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&t.indexOf(this.stringify.convertCommentKey)===0){u=this.comment(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertRawKey&&t.indexOf(this.stringify.convertRawKey)===0){u=this.raw(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&t.indexOf(this.stringify.convertPIKey)===0){u=this.instruction(t.substr(this.stringify.convertPIKey.length),r)}else{u=this.node(t,e,r)}}if(u==null){throw new Error("Could not create any elements with: "+t+". "+this.debugInfo())}return u}insertBefore(t,e,r){var n,i,s,o,a;if(t!=null?t.type:void 0){s=t;o=e;s.setParent(this);if(o){i=children.indexOf(o);a=children.splice(i);children.push(s);Array.prototype.push.apply(children,a)}else{children.push(s)}return s}else{if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(t))}i=this.parent.children.indexOf(this);a=this.parent.children.splice(i);n=this.parent.element(t,e,r);Array.prototype.push.apply(this.parent.children,a);return n}}insertAfter(t,e,r){var n,i,s;if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(t))}i=this.parent.children.indexOf(this);s=this.parent.children.splice(i+1);n=this.parent.element(t,e,r);Array.prototype.push.apply(this.parent.children,s);return n}remove(){var t,e;if(this.isRoot){throw new Error("Cannot remove the root element. "+this.debugInfo())}t=this.parent.children.indexOf(this);E.apply(this.parent.children,[t,t-t+1].concat(e=[])),e;return this.parent}node(t,e,r){var n;if(t!=null){t=y(t)}e||(e={});e=y(e);if(!w(e)){[r,e]=[e,r]}n=new c(this,t,e);if(r!=null){n.text(r)}this.children.push(n);return n}text(t){var e;if(w(t)){this.element(t)}e=new m(this,t);this.children.push(e);return this}cdata(t){var e;e=new i(this,t);this.children.push(e);return this}comment(t){var e;e=new s(this,t);this.children.push(e);return this}commentBefore(t){var e,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r);e=this.parent.comment(t);Array.prototype.push.apply(this.parent.children,n);return this}commentAfter(t){var e,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r+1);e=this.parent.comment(t);Array.prototype.push.apply(this.parent.children,n);return this}raw(t){var e;e=new p(this,t);this.children.push(e);return this}dummy(){var t;t=new u(this);return t}instruction(t,e){var r,n,i,s,o;if(t!=null){t=y(t)}if(e!=null){e=y(e)}if(Array.isArray(t)){for(s=0,o=t.length;s<o;s++){r=t[s];this.instruction(r)}}else if(w(t)){for(r in t){if(!b.call(t,r))continue;n=t[r];this.instruction(r,n)}}else{if(v(e)){e=e.apply()}i=new d(this,t,e);this.children.push(i)}return this}instructionBefore(t,e){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n);r=this.parent.instruction(t,e);Array.prototype.push.apply(this.parent.children,i);return this}instructionAfter(t,e){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n+1);r=this.parent.instruction(t,e);Array.prototype.push.apply(this.parent.children,i);return this}declaration(t,e,r){var i,s;i=this.document();s=new o(i,t,e,r);if(i.children.length===0){i.children.unshift(s)}else if(i.children[0].type===n.Declaration){i.children[0]=s}else{i.children.unshift(s)}return i.root()||i}dtd(t,e){var r,i,s,o,u,c,l,h,f,d;i=this.document();s=new a(i,t,e);f=i.children;for(o=u=0,l=f.length;u<l;o=++u){r=f[o];if(r.type===n.DocType){i.children[o]=s;return s}}d=i.children;for(o=c=0,h=d.length;c<h;o=++c){r=d[o];if(r.isRoot){i.children.splice(o,0,s);return s}}i.children.push(s);return s}up(){if(this.isRoot){throw new Error("The root node has no parent. Use doc() if you need to get the document object.")}return this.parent}root(){var t;t=this;while(t){if(t.type===n.Document){return t.rootObject}else if(t.isRoot){return t}else{t=t.parent}}}document(){var t;t=this;while(t){if(t.type===n.Document){return t}else{t=t.parent}}}end(t){return this.document().end(t)}prev(){var t;t=this.parent.children.indexOf(this);if(t<1){throw new Error("Already at the first node. "+this.debugInfo())}return this.parent.children[t-1]}next(){var t;t=this.parent.children.indexOf(this);if(t===-1||t===this.parent.children.length-1){throw new Error("Already at the last node. "+this.debugInfo())}return this.parent.children[t+1]}importDocument(t){var e,r,i,s,o;r=t.root().clone();r.parent=this;r.isRoot=false;this.children.push(r);if(this.type===n.Document){r.isRoot=true;r.documentObject=this;this.rootObject=r;if(this.children){o=this.children;for(i=0,s=o.length;i<s;i++){e=o[i];if(e.type===n.DocType){e.name=r.name;break}}}}return this}debugInfo(t){var e,r;t=t||this.name;if(t==null&&!((e=this.parent)!=null?e.name:void 0)){return""}else if(t==null){return"parent: <"+this.parent.name+">"}else if(!((r=this.parent)!=null?r.name:void 0)){return"node: <"+t+">"}else{return"node: <"+t+">, parent: <"+this.parent.name+">"}}ele(t,e,r){return this.element(t,e,r)}nod(t,e,r){return this.node(t,e,r)}txt(t){return this.text(t)}dat(t){return this.cdata(t)}com(t){return this.comment(t)}ins(t,e){return this.instruction(t,e)}doc(){return this.document()}dec(t,e,r){return this.declaration(t,e,r)}e(t,e,r){return this.element(t,e,r)}n(t,e,r){return this.node(t,e,r)}t(t){return this.text(t)}d(t){return this.cdata(t)}c(t){return this.comment(t)}r(t){return this.raw(t)}i(t,e){return this.instruction(t,e)}u(){return this.up()}importXMLBuilder(t){return this.importDocument(t)}attribute(t,e){throw new Error("attribute() applies to element nodes only.")}att(t,e){return this.attribute(t,e)}a(t,e){return this.attribute(t,e)}removeAttribute(t){throw new Error("attribute() applies to element nodes only.")}replaceChild(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return this.children.length!==0}cloneNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(t,e){return true}hasAttributes(){return this.attribs.length!==0}compareDocumentPosition(t){var r,n;r=this;if(r===t){return 0}else if(this.document()!==t.document()){n=e.Disconnected|e.ImplementationSpecific;if(Math.random()<.5){n|=e.Preceding}else{n|=e.Following}return n}else if(r.isAncestor(t)){return e.Contains|e.Preceding}else if(r.isDescendant(t)){return e.Contains|e.Following}else if(r.isPreceding(t)){return e.Preceding}else{return e.Following}}isSameNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(t){var e,r,n;if(t.nodeType!==this.nodeType){return false}if(t.children.length!==this.children.length){return false}for(e=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r){if(!this.children[e].isEqualNode(t.children[e])){return false}}return true}getFeature(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(t){if(!t){return false}return t===this||this.isDescendant(t)}isDescendant(t){var e,r,n,i,s;s=this.children;for(n=0,i=s.length;n<i;n++){e=s[n];if(t===e){return true}r=e.isDescendant(t);if(r){return true}}return false}isAncestor(t){return t.isDescendant(this)}isPreceding(t){var e,r;e=this.treePosition(t);r=this.treePosition(this);if(e===-1||r===-1){return false}else{return e<r}}isFollowing(t){var e,r;e=this.treePosition(t);r=this.treePosition(this);if(e===-1||r===-1){return false}else{return e>r}}treePosition(t){var e,r;r=0;e=false;this.foreachTreeNode(this.document(),function(n){r++;if(!e&&n===t){return e=true}});if(e){return r}else{return-1}}foreachTreeNode(t,e){var r,n,i,s,o;t||(t=this.document());s=t.children;for(n=0,i=s.length;n<i;n++){r=s[n];if(o=e(r)){return o}else{o=this.foreachTreeNode(r,e);if(o){return o}}}}}Object.defineProperty(XMLNode.prototype,"nodeName",{get:function(){return this.name}});Object.defineProperty(XMLNode.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLNode.prototype,"nodeValue",{get:function(){return this.value}});Object.defineProperty(XMLNode.prototype,"parentNode",{get:function(){return this.parent}});Object.defineProperty(XMLNode.prototype,"childNodes",{get:function(){if(!this.childNodeList||!this.childNodeList.nodes){this.childNodeList=new f(this.children)}return this.childNodeList}});Object.defineProperty(XMLNode.prototype,"firstChild",{get:function(){return this.children[0]||null}});Object.defineProperty(XMLNode.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}});Object.defineProperty(XMLNode.prototype,"previousSibling",{get:function(){var t;t=this.parent.children.indexOf(this);return this.parent.children[t-1]||null}});Object.defineProperty(XMLNode.prototype,"nextSibling",{get:function(){var t;t=this.parent.children.indexOf(this);return this.parent.children[t+1]||null}});Object.defineProperty(XMLNode.prototype,"ownerDocument",{get:function(){return this.document()||null}});Object.defineProperty(XMLNode.prototype,"textContent",{get:function(){var t,e,r,i,s;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){s="";i=this.children;for(e=0,r=i.length;e<r;e++){t=i[e];if(t.textContent){s+=t.textContent}}return s}else{return null}},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}});return XMLNode}.call(this)}).call(this)},9908:function(t){(function(){var e;t.exports=e=function(){class XMLNodeList{constructor(t){this.nodes=t}clone(){return this.nodes=null}item(t){return this.nodes[t]||null}}Object.defineProperty(XMLNodeList.prototype,"length",{get:function(){return this.nodes.length||0}});return XMLNodeList}.call(this)}).call(this)},8947:function(t,e,r){(function(){var e,n,i;e=r(7762);n=r(4765);t.exports=i=class XMLProcessingInstruction extends n{constructor(t,r,n){super(t);if(r==null){throw new Error("Missing instruction target. "+this.debugInfo())}this.type=e.ProcessingInstruction;this.target=this.stringify.insTarget(r);this.name=this.target;if(n){this.value=this.stringify.insValue(n)}}clone(){return Object.create(this)}toString(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))}isEqualNode(t){if(!super.isEqualNode(t)){return false}if(t.target!==this.target){return false}return true}}}).call(this)},8732:function(t,e,r){(function(){var e,n,i;e=r(7762);n=r(5089);t.exports=i=class XMLRaw extends n{constructor(t,r){super(t);if(r==null){throw new Error("Missing raw text. "+this.debugInfo())}this.type=e.Raw;this.value=this.stringify.raw(r)}clone(){return Object.create(this)}toString(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))}}}).call(this)},5922:function(t,e,r){(function(){var e,n,i,s,o={}.hasOwnProperty;e=r(7762);s=r(6670);n=r(140);t.exports=i=class XMLStreamWriter extends s{constructor(t,e){super(e);this.stream=t}endline(t,e,r){if(t.isLastRootNode&&e.state===n.CloseTag){return""}else{return super.endline(t,e,r)}}document(t,e){var r,n,i,s,o,a,u,c,l;u=t.children;for(n=i=0,o=u.length;i<o;n=++i){r=u[n];r.isLastRootNode=n===t.children.length-1}e=this.filterOptions(e);c=t.children;l=[];for(s=0,a=c.length;s<a;s++){r=c[s];l.push(this.writeChildNode(r,e,0))}return l}cdata(t,e,r){return this.stream.write(super.cdata(t,e,r))}comment(t,e,r){return this.stream.write(super.comment(t,e,r))}declaration(t,e,r){return this.stream.write(super.declaration(t,e,r))}docType(t,e,r){var i,s,o,a;r||(r=0);this.openNode(t,e,r);e.state=n.OpenTag;this.stream.write(this.indent(t,e,r));this.stream.write("<!DOCTYPE "+t.root().name);if(t.pubID&&t.sysID){this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"')}else if(t.sysID){this.stream.write(' SYSTEM "'+t.sysID+'"')}if(t.children.length>0){this.stream.write(" [");this.stream.write(this.endline(t,e,r));e.state=n.InsideTag;a=t.children;for(s=0,o=a.length;s<o;s++){i=a[s];this.writeChildNode(i,e,r+1)}e.state=n.CloseTag;this.stream.write("]")}e.state=n.CloseTag;this.stream.write(e.spaceBeforeSlash+">");this.stream.write(this.endline(t,e,r));e.state=n.None;return this.closeNode(t,e,r)}element(t,r,i){var s,a,u,c,l,h,f,d,p,m,y,g,v,w,b,E;i||(i=0);this.openNode(t,r,i);r.state=n.OpenTag;y=this.indent(t,r,i)+"<"+t.name;if(r.pretty&&r.width>0){f=y.length;v=t.attribs;for(p in v){if(!o.call(v,p))continue;s=v[p];g=this.attribute(s,r,i);a=g.length;if(f+a>r.width){E=this.indent(t,r,i+1)+g;y+=this.endline(t,r,i)+E;f=E.length}else{E=" "+g;y+=E;f+=E.length}}}else{w=t.attribs;for(p in w){if(!o.call(w,p))continue;s=w[p];y+=this.attribute(s,r,i)}}this.stream.write(y);c=t.children.length;l=c===0?null:t.children[0];if(c===0||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&t.value===""})){if(r.allowEmpty){this.stream.write(">");r.state=n.CloseTag;this.stream.write("</"+t.name+">")}else{r.state=n.CloseTag;this.stream.write(r.spaceBeforeSlash+"/>")}}else if(r.pretty&&c===1&&(l.type===e.Text||l.type===e.Raw)&&l.value!=null){this.stream.write(">");r.state=n.InsideTag;r.suppressPrettyCount++;m=true;this.writeChildNode(l,r,i+1);r.suppressPrettyCount--;m=false;r.state=n.CloseTag;this.stream.write("</"+t.name+">")}else{this.stream.write(">"+this.endline(t,r,i));r.state=n.InsideTag;b=t.children;for(h=0,d=b.length;h<d;h++){u=b[h];this.writeChildNode(u,r,i+1)}r.state=n.CloseTag;this.stream.write(this.indent(t,r,i)+"</"+t.name+">")}this.stream.write(this.endline(t,r,i));r.state=n.None;return this.closeNode(t,r,i)}processingInstruction(t,e,r){return this.stream.write(super.processingInstruction(t,e,r))}raw(t,e,r){return this.stream.write(super.raw(t,e,r))}text(t,e,r){return this.stream.write(super.text(t,e,r))}dtdAttList(t,e,r){return this.stream.write(super.dtdAttList(t,e,r))}dtdElement(t,e,r){return this.stream.write(super.dtdElement(t,e,r))}dtdEntity(t,e,r){return this.stream.write(super.dtdEntity(t,e,r))}dtdNotation(t,e,r){return this.stream.write(super.dtdNotation(t,e,r))}}}).call(this)},7834:function(t,e,r){(function(){var e,n;n=r(6670);t.exports=e=class XMLStringWriter extends n{constructor(t){super(t)}document(t,e){var r,n,i,s,o;e=this.filterOptions(e);s="";o=t.children;for(n=0,i=o.length;n<i;n++){r=o[n];s+=this.writeChildNode(r,e,0)}if(e.pretty&&s.slice(-e.newline.length)===e.newline){s=s.slice(0,-e.newline.length)}return s}}}).call(this)},645:function(t){(function(){var e,r={}.hasOwnProperty;t.exports=e=function(){class XMLStringifier{constructor(t){var e,n,i;this.assertLegalChar=this.assertLegalChar.bind(this);this.assertLegalName=this.assertLegalName.bind(this);t||(t={});this.options=t;if(!this.options.version){this.options.version="1.0"}n=t.stringify||{};for(e in n){if(!r.call(n,e))continue;i=n[e];this[e]=i}}name(t){if(this.options.noValidation){return t}return this.assertLegalName(""+t||"")}text(t){if(this.options.noValidation){return t}return this.assertLegalChar(this.textEscape(""+t||""))}cdata(t){if(this.options.noValidation){return t}t=""+t||"";t=t.replace("]]>","]]]]><![CDATA[>");return this.assertLegalChar(t)}comment(t){if(this.options.noValidation){return t}t=""+t||"";if(t.match(/--/)){throw new Error("Comment text cannot contain double-hypen: "+t)}return this.assertLegalChar(t)}raw(t){if(this.options.noValidation){return t}return""+t||""}attValue(t){if(this.options.noValidation){return t}return this.assertLegalChar(this.attEscape(t=""+t||""))}insTarget(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}insValue(t){if(this.options.noValidation){return t}t=""+t||"";if(t.match(/\?>/)){throw new Error("Invalid processing instruction value: "+t)}return this.assertLegalChar(t)}xmlVersion(t){if(this.options.noValidation){return t}t=""+t||"";if(!t.match(/1\.[0-9]+/)){throw new Error("Invalid version number: "+t)}return t}xmlEncoding(t){if(this.options.noValidation){return t}t=""+t||"";if(!t.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)){throw new Error("Invalid encoding: "+t)}return this.assertLegalChar(t)}xmlStandalone(t){if(this.options.noValidation){return t}if(t){return"yes"}else{return"no"}}dtdPubID(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdSysID(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdElementValue(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdAttType(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdAttDefault(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdEntityValue(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}dtdNData(t){if(this.options.noValidation){return t}return this.assertLegalChar(""+t||"")}assertLegalChar(t){var e,r;if(this.options.noValidation){return t}e="";if(this.options.version==="1.0"){e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=t.match(e)){throw new Error(`Invalid character in string: ${t} at index ${r.index}`)}}else if(this.options.version==="1.1"){e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=t.match(e)){throw new Error(`Invalid character in string: ${t} at index ${r.index}`)}}return t}assertLegalName(t){var e;if(this.options.noValidation){return t}this.assertLegalChar(t);e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;if(!t.match(e)){throw new Error("Invalid character in name")}return t}textEscape(t){var e;if(this.options.noValidation){return t}e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")}attEscape(t){var e;if(this.options.noValidation){return t}e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")}}XMLStringifier.prototype.convertAttKey="@";XMLStringifier.prototype.convertPIKey="?";XMLStringifier.prototype.convertTextKey="#text";XMLStringifier.prototype.convertCDataKey="#cdata";XMLStringifier.prototype.convertCommentKey="#comment";XMLStringifier.prototype.convertRawKey="#raw";return XMLStringifier}.call(this)}).call(this)},2275:function(t,e,r){(function(){var e,n,i;e=r(7762);n=r(4765);t.exports=i=function(){class XMLText extends n{constructor(t,r){super(t);if(r==null){throw new Error("Missing element text. "+this.debugInfo())}this.name="#text";this.type=e.Text;this.value=this.stringify.text(r)}clone(){return Object.create(this)}toString(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))}splitText(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}Object.defineProperty(XMLText.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLText.prototype,"wholeText",{get:function(){var t,e,r;r="";e=this.previousSibling;while(e){r=e.data+r;e=e.previousSibling}r+=this.data;t=this.nextSibling;while(t){r=r+t.data;t=t.nextSibling}return r}});return XMLText}.call(this)}).call(this)},6670:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l,h,f,d,p,m,y,g,v,w={}.hasOwnProperty;({assign:v}=r(983));e=r(7762);l=r(6645);h=r(8873);i=r(5261);s=r(360);d=r(6484);m=r(8732);y=r(2275);p=r(8947);f=r(706);o=r(2529);a=r(7486);u=r(9252);c=r(3353);n=r(140);t.exports=g=class XMLWriterBase{constructor(t){var e,r,n;t||(t={});this.options=t;r=t.writer||{};for(e in r){if(!w.call(r,e))continue;n=r[e];this["_"+e]=this[e];this[e]=n}}filterOptions(t){var e,r,i,s,o,a,u,c,l;t||(t={});t=v({},this.options,t);e={writer:this};e.pretty=t.pretty||false;e.allowEmpty=t.allowEmpty||false;e.indent=(r=t.indent)!=null?r:"  ";e.newline=(i=t.newline)!=null?i:"\n";e.offset=(s=t.offset)!=null?s:0;e.width=(o=t.width)!=null?o:0;e.dontPrettyTextNodes=(a=(u=t.dontPrettyTextNodes)!=null?u:t.dontprettytextnodes)!=null?a:0;e.spaceBeforeSlash=(c=(l=t.spaceBeforeSlash)!=null?l:t.spacebeforeslash)!=null?c:"";if(e.spaceBeforeSlash===true){e.spaceBeforeSlash=" "}e.suppressPrettyCount=0;e.user={};e.state=n.None;return e}indent(t,e,r){var n;if(!e.pretty||e.suppressPrettyCount){return""}else if(e.pretty){n=(r||0)+e.offset+1;if(n>0){return new Array(n).join(e.indent)}}return""}endline(t,e,r){if(!e.pretty||e.suppressPrettyCount){return""}else{return e.newline}}attribute(t,e,r){var n;this.openAttribute(t,e,r);if(e.pretty&&e.width>0){n=t.name+'="'+t.value+'"'}else{n=" "+t.name+'="'+t.value+'"'}this.closeAttribute(t,e,r);return n}cdata(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<![CDATA[";e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+="]]>"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}comment(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"\x3c!-- ";e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=" --\x3e"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}declaration(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<?xml";e.state=n.InsideTag;i+=' version="'+t.version+'"';if(t.encoding!=null){i+=' encoding="'+t.encoding+'"'}if(t.standalone!=null){i+=' standalone="'+t.standalone+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+"?>";i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}docType(t,e,r){var i,s,o,a,u;r||(r=0);this.openNode(t,e,r);e.state=n.OpenTag;a=this.indent(t,e,r);a+="<!DOCTYPE "+t.root().name;if(t.pubID&&t.sysID){a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){a+=' SYSTEM "'+t.sysID+'"'}if(t.children.length>0){a+=" [";a+=this.endline(t,e,r);e.state=n.InsideTag;u=t.children;for(s=0,o=u.length;s<o;s++){i=u[s];a+=this.writeChildNode(i,e,r+1)}e.state=n.CloseTag;a+="]"}e.state=n.CloseTag;a+=e.spaceBeforeSlash+">";a+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return a}element(t,r,i){var s,o,a,u,c,l,h,f,d,p,m,y,g,v,b,E,O,D,M;i||(i=0);y=false;this.openNode(t,r,i);r.state=n.OpenTag;g=this.indent(t,r,i)+"<"+t.name;if(r.pretty&&r.width>0){f=g.length;b=t.attribs;for(m in b){if(!w.call(b,m))continue;s=b[m];v=this.attribute(s,r,i);o=v.length;if(f+o>r.width){M=this.indent(t,r,i+1)+v;g+=this.endline(t,r,i)+M;f=M.length}else{M=" "+v;g+=M;f+=M.length}}}else{E=t.attribs;for(m in E){if(!w.call(E,m))continue;s=E[m];g+=this.attribute(s,r,i)}}u=t.children.length;c=u===0?null:t.children[0];if(u===0||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&t.value===""})){if(r.allowEmpty){g+=">";r.state=n.CloseTag;g+="</"+t.name+">"+this.endline(t,r,i)}else{r.state=n.CloseTag;g+=r.spaceBeforeSlash+"/>"+this.endline(t,r,i)}}else if(r.pretty&&u===1&&(c.type===e.Text||c.type===e.Raw)&&c.value!=null){g+=">";r.state=n.InsideTag;r.suppressPrettyCount++;y=true;g+=this.writeChildNode(c,r,i+1);r.suppressPrettyCount--;y=false;r.state=n.CloseTag;g+="</"+t.name+">"+this.endline(t,r,i)}else{if(r.dontPrettyTextNodes){O=t.children;for(l=0,d=O.length;l<d;l++){a=O[l];if((a.type===e.Text||a.type===e.Raw)&&a.value!=null){r.suppressPrettyCount++;y=true;break}}}g+=">"+this.endline(t,r,i);r.state=n.InsideTag;D=t.children;for(h=0,p=D.length;h<p;h++){a=D[h];g+=this.writeChildNode(a,r,i+1)}r.state=n.CloseTag;g+=this.indent(t,r,i)+"</"+t.name+">";if(y){r.suppressPrettyCount--}g+=this.endline(t,r,i);r.state=n.None}this.closeNode(t,r,i);return g}writeChildNode(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw new Error("Unknown XML node type: "+t.constructor.name)}}processingInstruction(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<?";e.state=n.InsideTag;i+=t.target;if(t.value){i+=" "+t.value}e.state=n.CloseTag;i+=e.spaceBeforeSlash+"?>";i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}raw(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r);e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}text(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r);e.state=n.InsideTag;i+=t.value;e.state=n.CloseTag;i+=this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}dtdAttList(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ATTLIST";e.state=n.InsideTag;i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType;if(t.defaultValueType!=="#DEFAULT"){i+=" "+t.defaultValueType}if(t.defaultValue){i+=' "'+t.defaultValue+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}dtdElement(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ELEMENT";e.state=n.InsideTag;i+=" "+t.name+" "+t.value;e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}dtdEntity(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!ENTITY";e.state=n.InsideTag;if(t.pe){i+=" %"}i+=" "+t.name;if(t.value){i+=' "'+t.value+'"'}else{if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}if(t.nData){i+=" NDATA "+t.nData}}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}dtdNotation(t,e,r){var i;this.openNode(t,e,r);e.state=n.OpenTag;i=this.indent(t,e,r)+"<!NOTATION";e.state=n.InsideTag;i+=" "+t.name;if(t.pubID&&t.sysID){i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'}else if(t.pubID){i+=' PUBLIC "'+t.pubID+'"'}else if(t.sysID){i+=' SYSTEM "'+t.sysID+'"'}e.state=n.CloseTag;i+=e.spaceBeforeSlash+">"+this.endline(t,e,r);e.state=n.None;this.closeNode(t,e,r);return i}openNode(t,e,r){}closeNode(t,e,r){}openAttribute(t,e,r){}closeAttribute(t,e,r){}}}).call(this)},5769:function(t,e,r){(function(){var e,n,i,s,o,a,u,c,l;({assign:c,isFunction:l}=r(983));i=r(2692);s=r(1582);o=r(2871);u=r(7834);a=r(5922);e=r(7762);n=r(140);t.exports.create=function(t,e,r,n){var i,o;if(t==null){throw new Error("Root element needs a name.")}n=c({},e,r,n);i=new s(n);o=i.element(t);if(!n.headless){i.declaration(n);if(n.pubID!=null||n.sysID!=null){i.dtd(n)}}return o};t.exports.begin=function(t,e,r){if(l(t)){[e,r]=[t,e];t={}}if(e){return new o(t,e,r)}else{return new s(t)}};t.exports.stringWriter=function(t){return new u(t)};t.exports.streamWriter=function(t,e){return new a(t,e)};t.exports.implementation=new i;t.exports.nodeType=e;t.exports.writerState=n}).call(this)},8688:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.addMetaDataItemToMainApplication=addMetaDataItemToMainApplication;e.addUsesLibraryItemToMainApplication=addUsesLibraryItemToMainApplication;e.findMetaDataItem=findMetaDataItem;e.findUsesLibraryItem=findUsesLibraryItem;e.getMainActivity=getMainActivity;e.getMainActivityOrThrow=getMainActivityOrThrow;e.getMainApplication=getMainApplication;e.getMainApplicationMetaDataValue=getMainApplicationMetaDataValue;e.getMainApplicationOrThrow=getMainApplicationOrThrow;e.getRunnableActivity=getRunnableActivity;e.prefixAndroidKeys=prefixAndroidKeys;e.readAndroidManifestAsync=readAndroidManifestAsync;e.removeMetaDataItemFromMainApplication=removeMetaDataItemFromMainApplication;e.removeUsesLibraryItemFromMainApplication=removeUsesLibraryItemFromMainApplication;e.writeAndroidManifestAsync=writeAndroidManifestAsync;function _assert(){const t=_interopRequireDefault(r(2357));_assert=function(){return t};return t}function _fsExtra(){const t=_interopRequireDefault(r(302));_fsExtra=function(){return t};return t}function _path(){const t=_interopRequireDefault(r(5622));_path=function(){return t};return t}function XML(){const t=_interopRequireWildcard(r(6537));XML=function(){return t};return t}function _getRequireWildcardCache(t){if(typeof WeakMap!=="function")return null;var e=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache=function(t){return t?r:e})(t)}function _interopRequireWildcard(t,e){if(!e&&t&&t.__esModule){return t}if(t===null||typeof t!=="object"&&typeof t!=="function"){return{default:t}}var r=_getRequireWildcardCache(e);if(r&&r.has(t)){return r.get(t)}var n={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t){if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;if(o&&(o.get||o.set)){Object.defineProperty(n,s,o)}else{n[s]=t[s]}}}n.default=t;if(r){r.set(t,n)}return n}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}async function writeAndroidManifestAsync(t,e){const r=XML().format(e);await _fsExtra().default.ensureDir(_path().default.dirname(t));await _fsExtra().default.writeFile(t,r)}async function readAndroidManifestAsync(t){const e=await XML().readXMLAsync({path:t});if(!isManifest(e)){throw new Error("Invalid manifest found at: "+t)}return e}function isManifest(t){return!!t.manifest}function getMainApplication(t){var e,r,n;return(e=t===null||t===void 0?void 0:(r=t.manifest)===null||r===void 0?void 0:(n=r.application)===null||n===void 0?void 0:n.filter(t=>{var e;return t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:name"].endsWith(".MainApplication")})[0])!==null&&e!==void 0?e:null}function getMainApplicationOrThrow(t){const e=getMainApplication(t);(0,_assert().default)(e,"AndroidManifest.xml is missing the required MainApplication element");return e}function getMainActivityOrThrow(t){const e=getMainActivity(t);(0,_assert().default)(e,"AndroidManifest.xml is missing the required MainActivity element");return e}function getRunnableActivity(t){var e,r,n,i,s;const o=t===null||t===void 0?void 0:(e=t.manifest)===null||e===void 0?void 0:(r=e.application)===null||r===void 0?void 0:(n=r[0])===null||n===void 0?void 0:(i=n.activity)===null||i===void 0?void 0:(s=i.filter)===null||s===void 0?void 0:s.call(i,t=>t.$["android:enabled"]!=="false"&&t.$["android:enabled"]!==false);if(!o){return null}for(const t of o){if(Array.isArray(t["intent-filter"])){for(const e of t["intent-filter"]){var a,u;if((a=e.action)!==null&&a!==void 0&&a.find(t=>t.$["android:name"]==="android.intent.action.MAIN")&&(u=e.category)!==null&&u!==void 0&&u.find(t=>t.$["android:name"]==="android.intent.category.LAUNCHER")){return t}}}}return null}function getMainActivity(t){var e,r,n,i,s,o;const a=t===null||t===void 0?void 0:(e=t.manifest)===null||e===void 0?void 0:(r=e.application)===null||r===void 0?void 0:(n=r[0])===null||n===void 0?void 0:(i=n.activity)===null||i===void 0?void 0:(s=i.filter)===null||s===void 0?void 0:s.call(i,t=>t.$["android:name"]===".MainActivity");return(o=a===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:null}function addMetaDataItemToMainApplication(t,e,r,n="value"){let i;const s={$:prefixAndroidKeys({name:e,[n]:r})};if(t["meta-data"]){i=t["meta-data"].filter(t=>t.$["android:name"]===e);if(i.length){i[0].$[`android:${n}`]=r}else{t["meta-data"].push(s)}}else{t["meta-data"]=[s]}return t}function removeMetaDataItemFromMainApplication(t,e){const r=findMetaDataItem(t,e);if(t!==null&&t!==void 0&&t["meta-data"]&&r>-1){t["meta-data"].splice(r,1)}return t}function findApplicationSubItem(t,e,r){const n=t[e];if(Array.isArray(n)){const t=n.findIndex(t=>t.$["android:name"]===r);return t}return-1}function findMetaDataItem(t,e){return findApplicationSubItem(t,"meta-data",e)}function findUsesLibraryItem(t,e){return findApplicationSubItem(t,"uses-library",e)}function getMainApplicationMetaDataValue(t,e){const r=getMainApplication(t);if(r!==null&&r!==void 0&&r.hasOwnProperty("meta-data")){var n,i;const t=r===null||r===void 0?void 0:(n=r["meta-data"])===null||n===void 0?void 0:n.find(t=>t.$["android:name"]===e);return(i=t===null||t===void 0?void 0:t.$["android:value"])!==null&&i!==void 0?i:null}return null}function addUsesLibraryItemToMainApplication(t,e){let r;const n={$:prefixAndroidKeys(e)};if(t["uses-library"]){r=t["uses-library"].filter(t=>t.$["android:name"]===e.name);if(r.length){r[0].$=n.$}else{t["uses-library"].push(n)}}else{t["uses-library"]=[n]}return t}function removeUsesLibraryItemFromMainApplication(t,e){const r=findUsesLibraryItem(t,e);if(t!==null&&t!==void 0&&t["uses-library"]&&r>-1){t["uses-library"].splice(r,1)}return t}function prefixAndroidKeys(t){return Object.entries(t).reduce((t,[e,r])=>({...t,[`android:${e}`]:r}),{})}},3178:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.appendScheme=appendScheme;e.ensureManifestHasValidIntentFilter=ensureManifestHasValidIntentFilter;e.getScheme=getScheme;e.getSchemesFromManifest=getSchemesFromManifest;e.hasScheme=hasScheme;e.removeScheme=removeScheme;e.setScheme=setScheme;e.withScheme=void 0;function _androidPlugins(){const t=r(3227);_androidPlugins=function(){return t};return t}function _warnings(){const t=r(9853);_warnings=function(){return t};return t}const n=(0,_androidPlugins().createAndroidManifestPlugin)(setScheme,"withScheme");e.withScheme=n;function getScheme(t){if(Array.isArray(t.scheme)){const e=t=>typeof t==="string";return t.scheme.filter(e)}else if(typeof t.scheme==="string"){return[t.scheme]}return[]}function setScheme(t,e){var r,n;const i=[...getScheme(t),...getScheme((r=t.android)!==null&&r!==void 0?r:{})];if((n=t.android)!==null&&n!==void 0&&n.package){i.push(t.android.package)}if(i.length===0){return e}if(!ensureManifestHasValidIntentFilter(e)){(0,_warnings().addWarningAndroid)("scheme",`Cannot add schemes because the provided manifest does not have a valid Activity with \`android:launchMode="singleTask"\``,"https://expo.fyi/setup-android-uri-scheme");return e}const s=getSchemesFromManifest(e);for(const t of s){const e=i.indexOf(t);if(e>-1)i.splice(e,1)}for(const t of i){e=appendScheme(t,e)}return e}function isValidRedirectIntentFilter({actions:t,categories:e,schemes:r}){return t.includes("android.intent.action.VIEW")&&!e.includes("android.intent.category.LAUNCHER")}function propertiesFromIntentFilter(t){var e,r,n,i,s,o;const a=(e=t===null||t===void 0?void 0:(r=t.action)===null||r===void 0?void 0:r.map(t=>{var e;return t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:name"]}))!==null&&e!==void 0?e:[];const u=(n=t===null||t===void 0?void 0:(i=t.category)===null||i===void 0?void 0:i.map(t=>{var e;return t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:name"]}))!==null&&n!==void 0?n:[];const c=(s=t===null||t===void 0?void 0:(o=t.data)===null||o===void 0?void 0:o.map(t=>{var e;return t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:scheme"]}))!==null&&s!==void 0?s:[];return{schemes:c,actions:a,categories:u}}function getSingleTaskIntentFilters(t){if(!Array.isArray(t.manifest.application))return[];let e=[];for(const r of t.manifest.application){const{activity:t}=r;const n=Array.isArray(t)?t:[t];const i=n.filter(t=>{var e;return(t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:launchMode"])==="singleTask"});for(const t of i){const r=t["intent-filter"];e=e.concat(r)}}return e}function getSchemesFromManifest(t){const e=[];const r=getSingleTaskIntentFilters(t);for(const t of r){const r=propertiesFromIntentFilter(t);if(isValidRedirectIntentFilter(r)){e.push(r)}}return e.reduce((t,{schemes:e})=>[...t,...e],[])}function ensureManifestHasValidIntentFilter(t){if(!Array.isArray(t.manifest.application)){return false}for(const r of t.manifest.application){for(const t of r.activity||[]){var e;if((t===null||t===void 0?void 0:(e=t.$)===null||e===void 0?void 0:e["android:launchMode"])==="singleTask"){for(const e of t["intent-filter"]||[]){const t=propertiesFromIntentFilter(e);if(isValidRedirectIntentFilter(t)){return true}}if(!t["intent-filter"]){t["intent-filter"]=[]}t["intent-filter"].push({action:[{$:{"android:name":"android.intent.action.VIEW"}}],category:[{$:{"android:name":"android.intent.category.DEFAULT"}},{$:{"android:name":"android.intent.category.BROWSABLE"}}]});return true}}}return false}function hasScheme(t,e){const r=getSchemesFromManifest(e);return r.includes(t)}function appendScheme(t,e){if(!Array.isArray(e.manifest.application)){return e}for(const n of e.manifest.application){for(const e of n.activity||[]){var r;if((e===null||e===void 0?void 0:(r=e.$)===null||r===void 0?void 0:r["android:launchMode"])==="singleTask"){for(const r of e["intent-filter"]||[]){const e=propertiesFromIntentFilter(r);if(isValidRedirectIntentFilter(e)){if(!r.data)r.data=[];r.data.push({$:{"android:scheme":t}})}}break}}}return e}function removeScheme(t,e){if(!Array.isArray(e.manifest.application)){return e}for(const o of e.manifest.application){for(const e of o.activity||[]){var r;if((e===null||e===void 0?void 0:(r=e.$)===null||r===void 0?void 0:r["android:launchMode"])==="singleTask"){for(const r of e["intent-filter"]||[]){const e=propertiesFromIntentFilter(r);if(isValidRedirectIntentFilter(e)){for(const e in(r===null||r===void 0?void 0:r.data)||[]){var n,i;const o=(n=r.data)===null||n===void 0?void 0:n[e];if((o===null||o===void 0?void 0:(i=o.$)===null||i===void 0?void 0:i["android:scheme"])===t){var s;(s=r.data)===null||s===void 0?true:delete s[e]}}}}break}}}return e}},3005:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.appendScheme=appendScheme;e.getScheme=getScheme;e.getSchemesFromPlist=getSchemesFromPlist;e.hasScheme=hasScheme;e.removeScheme=removeScheme;e.setScheme=setScheme;e.withScheme=void 0;function _iosPlugins(){const t=r(3438);_iosPlugins=function(){return t};return t}const n=(0,_iosPlugins().createInfoPlistPlugin)(setScheme,"withScheme");e.withScheme=n;function getScheme(t){if(Array.isArray(t.scheme)){const e=t=>{return typeof t==="string"};return t.scheme.filter(e)}else if(typeof t.scheme==="string"){return[t.scheme]}return[]}function setScheme(t,e){var r,n;const i=[...getScheme(t),...getScheme((r=t.ios)!==null&&r!==void 0?r:{})];if((n=t.ios)!==null&&n!==void 0&&n.bundleIdentifier){i.push(t.ios.bundleIdentifier)}if(i.length===0){return e}return{...e,CFBundleURLTypes:[{CFBundleURLSchemes:i}]}}function appendScheme(t,e){var r;if(!t){return e}const n=(r=e.CFBundleURLTypes)!==null&&r!==void 0?r:[];if(n.some(({CFBundleURLSchemes:e})=>e.includes(t))){return e}return{...e,CFBundleURLTypes:[...n,{CFBundleURLSchemes:[t]}]}}function removeScheme(t,e){if(!t){return e}if(!e.CFBundleURLTypes){return e}e.CFBundleURLTypes=e.CFBundleURLTypes.map(e=>{const r=e.CFBundleURLSchemes.indexOf(t);if(r>-1){e.CFBundleURLSchemes.splice(r,1);if(e.CFBundleURLSchemes.length===0){return undefined}}return e}).filter(Boolean);return e}function hasScheme(t,e){const r=e.CFBundleURLTypes;if(!Array.isArray(r))return false;return r.some(({CFBundleURLSchemes:e})=>Array.isArray(e)?e.includes(t):false)}function getSchemesFromPlist(t){if(Array.isArray(t.CFBundleURLTypes)){return t.CFBundleURLTypes.reduce((t,{CFBundleURLSchemes:e})=>{if(Array.isArray(e)){return[...t,...e]}return t},[])}return[]}},3227:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.createAndroidManifestPlugin=createAndroidManifestPlugin;e.createStringsXmlPlugin=createStringsXmlPlugin;e.withStringsXml=e.withSettingsGradle=e.withProjectBuildGradle=e.withMainApplication=e.withMainActivity=e.withGradleProperties=e.withAppBuildGradle=e.withAndroidStyles=e.withAndroidManifest=e.withAndroidColorsNight=e.withAndroidColors=void 0;function _withMod(){const t=r(378);_withMod=function(){return t};return t}function createAndroidManifestPlugin(t,e){const r=e=>n(e,async e=>{e.modResults=await t(e,e.modResults);return e});if(e){Object.defineProperty(r,"name",{value:e})}return r}function createStringsXmlPlugin(t,e){const r=e=>i(e,async e=>{e.modResults=await t(e,e.modResults);return e});if(e){Object.defineProperty(r,"name",{value:e})}return r}const n=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"manifest",action:e})};e.withAndroidManifest=n;const i=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"strings",action:e})};e.withStringsXml=i;const s=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"colors",action:e})};e.withAndroidColors=s;const o=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"colorsNight",action:e})};e.withAndroidColorsNight=o;const a=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"styles",action:e})};e.withAndroidStyles=a;const u=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"mainActivity",action:e})};e.withMainActivity=u;const c=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"mainApplication",action:e})};e.withMainApplication=c;const l=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"projectBuildGradle",action:e})};e.withProjectBuildGradle=l;const h=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"appBuildGradle",action:e})};e.withAppBuildGradle=h;const f=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"settingsGradle",action:e})};e.withSettingsGradle=f;const d=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"android",mod:"gradleProperties",action:e})};e.withGradleProperties=d},3438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.createEntitlementsPlugin=createEntitlementsPlugin;e.createInfoPlistPlugin=createInfoPlistPlugin;e.withXcodeProject=e.withPodfileProperties=e.withInfoPlist=e.withExpoPlist=e.withEntitlementsPlist=e.withAppDelegate=void 0;function _withMod(){const t=r(378);_withMod=function(){return t};return t}function createInfoPlistPlugin(t,e){const r=e=>i(e,async e=>{e.modResults=await t(e,e.modResults);return e});if(e){Object.defineProperty(r,"name",{value:e})}return r}function createEntitlementsPlugin(t,e){const r=e=>s(e,async e=>{e.modResults=await t(e,e.modResults);return e});if(e){Object.defineProperty(r,"name",{value:e})}return r}const n=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"appDelegate",action:e})};e.withAppDelegate=n;const i=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"infoPlist",async action(t){t=await e(t);if(!t.ios){t.ios={}}t.ios.infoPlist=t.modResults;return t}})};e.withInfoPlist=i;const s=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"entitlements",async action(t){t=await e(t);if(!t.ios){t.ios={}}t.ios.entitlements=t.modResults;return t}})};e.withEntitlementsPlist=s;const o=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"expoPlist",action:e})};e.withExpoPlist=o;const a=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"xcodeproj",action:e})};e.withXcodeProject=a;const u=(t,e)=>{return(0,_withMod().withMod)(t,{platform:"ios",mod:"podfileProperties",action:e})};e.withPodfileProperties=u},378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.withBaseMod=withBaseMod;e.withMod=withMod;function _chalk(){const t=_interopRequireDefault(r(8746));_chalk=function(){return t};return t}function _getenv(){const t=r(7945);_getenv=function(){return t};return t}function _errors(){const t=r(9113);_errors=function(){return t};return t}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const n=(0,_getenv().boolish)("EXPO_DEBUG",false);function withBaseMod(t,{platform:e,mod:r,action:i,skipEmptyMod:s,isProvider:o,isIntrospective:a,saveToInternal:u}){var c,l;if(!t.mods){t.mods={}}if(!t.mods[e]){t.mods[e]={}}let h=t.mods[e][r];if(!h){if(s){return t}const e=t=>t;h=e}let f="";const d=(c=(l=t._internal)===null||l===void 0?void 0:l.isDebug)!==null&&c!==void 0?c:n;if(d){const t=(new Error).stack;f=getDebugPluginStackFromStackTrace(t);const n=_chalk().default.bold(`${e}.${r}`);f=`${n}: ${f}`}if(h.isProvider){if(o){throw new(_errors().PluginError)(`Cannot set provider mod for "${e}.${r}" because another is already being used.`,"CONFLICTING_PROVIDER")}else{throw new(_errors().PluginError)(`Cannot add mod to "${e}.${r}" because the provider has already been added. Provider must be the last mod added.`,"INVALID_MOD_ORDER")}}async function interceptingMod({modRequest:t,...n}){if(d){console.log(f)}const s=await i({...n,modRequest:{...t,nextMod:h}});if(u){saveToInternalObject(s,e,r,s.modResults)}return s}interceptingMod.isProvider=o;if(a){interceptingMod.isIntrospective=a}t.mods[e][r]=interceptingMod;return t}function saveToInternalObject(t,e,r,n){if(!t._internal)t._internal={};if(!t._internal.modResults)t._internal.modResults={};if(!t._internal.modResults[e])t._internal.modResults[e]={};t._internal.modResults[e][r]=n}function getDebugPluginStackFromStackTrace(t){if(!t){return""}const e=[];for(const r of t.split("\n")){const[t,n]=r.trim().split(" ");if(t==="at"){e.push(n)}}const r=e.map(t=>{var e,r,n,i,s,o;return(e=(r=t===null||t===void 0?void 0:(n=t.match(/^(\bwith[A-Z].*?\b)/))===null||n===void 0?void 0:(i=n[1])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:t===null||t===void 0?void 0:(s=t.match(/\.(\bwith[A-Z].*?\b)/))===null||s===void 0?void 0:(o=s[1])===null||o===void 0?void 0:o.trim())!==null&&e!==void 0?e:null}).filter(Boolean).filter(t=>{return!["withMod","withBaseMod","withExtendedMod"].includes(t)});const n=["withPlugins","withRunOnce","withStaticPlugin"];return r.reverse().map((t,e)=>{if(t.includes("BaseMod")){t=_chalk().default.bold(t)}if(t.toLowerCase().includes("dangerous")){t=_chalk().default.red(t)}if(e===0){return _chalk().default.blue(t)}else if(n.includes(t)){return _chalk().default.dim(t)}return t}).join(" ➜ ")}function withMod(t,{platform:e,mod:r,action:n}){return withBaseMod(t,{platform:e,mod:r,isProvider:false,async action({modRequest:{nextMod:t,...e},modResults:r,...i}){const s=await n({modRequest:e,modResults:r,...i});return t(s)}})}},6537:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.escapeAndroidString=escapeAndroidString;e.format=format;e.parseXMLAsync=parseXMLAsync;e.readXMLAsync=readXMLAsync;e.writeXMLAsync=writeXMLAsync;function _fsExtra(){const t=_interopRequireDefault(r(302));_fsExtra=function(){return t};return t}function _os(){const t=r(2087);_os=function(){return t};return t}function _path(){const t=_interopRequireDefault(r(5622));_path=function(){return t};return t}function _xml2js(){const t=r(7013);_xml2js=function(){return t};return t}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}async function writeXMLAsync(t){const e=format(t.xml);await _fsExtra().default.ensureDir(_path().default.dirname(t.path));await _fsExtra().default.writeFile(t.path,e)}async function readXMLAsync(t){let e="";try{e=await _fsExtra().default.readFile(t.path,{encoding:"utf8",flag:"r"})}catch{}const r=new(_xml2js().Parser);const n=await r.parseStringPromise(e||t.fallback||"");return n}async function parseXMLAsync(t){const e=await(new(_xml2js().Parser)).parseStringPromise(t);return e}const n=(t,e)=>Array(t+1).join(e);function format(t,{indentLevel:e=2,newline:r=_os().EOL}={}){let i;if(typeof t==="string"){i=t}else if(t.toString){var s;const e=new(_xml2js().Builder)({headless:true});if(Array.isArray(t===null||t===void 0?void 0:(s=t.resources)===null||s===void 0?void 0:s.string)){for(const e of t===null||t===void 0?void 0:(o=t.resources)===null||o===void 0?void 0:o.string){var o;if(e.$.translatable==="false"||e.$.translatable===false){continue}e._=escapeAndroidString(e._)}}i=e.buildObject(t);return i}else{throw new Error(`Invalid XML value passed in: ${t}`)}const a=n(e," ");let u="";const c=/(>)(<)(\/*)/g;const l=i.replace(c,`$1${r}$2$3`);let h=0;l.split(/\r?\n/).map(t=>t.trim()).forEach(t=>{let e=0;if(t.match(/.+<\/\w[^>]*>$/)){e=0}else if(t.match(/^<\/\w/)){if(h!==0){h-=1}}else if(t.match(/^<\w([^>]*[^/])?>.*$/)){e=1}else{e=0}const i=n(h,a);u+=i+t+r;h+=e});return u.trim()}function escapeAndroidString(t){t=t.replace(/[\n\r\t'"@]/g,t=>{switch(t){case'"':case"'":case"@":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";default:throw new Error(`Cannot escape unhandled XML character: ${t}`)}});if(t.match(/(^\s|\s$)/)){t='"'+t+'"'}return t}},9113:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UnexpectedError=e.PluginError=void 0;function _defineProperty(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}class UnexpectedError extends Error{constructor(t){super(`${t}\nPlease report this as an issue on https://github.com/expo/expo-cli/issues`);_defineProperty(this,"name","UnexpectedError")}}e.UnexpectedError=UnexpectedError;class PluginError extends Error{constructor(t,e,r){super(r?`${t}\n└─ Cause: ${r.name}: ${r.message}`:t);this.code=e;this.cause=r;_defineProperty(this,"name","PluginError");_defineProperty(this,"isPluginError",true)}}e.PluginError=PluginError},9853:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.addWarningAndroid=addWarningAndroid;e.addWarningForPlatform=addWarningForPlatform;e.addWarningIOS=addWarningIOS;function _chalk(){const t=_interopRequireDefault(r(8746));_chalk=function(){return t};return t}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function addWarningAndroid(t,e,r){console.warn(formatWarning("android",t,e,r))}function addWarningIOS(t,e,r){console.warn(formatWarning("ios",t,e,r))}function addWarningForPlatform(t,e,r,n){console.warn(formatWarning(t,e,r,n))}function formatWarning(t,e,r,n){return _chalk().default.yellow`${"» "+_chalk().default.bold(t)}: ${e}: ${r}${n?_chalk().default.gray(" "+n):""}`}},7660:(t,e,r)=>{"use strict";const n=r(552);const i=r(5622);const s=r(221).mkdirsSync;const o=r(2924).utimesMillisSync;const a=r(9227);function copySync(t,e,r){if(typeof r==="function"){r={filter:r}}r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}const{srcStat:n,destStat:i}=a.checkPathsSync(t,e,"copy");a.checkParentPathsSync(t,n,e,"copy");return handleFilterAndCopy(i,t,e,r)}function handleFilterAndCopy(t,e,r,o){if(o.filter&&!o.filter(e,r))return;const a=i.dirname(r);if(!n.existsSync(a))s(a);return startCopy(t,e,r,o)}function startCopy(t,e,r,n){if(n.filter&&!n.filter(e,r))return;return getStats(t,e,r,n)}function getStats(t,e,r,i){const s=i.dereference?n.statSync:n.lstatSync;const o=s(e);if(o.isDirectory())return onDir(o,t,e,r,i);else if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return onFile(o,t,e,r,i);else if(o.isSymbolicLink())return onLink(t,e,r,i)}function onFile(t,e,r,n,i){if(!e)return copyFile(t,r,n,i);return mayCopyFile(t,r,n,i)}function mayCopyFile(t,e,r,i){if(i.overwrite){n.unlinkSync(r);return copyFile(t,e,r,i)}else if(i.errorOnExist){throw new Error(`'${r}' already exists`)}}function copyFile(t,e,r,i){n.copyFileSync(e,r);if(i.preserveTimestamps)handleTimestamps(t.mode,e,r);return setDestMode(r,t.mode)}function handleTimestamps(t,e,r){if(fileIsNotWritable(t))makeFileWritable(r,t);return setDestTimestamps(e,r)}function fileIsNotWritable(t){return(t&128)===0}function makeFileWritable(t,e){return setDestMode(t,e|128)}function setDestMode(t,e){return n.chmodSync(t,e)}function setDestTimestamps(t,e){const r=n.statSync(t);return o(e,r.atime,r.mtime)}function onDir(t,e,r,n,i){if(!e)return mkDirAndCopy(t.mode,r,n,i);if(e&&!e.isDirectory()){throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)}return copyDir(r,n,i)}function mkDirAndCopy(t,e,r,i){n.mkdirSync(r);copyDir(e,r,i);return setDestMode(r,t)}function copyDir(t,e,r){n.readdirSync(t).forEach(n=>copyDirItem(n,t,e,r))}function copyDirItem(t,e,r,n){const s=i.join(e,t);const o=i.join(r,t);const{destStat:u}=a.checkPathsSync(s,o,"copy");return startCopy(u,s,o,n)}function onLink(t,e,r,s){let o=n.readlinkSync(e);if(s.dereference){o=i.resolve(process.cwd(),o)}if(!t){return n.symlinkSync(o,r)}else{let t;try{t=n.readlinkSync(r)}catch(t){if(t.code==="EINVAL"||t.code==="UNKNOWN")return n.symlinkSync(o,r);throw t}if(s.dereference){t=i.resolve(process.cwd(),t)}if(a.isSrcSubdir(o,t)){throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${t}'.`)}if(n.statSync(r).isDirectory()&&a.isSrcSubdir(t,o)){throw new Error(`Cannot overwrite '${t}' with '${o}'.`)}return copyLink(o,r)}}function copyLink(t,e){n.unlinkSync(e);return n.symlinkSync(t,e)}t.exports=copySync},364:(t,e,r)=>{"use strict";t.exports={copySync:r(7660)}},1440:(t,e,r)=>{"use strict";const n=r(552);const i=r(5622);const s=r(221).mkdirs;const o=r(6716).pathExists;const a=r(2924).utimesMillis;const u=r(9227);function copy(t,e,r,n){if(typeof r==="function"&&!n){n=r;r={}}else if(typeof r==="function"){r={filter:r}}n=n||function(){};r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}u.checkPaths(t,e,"copy",(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;u.checkParentPaths(t,o,e,"copy",i=>{if(i)return n(i);if(r.filter)return handleFilter(checkParentDir,a,t,e,r,n);return checkParentDir(a,t,e,r,n)})})}function checkParentDir(t,e,r,n,a){const u=i.dirname(r);o(u,(i,o)=>{if(i)return a(i);if(o)return startCopy(t,e,r,n,a);s(u,i=>{if(i)return a(i);return startCopy(t,e,r,n,a)})})}function handleFilter(t,e,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>{if(o)return t(e,r,n,i,s);return s()},t=>s(t))}function startCopy(t,e,r,n,i){if(n.filter)return handleFilter(getStats,t,e,r,n,i);return getStats(t,e,r,n,i)}function getStats(t,e,r,i,s){const o=i.dereference?n.stat:n.lstat;o(e,(n,o)=>{if(n)return s(n);if(o.isDirectory())return onDir(o,t,e,r,i,s);else if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return onFile(o,t,e,r,i,s);else if(o.isSymbolicLink())return onLink(t,e,r,i,s)})}function onFile(t,e,r,n,i,s){if(!e)return copyFile(t,r,n,i,s);return mayCopyFile(t,r,n,i,s)}function mayCopyFile(t,e,r,i,s){if(i.overwrite){n.unlink(r,n=>{if(n)return s(n);return copyFile(t,e,r,i,s)})}else if(i.errorOnExist){return s(new Error(`'${r}' already exists`))}else return s()}function copyFile(t,e,r,i,s){n.copyFile(e,r,n=>{if(n)return s(n);if(i.preserveTimestamps)return handleTimestampsAndMode(t.mode,e,r,s);return setDestMode(r,t.mode,s)})}function handleTimestampsAndMode(t,e,r,n){if(fileIsNotWritable(t)){return makeFileWritable(r,t,i=>{if(i)return n(i);return setDestTimestampsAndMode(t,e,r,n)})}return setDestTimestampsAndMode(t,e,r,n)}function fileIsNotWritable(t){return(t&128)===0}function makeFileWritable(t,e,r){return setDestMode(t,e|128,r)}function setDestTimestampsAndMode(t,e,r,n){setDestTimestamps(e,r,e=>{if(e)return n(e);return setDestMode(r,t,n)})}function setDestMode(t,e,r){return n.chmod(t,e,r)}function setDestTimestamps(t,e,r){n.stat(t,(t,n)=>{if(t)return r(t);return a(e,n.atime,n.mtime,r)})}function onDir(t,e,r,n,i,s){if(!e)return mkDirAndCopy(t.mode,r,n,i,s);if(e&&!e.isDirectory()){return s(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`))}return copyDir(r,n,i,s)}function mkDirAndCopy(t,e,r,i,s){n.mkdir(r,n=>{if(n)return s(n);copyDir(e,r,i,e=>{if(e)return s(e);return setDestMode(r,t,s)})})}function copyDir(t,e,r,i){n.readdir(t,(n,s)=>{if(n)return i(n);return copyDirItems(s,t,e,r,i)})}function copyDirItems(t,e,r,n,i){const s=t.pop();if(!s)return i();return copyDirItem(t,s,e,r,n,i)}function copyDirItem(t,e,r,n,s,o){const a=i.join(r,e);const c=i.join(n,e);u.checkPaths(a,c,"copy",(e,i)=>{if(e)return o(e);const{destStat:u}=i;startCopy(u,a,c,s,e=>{if(e)return o(e);return copyDirItems(t,r,n,s,o)})})}function onLink(t,e,r,s,o){n.readlink(e,(e,a)=>{if(e)return o(e);if(s.dereference){a=i.resolve(process.cwd(),a)}if(!t){return n.symlink(a,r,o)}else{n.readlink(r,(e,c)=>{if(e){if(e.code==="EINVAL"||e.code==="UNKNOWN")return n.symlink(a,r,o);return o(e)}if(s.dereference){c=i.resolve(process.cwd(),c)}if(u.isSrcSubdir(a,c)){return o(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${c}'.`))}if(t.isDirectory()&&u.isSrcSubdir(c,a)){return o(new Error(`Cannot overwrite '${c}' with '${a}'.`))}return copyLink(a,r,o)})}})}function copyLink(t,e,r){n.unlink(e,i=>{if(i)return r(i);return n.symlink(t,e,r)})}t.exports=copy},3312:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;t.exports={copy:n(r(1440))}},5035:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(552);const s=r(5622);const o=r(221);const a=r(8322);const u=n(function emptyDir(t,e){e=e||function(){};i.readdir(t,(r,n)=>{if(r)return o.mkdirs(t,e);n=n.map(e=>s.join(t,e));deleteItem();function deleteItem(){const t=n.pop();if(!t)return e();a.remove(t,t=>{if(t)return e(t);deleteItem()})}})});function emptyDirSync(t){let e;try{e=i.readdirSync(t)}catch{return o.mkdirsSync(t)}e.forEach(e=>{e=s.join(t,e);a.removeSync(e)})}t.exports={emptyDirSync:emptyDirSync,emptydirSync:emptyDirSync,emptyDir:u,emptydir:u}},3548:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(5622);const s=r(552);const o=r(221);function createFile(t,e){function makeFile(){s.writeFile(t,"",t=>{if(t)return e(t);e()})}s.stat(t,(r,n)=>{if(!r&&n.isFile())return e();const a=i.dirname(t);s.stat(a,(t,r)=>{if(t){if(t.code==="ENOENT"){return o.mkdirs(a,t=>{if(t)return e(t);makeFile()})}return e(t)}if(r.isDirectory())makeFile();else{s.readdir(a,t=>{if(t)return e(t)})}})})}function createFileSync(t){let e;try{e=s.statSync(t)}catch{}if(e&&e.isFile())return;const r=i.dirname(t);try{if(!s.statSync(r).isDirectory()){s.readdirSync(r)}}catch(t){if(t&&t.code==="ENOENT")o.mkdirsSync(r);else throw t}s.writeFileSync(t,"")}t.exports={createFile:n(createFile),createFileSync:createFileSync}},6035:(t,e,r)=>{"use strict";const n=r(3548);const i=r(5184);const s=r(8457);t.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:s.createSymlink,createSymlinkSync:s.createSymlinkSync,ensureSymlink:s.createSymlink,ensureSymlinkSync:s.createSymlinkSync}},5184:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(5622);const s=r(552);const o=r(221);const a=r(6716).pathExists;function createLink(t,e,r){function makeLink(t,e){s.link(t,e,t=>{if(t)return r(t);r(null)})}a(e,(n,u)=>{if(n)return r(n);if(u)return r(null);s.lstat(t,n=>{if(n){n.message=n.message.replace("lstat","ensureLink");return r(n)}const s=i.dirname(e);a(s,(n,i)=>{if(n)return r(n);if(i)return makeLink(t,e);o.mkdirs(s,n=>{if(n)return r(n);makeLink(t,e)})})})})}function createLinkSync(t,e){const r=s.existsSync(e);if(r)return undefined;try{s.lstatSync(t)}catch(t){t.message=t.message.replace("lstat","ensureLink");throw t}const n=i.dirname(e);const a=s.existsSync(n);if(a)return s.linkSync(t,e);o.mkdirsSync(n);return s.linkSync(t,e)}t.exports={createLink:n(createLink),createLinkSync:createLinkSync}},4720:(t,e,r)=>{"use strict";const n=r(5622);const i=r(552);const s=r(6716).pathExists;function symlinkPaths(t,e,r){if(n.isAbsolute(t)){return i.lstat(t,e=>{if(e){e.message=e.message.replace("lstat","ensureSymlink");return r(e)}return r(null,{toCwd:t,toDst:t})})}else{const o=n.dirname(e);const a=n.join(o,t);return s(a,(e,s)=>{if(e)return r(e);if(s){return r(null,{toCwd:a,toDst:t})}else{return i.lstat(t,e=>{if(e){e.message=e.message.replace("lstat","ensureSymlink");return r(e)}return r(null,{toCwd:t,toDst:n.relative(o,t)})})}})}}function symlinkPathsSync(t,e){let r;if(n.isAbsolute(t)){r=i.existsSync(t);if(!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{const s=n.dirname(e);const o=n.join(s,t);r=i.existsSync(o);if(r){return{toCwd:o,toDst:t}}else{r=i.existsSync(t);if(!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:n.relative(s,t)}}}}t.exports={symlinkPaths:symlinkPaths,symlinkPathsSync:symlinkPathsSync}},678:(t,e,r)=>{"use strict";const n=r(552);function symlinkType(t,e,r){r=typeof e==="function"?e:r;e=typeof e==="function"?false:e;if(e)return r(null,e);n.lstat(t,(t,n)=>{if(t)return r(null,"file");e=n&&n.isDirectory()?"dir":"file";r(null,e)})}function symlinkTypeSync(t,e){let r;if(e)return e;try{r=n.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}t.exports={symlinkType:symlinkType,symlinkTypeSync:symlinkTypeSync}},8457:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(5622);const s=r(552);const o=r(221);const a=o.mkdirs;const u=o.mkdirsSync;const c=r(4720);const l=c.symlinkPaths;const h=c.symlinkPathsSync;const f=r(678);const d=f.symlinkType;const p=f.symlinkTypeSync;const m=r(6716).pathExists;function createSymlink(t,e,r,n){n=typeof r==="function"?r:n;r=typeof r==="function"?false:r;m(e,(o,u)=>{if(o)return n(o);if(u)return n(null);l(t,e,(o,u)=>{if(o)return n(o);t=u.toDst;d(u.toCwd,r,(r,o)=>{if(r)return n(r);const u=i.dirname(e);m(u,(r,i)=>{if(r)return n(r);if(i)return s.symlink(t,e,o,n);a(u,r=>{if(r)return n(r);s.symlink(t,e,o,n)})})})})})}function createSymlinkSync(t,e,r){const n=s.existsSync(e);if(n)return undefined;const o=h(t,e);t=o.toDst;r=p(o.toCwd,r);const a=i.dirname(e);const c=s.existsSync(a);if(c)return s.symlinkSync(t,e,r);u(a);return s.symlinkSync(t,e,r)}t.exports={createSymlink:n(createSymlink),createSymlinkSync:createSymlinkSync}},3609:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(552);const s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>{return typeof i[t]==="function"});Object.keys(i).forEach(t=>{if(t==="promises"){return}e[t]=i[t]});s.forEach(t=>{e[t]=n(i[t])});e.exists=function(t,e){if(typeof e==="function"){return i.exists(t,e)}return new Promise(e=>{return i.exists(t,e)})};e.read=function(t,e,r,n,s,o){if(typeof o==="function"){return i.read(t,e,r,n,s,o)}return new Promise((o,a)=>{i.read(t,e,r,n,s,(t,e,r)=>{if(t)return a(t);o({bytesRead:e,buffer:r})})})};e.write=function(t,e,...r){if(typeof r[r.length-1]==="function"){return i.write(t,e,...r)}return new Promise((n,s)=>{i.write(t,e,...r,(t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffer:r})})})};if(typeof i.writev==="function"){e.writev=function(t,e,...r){if(typeof r[r.length-1]==="function"){return i.writev(t,e,...r)}return new Promise((n,s)=>{i.writev(t,e,...r,(t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffers:r})})})}}if(typeof i.realpath.native==="function"){e.realpath.native=n(i.realpath.native)}},302:(t,e,r)=>{"use strict";t.exports={...r(3609),...r(364),...r(3312),...r(5035),...r(6035),...r(490),...r(221),...r(2406),...r(4409),...r(9925),...r(6716),...r(8322)};const n=r(5747);if(Object.getOwnPropertyDescriptor(n,"promises")){Object.defineProperty(t.exports,"promises",{get(){return n.promises}})}},490:(t,e,r)=>{"use strict";const n=r(2979).fromPromise;const i=r(3610);i.outputJson=n(r(1572));i.outputJsonSync=r(3750);i.outputJSON=i.outputJson;i.outputJSONSync=i.outputJsonSync;i.writeJSON=i.writeJson;i.writeJSONSync=i.writeJsonSync;i.readJSON=i.readJson;i.readJSONSync=i.readJsonSync;t.exports=i},3610:(t,e,r)=>{"use strict";const n=r(5282);t.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},3750:(t,e,r)=>{"use strict";const{stringify:n}=r(1720);const{outputFileSync:i}=r(9925);function outputJsonSync(t,e,r){const s=n(e,r);i(t,s,r)}t.exports=outputJsonSync},1572:(t,e,r)=>{"use strict";const{stringify:n}=r(1720);const{outputFile:i}=r(9925);async function outputJson(t,e,r={}){const s=n(e,r);await i(t,s,r)}t.exports=outputJson},221:(t,e,r)=>{"use strict";const n=r(2979).fromPromise;const{makeDir:i,makeDirSync:s}=r(4721);const o=n(i);t.exports={mkdirs:o,mkdirsSync:s,mkdirp:o,mkdirpSync:s,ensureDir:o,ensureDirSync:s}},4721:(t,e,r)=>{"use strict";const n=r(3609);const i=r(5622);const s=r(5145);const o=s("10.12.0");const a=t=>{if(process.platform==="win32"){const e=/[<>:"|?*]/.test(t.replace(i.parse(t).root,""));if(e){const e=new Error(`Path contains invalid characters: ${t}`);e.code="EINVAL";throw e}}};const u=t=>{const e={mode:511&~process.umask()};if(typeof t==="number")t={mode:t};return{...e,...t}};const c=t=>{const e=new Error(`operation not permitted, mkdir '${t}'`);e.code="EPERM";e.errno=-4048;e.path=t;e.syscall="mkdir";return e};t.exports.makeDir=(async(t,e)=>{a(t);e=u(e);if(o){const r=i.resolve(t);return n.mkdir(r,{mode:e.mode,recursive:true})}const r=async t=>{try{await n.mkdir(t,e.mode)}catch(e){if(e.code==="EPERM"){throw e}if(e.code==="ENOENT"){if(i.dirname(t)===t){throw c(t)}if(e.message.includes("null bytes")){throw e}await r(i.dirname(t));return r(t)}try{const r=await n.stat(t);if(!r.isDirectory()){throw new Error("The path is not a directory")}}catch{throw e}}};return r(i.resolve(t))});t.exports.makeDirSync=((t,e)=>{a(t);e=u(e);if(o){const r=i.resolve(t);return n.mkdirSync(r,{mode:e.mode,recursive:true})}const r=t=>{try{n.mkdirSync(t,e.mode)}catch(e){if(e.code==="EPERM"){throw e}if(e.code==="ENOENT"){if(i.dirname(t)===t){throw c(t)}if(e.message.includes("null bytes")){throw e}r(i.dirname(t));return r(t)}try{if(!n.statSync(t).isDirectory()){throw new Error("The path is not a directory")}}catch{throw e}}};return r(i.resolve(t))})},2406:(t,e,r)=>{"use strict";t.exports={moveSync:r(9349)}},9349:(t,e,r)=>{"use strict";const n=r(552);const i=r(5622);const s=r(364).copySync;const o=r(8322).removeSync;const a=r(221).mkdirpSync;const u=r(9227);function moveSync(t,e,r){r=r||{};const n=r.overwrite||r.clobber||false;const{srcStat:s}=u.checkPathsSync(t,e,"move");u.checkParentPathsSync(t,s,e,"move");a(i.dirname(e));return doRename(t,e,n)}function doRename(t,e,r){if(r){o(e);return rename(t,e,r)}if(n.existsSync(e))throw new Error("dest already exists.");return rename(t,e,r)}function rename(t,e,r){try{n.renameSync(t,e)}catch(n){if(n.code!=="EXDEV")throw n;return moveAcrossDevice(t,e,r)}}function moveAcrossDevice(t,e,r){const n={overwrite:r,errorOnExist:true};s(t,e,n);return o(t)}t.exports=moveSync},4409:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;t.exports={move:n(r(2233))}},2233:(t,e,r)=>{"use strict";const n=r(552);const i=r(5622);const s=r(3312).copy;const o=r(8322).remove;const a=r(221).mkdirp;const u=r(6716).pathExists;const c=r(9227);function move(t,e,r,n){if(typeof r==="function"){n=r;r={}}const s=r.overwrite||r.clobber||false;c.checkPaths(t,e,"move",(r,o)=>{if(r)return n(r);const{srcStat:u}=o;c.checkParentPaths(t,u,e,"move",r=>{if(r)return n(r);a(i.dirname(e),r=>{if(r)return n(r);return doRename(t,e,s,n)})})})}function doRename(t,e,r,n){if(r){return o(e,i=>{if(i)return n(i);return rename(t,e,r,n)})}u(e,(i,s)=>{if(i)return n(i);if(s)return n(new Error("dest already exists."));return rename(t,e,r,n)})}function rename(t,e,r,i){n.rename(t,e,n=>{if(!n)return i();if(n.code!=="EXDEV")return i(n);return moveAcrossDevice(t,e,r,i)})}function moveAcrossDevice(t,e,r,n){const i={overwrite:r,errorOnExist:true};s(t,e,i,e=>{if(e)return n(e);return o(t,n)})}t.exports=move},9925:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(552);const s=r(5622);const o=r(221);const a=r(6716).pathExists;function outputFile(t,e,r,n){if(typeof r==="function"){n=r;r="utf8"}const u=s.dirname(t);a(u,(s,a)=>{if(s)return n(s);if(a)return i.writeFile(t,e,r,n);o.mkdirs(u,s=>{if(s)return n(s);i.writeFile(t,e,r,n)})})}function outputFileSync(t,...e){const r=s.dirname(t);if(i.existsSync(r)){return i.writeFileSync(t,...e)}o.mkdirsSync(r);i.writeFileSync(t,...e)}t.exports={outputFile:n(outputFile),outputFileSync:outputFileSync}},6716:(t,e,r)=>{"use strict";const n=r(2979).fromPromise;const i=r(3609);function pathExists(t){return i.access(t).then(()=>true).catch(()=>false)}t.exports={pathExists:n(pathExists),pathExistsSync:i.existsSync}},8322:(t,e,r)=>{"use strict";const n=r(2979).fromCallback;const i=r(2601);t.exports={remove:n(i),removeSync:i.sync}},2601:(t,e,r)=>{"use strict";const n=r(552);const i=r(5622);const s=r(2357);const o=process.platform==="win32";function defaults(t){const e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(e=>{t[e]=t[e]||n[e];e=e+"Sync";t[e]=t[e]||n[e]});t.maxBusyTries=t.maxBusyTries||3}function rimraf(t,e,r){let n=0;if(typeof e==="function"){r=e;e={}}s(t,"rimraf: missing path");s.strictEqual(typeof t,"string","rimraf: path should be a string");s.strictEqual(typeof r,"function","rimraf: callback function required");s(e,"rimraf: invalid options argument provided");s.strictEqual(typeof e,"object","rimraf: options should be object");defaults(e);rimraf_(t,e,function CB(i){if(i){if((i.code==="EBUSY"||i.code==="ENOTEMPTY"||i.code==="EPERM")&&n<e.maxBusyTries){n++;const r=n*100;return setTimeout(()=>rimraf_(t,e,CB),r)}if(i.code==="ENOENT")i=null}r(i)})}function rimraf_(t,e,r){s(t);s(e);s(typeof r==="function");e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT"){return r(null)}if(n&&n.code==="EPERM"&&o){return fixWinEPERM(t,e,n,r)}if(i&&i.isDirectory()){return rmdir(t,e,n,r)}e.unlink(t,n=>{if(n){if(n.code==="ENOENT"){return r(null)}if(n.code==="EPERM"){return o?fixWinEPERM(t,e,n,r):rmdir(t,e,n,r)}if(n.code==="EISDIR"){return rmdir(t,e,n,r)}}return r(n)})})}function fixWinEPERM(t,e,r,n){s(t);s(e);s(typeof n==="function");if(r){s(r instanceof Error)}e.chmod(t,438,i=>{if(i){n(i.code==="ENOENT"?null:r)}else{e.stat(t,(i,s)=>{if(i){n(i.code==="ENOENT"?null:r)}else if(s.isDirectory()){rmdir(t,e,r,n)}else{e.unlink(t,n)}})}})}function fixWinEPERMSync(t,e,r){let n;s(t);s(e);if(r){s(r instanceof Error)}try{e.chmodSync(t,438)}catch(t){if(t.code==="ENOENT"){return}else{throw r}}try{n=e.statSync(t)}catch(t){if(t.code==="ENOENT"){return}else{throw r}}if(n.isDirectory()){rmdirSync(t,e,r)}else{e.unlinkSync(t)}}function rmdir(t,e,r,n){s(t);s(e);if(r){s(r instanceof Error)}s(typeof n==="function");e.rmdir(t,i=>{if(i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")){rmkids(t,e,n)}else if(i&&i.code==="ENOTDIR"){n(r)}else{n(i)}})}function rmkids(t,e,r){s(t);s(e);s(typeof r==="function");e.readdir(t,(n,s)=>{if(n)return r(n);let o=s.length;let a;if(o===0)return e.rmdir(t,r);s.forEach(n=>{rimraf(i.join(t,n),e,n=>{if(a){return}if(n)return r(a=n);if(--o===0){e.rmdir(t,r)}})})})}function rimrafSync(t,e){let r;e=e||{};defaults(e);s(t,"rimraf: missing path");s.strictEqual(typeof t,"string","rimraf: path should be a string");s(e,"rimraf: missing options");s.strictEqual(typeof e,"object","rimraf: options should be object");try{r=e.lstatSync(t)}catch(r){if(r.code==="ENOENT"){return}if(r.code==="EPERM"&&o){fixWinEPERMSync(t,e,r)}}try{if(r&&r.isDirectory()){rmdirSync(t,e,null)}else{e.unlinkSync(t)}}catch(r){if(r.code==="ENOENT"){return}else if(r.code==="EPERM"){return o?fixWinEPERMSync(t,e,r):rmdirSync(t,e,r)}else if(r.code!=="EISDIR"){throw r}rmdirSync(t,e,r)}}function rmdirSync(t,e,r){s(t);s(e);if(r){s(r instanceof Error)}try{e.rmdirSync(t)}catch(n){if(n.code==="ENOTDIR"){throw r}else if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"){rmkidsSync(t,e)}else if(n.code!=="ENOENT"){throw n}}}function rmkidsSync(t,e){s(t);s(e);e.readdirSync(t).forEach(r=>rimrafSync(i.join(t,r),e));if(o){const r=Date.now();do{try{const r=e.rmdirSync(t,e);return r}catch{}}while(Date.now()-r<500)}else{const r=e.rmdirSync(t,e);return r}}t.exports=rimraf;rimraf.sync=rimrafSync},9227:(t,e,r)=>{"use strict";const n=r(3609);const i=r(5622);const s=r(1669);const o=r(5145);const a=o("10.5.0");const u=t=>a?n.stat(t,{bigint:true}):n.stat(t);const c=t=>a?n.statSync(t,{bigint:true}):n.statSync(t);function getStats(t,e){return Promise.all([u(t),u(e).catch(t=>{if(t.code==="ENOENT")return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}function getStatsSync(t,e){let r;const n=c(t);try{r=c(e)}catch(t){if(t.code==="ENOENT")return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:r}}function checkPaths(t,e,r,n){s.callbackify(getStats)(t,e,(i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;if(a&&areIdentical(o,a)){return n(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&isSrcSubdir(t,e)){return n(new Error(errMsg(t,e,r)))}return n(null,{srcStat:o,destStat:a})})}function checkPathsSync(t,e,r){const{srcStat:n,destStat:i}=getStatsSync(t,e);if(i&&areIdentical(n,i)){throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&isSrcSubdir(t,e)){throw new Error(errMsg(t,e,r))}return{srcStat:n,destStat:i}}function checkParentPaths(t,e,r,s,o){const u=i.resolve(i.dirname(t));const c=i.resolve(i.dirname(r));if(c===u||c===i.parse(c).root)return o();const l=(n,i)=>{if(n){if(n.code==="ENOENT")return o();return o(n)}if(areIdentical(e,i)){return o(new Error(errMsg(t,r,s)))}return checkParentPaths(t,e,c,s,o)};if(a)n.stat(c,{bigint:true},l);else n.stat(c,l)}function checkParentPathsSync(t,e,r,n){const s=i.resolve(i.dirname(t));const o=i.resolve(i.dirname(r));if(o===s||o===i.parse(o).root)return;let a;try{a=c(o)}catch(t){if(t.code==="ENOENT")return;throw t}if(areIdentical(e,a)){throw new Error(errMsg(t,r,n))}return checkParentPathsSync(t,e,o,n)}function areIdentical(t,e){if(e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev){if(a||e.ino<Number.MAX_SAFE_INTEGER){return true}if(e.size===t.size&&e.mode===t.mode&&e.nlink===t.nlink&&e.atimeMs===t.atimeMs&&e.mtimeMs===t.mtimeMs&&e.ctimeMs===t.ctimeMs&&e.birthtimeMs===t.birthtimeMs){return true}}return false}function isSrcSubdir(t,e){const r=i.resolve(t).split(i.sep).filter(t=>t);const n=i.resolve(e).split(i.sep).filter(t=>t);return r.reduce((t,e,r)=>t&&n[r]===e,true)}function errMsg(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:checkPaths,checkPathsSync:checkPathsSync,checkParentPaths:checkParentPaths,checkParentPathsSync:checkParentPathsSync,isSrcSubdir:isSrcSubdir}},2924:(t,e,r)=>{"use strict";const n=r(552);function utimesMillis(t,e,r,i){n.open(t,"r+",(t,s)=>{if(t)return i(t);n.futimes(s,e,r,t=>{n.close(s,e=>{if(i)i(t||e)})})})}function utimesMillisSync(t,e,r){const i=n.openSync(t,"r+");n.futimesSync(i,e,r);return n.closeSync(i)}t.exports={utimesMillis:utimesMillis,utimesMillisSync:utimesMillisSync}},5282:(t,e,r)=>{let n;try{n=r(552)}catch(t){n=r(5747)}const i=r(2979);const{stringify:s,stripBom:o}=r(1720);async function _readFile(t,e={}){if(typeof e==="string"){e={encoding:e}}const r=e.fs||n;const s="throws"in e?e.throws:true;let a=await i.fromCallback(r.readFile)(t,e);a=o(a);let u;try{u=JSON.parse(a,e?e.reviver:null)}catch(e){if(s){e.message=`${t}: ${e.message}`;throw e}else{return null}}return u}const a=i.fromPromise(_readFile);function readFileSync(t,e={}){if(typeof e==="string"){e={encoding:e}}const r=e.fs||n;const i="throws"in e?e.throws:true;try{let n=r.readFileSync(t,e);n=o(n);return JSON.parse(n,e.reviver)}catch(e){if(i){e.message=`${t}: ${e.message}`;throw e}else{return null}}}async function _writeFile(t,e,r={}){const o=r.fs||n;const a=s(e,r);await i.fromCallback(o.writeFile)(t,a,r)}const u=i.fromPromise(_writeFile);function writeFileSync(t,e,r={}){const i=r.fs||n;const o=s(e,r);return i.writeFileSync(t,o,r)}const c={readFile:a,readFileSync:readFileSync,writeFile:u,writeFileSync:writeFileSync};t.exports=c},1720:t=>{function stringify(t,e={}){const r=e.EOL||"\n";const n=JSON.stringify(t,e?e.replacer:null,e.spaces);return n.replace(/\n/g,r)+r}function stripBom(t){if(Buffer.isBuffer(t))t=t.toString("utf8");return t.replace(/^\uFEFF/,"")}t.exports={stringify:stringify,stripBom:stripBom}},2979:(t,e)=>{"use strict";e.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]==="function")t.apply(this,e);else{return new Promise((r,n)=>{t.apply(this,e.concat([(t,e)=>t?n(t):r(e)]))})}},"name",{value:t.name})};e.fromPromise=function(t){return Object.defineProperty(function(...e){const r=e[e.length-1];if(typeof r!=="function")return t.apply(this,e);else t.apply(this,e.slice(0,-1)).then(t=>r(null,t),r)},"name",{value:t.name})}},8546:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.build=void 0;const i=n(r(2991));const s=n(r(5769));function ISODateString(t){function pad(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"Z"}const o=Object.prototype.toString;function type(t){const e=o.call(t).match(/\[object (.*)\]/);return e?e[1]:e}function build(t,e){const r={version:"1.0",encoding:"UTF-8"};const n={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"};const i=s.default.create("plist");i.dec(r.version,r.encoding,r.standalone);i.dtd(n.pubid,n.sysid);i.att("version","1.0");walk_obj(t,i);if(!e)e={};e.pretty=e.pretty!==false;return i.end(e)}e.build=build;function walk_obj(t,e){let r,n,s;const o=type(t);if(o=="Undefined"){}else if(Array.isArray(t)){e=e.ele("array");for(n=0;n<t.length;n++){walk_obj(t[n],e)}}else if(Buffer.isBuffer(t)){e.ele("data").raw(t.toString("base64"))}else if(o=="Object"){e=e.ele("dict");for(s in t){if(t.hasOwnProperty(s)&&t[s]!==undefined){e.ele("key").txt(s);walk_obj(t[s],e)}}}else if(o=="Number"){r=t%1===0?"integer":"real";e.ele(r).txt(t.toString())}else if(o=="Date"){e.ele("date").txt(ISODateString(new Date(t)))}else if(o=="Boolean"){e.ele(t?"true":"false")}else if(o=="String"){e.ele("string").txt(t)}else if(o=="ArrayBuffer"){e.ele("data").raw(i.default.fromByteArray(t))}else if(t&&t.buffer&&type(t.buffer)=="ArrayBuffer"){e.ele("data").raw(i.default.fromByteArray(new Uint8Array(t.buffer)))}}},2316:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(8546);const i=r(1305);e.default={parse:i.parse,build:n.build}},1305:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.parse=void 0;const i=r(2800);const s=n(r(2357));const o=3;const a=4;const u=8;function shouldIgnoreNode(t){return t.nodeType===o||t.nodeType===u||t.nodeType===a}function isEmptyNode(t){return!t.childNodes||t.childNodes.length===0}function parse(t){const e=new i.DOMParser({errorHandler(){}}).parseFromString(t);s.default(e.documentElement.nodeName==="plist","malformed document. First element should be <plist>");let r=parsePlistXML(e.documentElement);if(r.length==1)r=r[0];return r}e.parse=parse;function parsePlistXML(t){let e,r,n,i,u,c;if(!t)return null;if(t.nodeName==="plist"){i=[];if(isEmptyNode(t)){return i}for(e=0;e<t.childNodes.length;e++){if(!shouldIgnoreNode(t.childNodes[e])){i.push(parsePlistXML(t.childNodes[e]))}}return i}else if(t.nodeName==="dict"){r={};n=null;c=0;if(isEmptyNode(t)){return r}for(e=0;e<t.childNodes.length;e++){if(shouldIgnoreNode(t.childNodes[e]))continue;if(c%2===0){s.default(t.childNodes[e].nodeName==="key","Missing key while parsing <dict/>.");n=parsePlistXML(t.childNodes[e])}else{s.default(t.childNodes[e].nodeName!=="key",'Unexpected key "'+parsePlistXML(t.childNodes[e])+'" while parsing <dict/>.');r[n]=parsePlistXML(t.childNodes[e])}c+=1}if(c%2===1){throw new Error('Missing value for "'+n+'" while parsing <dict/>')}return r}else if(t.nodeName==="array"){i=[];if(isEmptyNode(t)){return i}for(e=0;e<t.childNodes.length;e++){if(!shouldIgnoreNode(t.childNodes[e])){u=parsePlistXML(t.childNodes[e]);if(u!=null)i.push(u)}}return i}else if(t.nodeName==="#text"){}else if(t.nodeName==="key"){if(isEmptyNode(t)){return""}return t.childNodes[0].nodeValue}else if(t.nodeName==="string"){u="";if(isEmptyNode(t)){return u}for(e=0;e<t.childNodes.length;e++){const r=t.childNodes[e].nodeType;if(r===o||r===a){u+=t.childNodes[e].nodeValue}}return u}else if(t.nodeName==="integer"){s.default(!isEmptyNode(t),'Cannot parse "" as integer.');return parseInt(t.childNodes[0].nodeValue,10)}else if(t.nodeName==="real"){s.default(!isEmptyNode(t),'Cannot parse "" as real.');u="";for(e=0;e<t.childNodes.length;e++){if(t.childNodes[e].nodeType===o){u+=t.childNodes[e].nodeValue}}return parseFloat(u)}else if(t.nodeName==="data"){u="";if(isEmptyNode(t)){return Buffer.from(u,"base64")}for(e=0;e<t.childNodes.length;e++){if(t.childNodes[e].nodeType===o){u+=t.childNodes[e].nodeValue.replace(/\s+/g,"")}}return Buffer.from(u,"base64")}else if(t.nodeName==="date"){s.default(!isEmptyNode(t),'Cannot parse "" as Date.');return new Date(t.childNodes[0].nodeValue)}else if(t.nodeName==="true"){return true}else if(t.nodeName==="false"){return false}}},8138:(t,e,r)=>{var n=r(8614).EventEmitter;var i=r(3129).spawn;var s=r(5622);var o=s.dirname;var a=s.basename;var u=r(5747);r(1669).inherits(Command,n);e=t.exports=new Command;e.Command=Command;e.Option=Option;function Option(t,e){this.flags=t;this.required=t.indexOf("<")>=0;this.optional=t.indexOf("[")>=0;this.bool=t.indexOf("-no-")===-1;t=t.split(/[ ,|]+/);if(t.length>1&&!/^[[<]/.test(t[1]))this.short=t.shift();this.long=t.shift();this.description=e||""}Option.prototype.name=function(){return this.long.replace("--","").replace("no-","")};Option.prototype.attributeName=function(){return camelcase(this.name())};Option.prototype.is=function(t){return this.short===t||this.long===t};function Command(t){this.commands=[];this.options=[];this._execs={};this._allowUnknownOption=false;this._args=[];this._name=t||""}Command.prototype.command=function(t,e,r){if(typeof e==="object"&&e!==null){r=e;e=null}r=r||{};var n=t.split(/ +/);var i=new Command(n.shift());if(e){i.description(e);this.executables=true;this._execs[i._name]=true;if(r.isDefault)this.defaultExecutable=i._name}i._noHelp=!!r.noHelp;this.commands.push(i);i.parseExpectedArgs(n);i.parent=this;if(e)return this;return i};Command.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))};Command.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")};Command.prototype.parseExpectedArgs=function(t){if(!t.length)return;var e=this;t.forEach(function(t){var r={required:false,name:"",variadic:false};switch(t[0]){case"<":r.required=true;r.name=t.slice(1,-1);break;case"[":r.name=t.slice(1,-1);break}if(r.name.length>3&&r.name.slice(-3)==="..."){r.variadic=true;r.name=r.name.slice(0,-3)}if(r.name){e._args.push(r)}});return this};Command.prototype.action=function(t){var e=this;var r=function(r,n){r=r||[];n=n||[];var i=e.parseOptions(n);outputHelpIfNecessary(e,i.unknown);if(i.unknown.length>0){e.unknownOption(i.unknown[0])}if(i.args.length)r=i.args.concat(r);e._args.forEach(function(t,n){if(t.required&&r[n]==null){e.missingArgument(t.name)}else if(t.variadic){if(n!==e._args.length-1){e.variadicArgNotLast(t.name)}r[n]=r.splice(n)}});if(e._args.length){r[e._args.length]=e}else{r.push(e)}t.apply(e,r)};var n=this.parent||this;var i=n===this?"*":this._name;n.on("command:"+i,r);if(this._alias)n.on("command:"+this._alias,r);return this};Command.prototype.option=function(t,e,r,n){var i=this,s=new Option(t,e),o=s.name(),a=s.attributeName();if(typeof r!=="function"){if(r instanceof RegExp){var u=r;r=function(t,e){var r=u.exec(t);return r?r[0]:e}}else{n=r;r=null}}if(!s.bool||s.optional||s.required){if(!s.bool)n=true;if(n!==undefined){i[a]=n;s.defaultValue=n}}this.options.push(s);this.on("option:"+o,function(t){if(t!==null&&r){t=r(t,i[a]===undefined?n:i[a])}if(typeof i[a]==="boolean"||typeof i[a]==="undefined"){if(t==null){i[a]=s.bool?n||true:false}else{i[a]=t}}else if(t!==null){i[a]=t}});return this};Command.prototype.allowUnknownOption=function(t){this._allowUnknownOption=arguments.length===0||t;return this};Command.prototype.parse=function(t){if(this.executables)this.addImplicitHelpCommand();this.rawArgs=t;this._name=this._name||a(t[1],".js");if(this.executables&&t.length<3&&!this.defaultExecutable){t.push("--help")}var e=this.parseOptions(this.normalize(t.slice(2)));var r=this.args=e.args;var n=this.parseArgs(this.args,e.unknown);var i=n.args[0];var s=null;if(i){s=this.commands.filter(function(t){return t.alias()===i})[0]}if(this._execs[i]&&typeof this._execs[i]!=="function"){return this.executeSubCommand(t,r,e.unknown)}else if(s){r[0]=s._name;return this.executeSubCommand(t,r,e.unknown)}else if(this.defaultExecutable){r.unshift(this.defaultExecutable);return this.executeSubCommand(t,r,e.unknown)}return n};Command.prototype.executeSubCommand=function(t,e,r){e=e.concat(r);if(!e.length)this.help();if(e[0]==="help"&&e.length===1)this.help();if(e[0]==="help"){e[0]=e[1];e[1]="--help"}var n=t[1];var c=a(n,s.extname(n))+"-"+e[0];var l;var h=u.realpathSync(n);l=o(h);var f=s.join(l,c);var d=false;if(exists(f+".js")){c=f+".js";d=true}else if(exists(f+".ts")){c=f+".ts";d=true}else if(exists(f)){c=f}e=e.slice(1);var p;if(process.platform!=="win32"){if(d){e.unshift(c);e=(process.execArgv||[]).concat(e);p=i(process.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})}else{p=i(c,e,{stdio:"inherit",customFds:[0,1,2]})}}else{e.unshift(c);p=i(process.execPath,e,{stdio:"inherit"})}var m=["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"];m.forEach(function(t){process.on(t,function(){if(p.killed===false&&p.exitCode===null){p.kill(t)}})});p.on("close",process.exit.bind(process));p.on("error",function(t){if(t.code==="ENOENT"){console.error("error: %s(1) does not exist, try --help",c)}else if(t.code==="EACCES"){console.error("error: %s(1) not executable. try chmod or run with root",c)}process.exit(1)});this.runningCommand=p};Command.prototype.normalize=function(t){var e=[],r,n,i;for(var s=0,o=t.length;s<o;++s){r=t[s];if(s>0){n=this.optionFor(t[s-1])}if(r==="--"){e=e.concat(t.slice(s));break}else if(n&&n.required){e.push(r)}else if(r.length>1&&r[0]==="-"&&r[1]!=="-"){r.slice(1).split("").forEach(function(t){e.push("-"+t)})}else if(/^--/.test(r)&&~(i=r.indexOf("="))){e.push(r.slice(0,i),r.slice(i+1))}else{e.push(r)}}return e};Command.prototype.parseArgs=function(t,e){var r;if(t.length){r=t[0];if(this.listeners("command:"+r).length){this.emit("command:"+t.shift(),t,e)}else{this.emit("command:*",t)}}else{outputHelpIfNecessary(this,e);if(e.length>0){this.unknownOption(e[0])}if(this.commands.length===0&&this._args.filter(function(t){return t.required}).length===0){this.emit("command:*")}}return this};Command.prototype.optionFor=function(t){for(var e=0,r=this.options.length;e<r;++e){if(this.options[e].is(t)){return this.options[e]}}};Command.prototype.parseOptions=function(t){var e=[],r=t.length,n,i,s;var o=[];for(var a=0;a<r;++a){s=t[a];if(n){e.push(s);continue}if(s==="--"){n=true;continue}i=this.optionFor(s);if(i){if(i.required){s=t[++a];if(s==null)return this.optionMissingArgument(i);this.emit("option:"+i.name(),s)}else if(i.optional){s=t[a+1];if(s==null||s[0]==="-"&&s!=="-"){s=null}else{++a}this.emit("option:"+i.name(),s)}else{this.emit("option:"+i.name())}continue}if(s.length>1&&s[0]==="-"){o.push(s);if(a+1<t.length&&t[a+1][0]!=="-"){o.push(t[++a])}continue}e.push(s)}return{args:e,unknown:o}};Command.prototype.opts=function(){var t={},e=this.options.length;for(var r=0;r<e;r++){var n=this.options[r].attributeName();t[n]=n===this._versionOptionName?this._version:this[n]}return t};Command.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t);process.exit(1)};Command.prototype.optionMissingArgument=function(t,e){if(e){console.error("error: option `%s' argument missing, got `%s'",t.flags,e)}else{console.error("error: option `%s' argument missing",t.flags)}process.exit(1)};Command.prototype.unknownOption=function(t){if(this._allowUnknownOption)return;console.error("error: unknown option `%s'",t);process.exit(1)};Command.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t);process.exit(1)};Command.prototype.version=function(t,e){if(arguments.length===0)return this._version;this._version=t;e=e||"-V, --version";var r=new Option(e,"output the version number");this._versionOptionName=r.long.substr(2)||"version";this.options.push(r);this.on("option:"+this._versionOptionName,function(){process.stdout.write(t+"\n");process.exit(0)});return this};Command.prototype.description=function(t,e){if(arguments.length===0)return this._description;this._description=t;this._argsDescription=e;return this};Command.prototype.alias=function(t){var e=this;if(this.commands.length!==0){e=this.commands[this.commands.length-1]}if(arguments.length===0)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");e._alias=t;return this};Command.prototype.usage=function(t){var e=this._args.map(function(t){return humanReadableArgName(t)});var r="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");if(arguments.length===0)return this._usage||r;this._usage=t;return this};Command.prototype.name=function(t){if(arguments.length===0)return this._name;this._name=t;return this};Command.prototype.prepareCommands=function(){return this.commands.filter(function(t){return!t._noHelp}).map(function(t){var e=t._args.map(function(t){return humanReadableArgName(t)}).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]})};Command.prototype.largestCommandLength=function(){var t=this.prepareCommands();return t.reduce(function(t,e){return Math.max(t,e[0].length)},0)};Command.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);t.push({flags:"-h, --help"});return t.reduce(function(t,e){return Math.max(t,e.flags.length)},0)};Command.prototype.largestArgLength=function(){return this._args.reduce(function(t,e){return Math.max(t,e.name.length)},0)};Command.prototype.padWidth=function(){var t=this.largestOptionLength();if(this._argsDescription&&this._args.length){if(this.largestArgLength()>t){t=this.largestArgLength()}}if(this.commands&&this.commands.length){if(this.largestCommandLength()>t){t=this.largestCommandLength()}}return t};Command.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map(function(e){return pad(e.flags,t)+"  "+e.description+(e.bool&&e.defaultValue!==undefined?" (default: "+JSON.stringify(e.defaultValue)+")":"")}).concat([pad("-h, --help",t)+"  "+"output usage information"]).join("\n")};Command.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands();var e=this.padWidth();return["Commands:",t.map(function(t){var r=t[1]?"  "+t[1]:"";return(r?pad(t[0],e):t[0])+r}).join("\n").replace(/^/gm,"  "),""].join("\n")};Command.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var r=this.padWidth();t.push("Arguments:");t.push("");this._args.forEach(function(n){t.push("  "+pad(n.name,r)+"  "+e[n.name])});t.push("")}}var n=this._name;if(this._alias){n=n+"|"+this._alias}var i=["Usage: "+n+" "+this.usage(),""];var s=[];var o=this.commandHelp();if(o)s=[o];var a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return i.concat(t).concat(a).concat(s).join("\n")};Command.prototype.outputHelp=function(t){if(!t){t=function(t){return t}}process.stdout.write(t(this.helpInformation()));this.emit("--help")};Command.prototype.help=function(t){this.outputHelp(t);process.exit()};function camelcase(t){return t.split("-").reduce(function(t,e){return t+e[0].toUpperCase()+e.slice(1)})}function pad(t,e){var r=Math.max(0,e-t.length);return t+Array(r+1).join(" ")}function outputHelpIfNecessary(t,e){e=e||[];for(var r=0;r<e.length;r++){if(e[r]==="--help"||e[r]==="-h"){t.outputHelp();process.exit(0)}}}function humanReadableArgName(t){var e=t.name+(t.variadic===true?"...":"");return t.required?"<"+e+">":"["+e+"]"}function exists(t){try{if(u.statSync(t).isFile()){return true}}catch(t){return false}}},208:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;Object.defineProperty(t,n,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r))n(e,t,r);i(e,t);return e};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.getConfigPath=e.getProjectIdAsync=e.getAsync=e.openAsync=e.getAdbOutputAsync=e.removeAsync=e.addAsync=e.isAvailable=void 0;const a=r(8688);const u=s(r(3178));const c=r(6537);const l=o(r(1190));const h=o(r(8746));const f=r(5747);const d=o(r(5622));const p=r(3329);const m="Activity not started, unable to resolve Intent";const y="error: ";function isAvailable(t){return f.existsSync(d.default.join(t,"android/app/src/main/AndroidManifest.xml"))||f.existsSync(d.default.join(t,"app/src/main/AndroidManifest.xml"))}e.isAvailable=isAvailable;async function addAsync({dryRun:t,uri:e,manifestPath:r,projectRoot:n}){const i=r!==null&&r!==void 0?r:getConfigPath(n);let s=await readConfigAsync(i);if(!u.ensureManifestHasValidIntentFilter(s)){throw new p.CommandError(`Cannot add scheme "${e}" because the provided manifest does not have a valid Activity with \`android:launchMode="singleTask"\`.\nThis guide can help you get setup properly https://expo.fyi/setup-android-uri-scheme`,"add")}if(u.hasScheme(e,s)){console.log(h.default.yellow(`› Android: URI scheme "${e}" already exists in AndroidManifest.xml at: ${i}`));return false}s=u.appendScheme(e,s);if(t){console.log(h.default.magenta("Write manifest to: ",i));console.log(c.format(s));return false}await writeConfigAsync(i,s);return true}e.addAsync=addAsync;async function removeAsync({dryRun:t,uri:e,manifestPath:r,projectRoot:n}){const i=r!==null&&r!==void 0?r:getConfigPath(n);let s=await readConfigAsync(i);if(!u.ensureManifestHasValidIntentFilter(s)){throw new p.CommandError(`Cannot remove scheme "${e}" because the provided manifest does not have a valid Activity with \`android:launchMode="singleTask"\`.\nThis guide can help you get setup properly https://expo.fyi/setup-android-uri-scheme`,"remove")}if(!u.hasScheme(e,s)){console.log(h.default.yellow(`› Android: URI scheme "${e}" does not exist in AndroidManifest.xml at: ${i}`));return false}s=u.removeScheme(e,s);if(t){console.log(h.default.magenta("Write manifest to: ",i));console.log(c.format(s));return false}await writeConfigAsync(i,s);return true}e.removeAsync=removeAsync;function whichADB(){if(process.env.ANDROID_HOME){return`${process.env.ANDROID_HOME}/platform-tools/adb`}return"adb"}async function getAdbOutputAsync(t){const e=whichADB();try{const r=await l.default(e,t);return r.stdout}catch(t){const e=t.stderr||t.stdout||"";let r=e.trim();if(r.startsWith(y)){r=r.substring(y.length)}throw new p.CommandError(r)}}e.getAdbOutputAsync=getAdbOutputAsync;async function openUrlAsync(...t){const e=await getAdbOutputAsync(["shell","am","start","-a","android.intent.action.VIEW","-d",...t.filter(Boolean)]);if(e.includes(m)){throw new p.CommandError(e.substring(e.indexOf("Error: ")))}return e}async function openAsync({uri:t,androidPackage:e}){return await openUrlAsync(t,e!==null&&e!==void 0?e:null)}e.openAsync=openAsync;async function getAsync({projectRoot:t,manifestPath:e}){const r=await readConfigAsync(e!==null&&e!==void 0?e:getConfigPath(t));return await u.getSchemesFromManifest(r)}e.getAsync=getAsync;function getPackage(t){var e,r,n;return(n=(r=(e=t.manifest)===null||e===void 0?void 0:e.$)===null||r===void 0?void 0:r.package)!==null&&n!==void 0?n:null}async function getProjectIdAsync({projectRoot:t,manifestPath:e}){const r=e!==null&&e!==void 0?e:getConfigPath(t);const n=await readConfigAsync(r);const i=getPackage(n);if(!i)throw new p.CommandError(`Android: Failed to resolve android package for Manifest at path: ${r}`);return i}e.getProjectIdAsync=getProjectIdAsync;function getConfigPath(t){const e=["android/app/src/main/AndroidManifest.xml","app/src/main/AndroidManifest.xml"].map(e=>d.default.join(t,e));for(const t of e){if(f.existsSync(t)){return t}}throw new Error(`Could not find AndroidManifest.xml, looked in: ${e.join(", ")}`)}e.getConfigPath=getConfigPath;async function readConfigAsync(t){return await a.readAndroidManifestAsync(t)}async function writeConfigAsync(t,e){await a.writeAndroidManifestAsync(t,e)}},5585:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;Object.defineProperty(t,n,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r))n(e,t,r);i(e,t);return e};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.run=e.program=void 0;const a=o(r(8746));const u=r(8138);const c=r(5622);const l=s(r(208));const h=s(r(2194));const f=r(3329);const d=s(r(8522));const p=o(r(2586));const m=()=>r(306);e.program=new u.Command(m().name).version(m().version);function buildCommand(t,r=[]){return e.program.command(`${t} [uri-protocol]`).option("-a, --android","Apply action to Android").option("-i, --ios","Apply action to iOS ").on("--help",()=>{if(!r.length)return;console.log();console.log("Examples:");console.log();for(const e of r){console.log(`  $ uri-scheme ${t} ${e}`)}console.log()})}buildCommand("add",["com.app","myapp"]).description("Add URI schemes to a native app").option("-n, --name <string>","Name to use on iOS.").option("-r, --role <string>","Role to use on iOS: Editor, Viewer").option("--manifest-path <string>","Custom path to use for an Android project's AndroidManifest.xml").option("--info-path <string>","Custom path to use for an iOS project's Info.plist").option("--dry-run","View the proposed change").action(async(t,e)=>{try{const r=await parseArgsAsync(t,e);await d.addAsync(r);p.default()}catch(t){commandDidThrowAsync(t)}});buildCommand("remove",["com.app","myapp"]).description("Remove URI schemes from a native app").option("--manifest-path <string>","Custom path to use for an Android project's AndroidManifest.xml").option("--info-path <string>","Custom path to use for an iOS project's Info.plist").option("--dry-run","View the proposed change").action(async(t,e)=>{try{const r=await parseArgsAsync(t,e);await d.removeAsync(r);p.default()}catch(t){commandDidThrowAsync(t)}});buildCommand("open",["com.app://oauth","http://expo.dev"]).description("Open a URI scheme in a running simulator or emulator").option("--package <string>","The Android package name to use when opening in an emulator").action(async(t,e)=>{try{if(!e.ios&&!e.android){throw new f.CommandError("Please provide a target platform with --ios or --android")}await d.openAsync({projectRoot:process.cwd(),...e,androidPackage:e["package"],uri:t});p.default()}catch(t){commandDidThrowAsync(t)}});buildCommand("list").description("List the existing URI scheme prefixes for a native app").option("--manifest-path <string>","Custom path to use for an Android project's AndroidManifest.xml").option("--info-path <string>","Custom path to use for an iOS project's Info.plist").action(async(t,e)=>{try{const r=await parseArgsAsync(t,e);await d.listAsync(r);p.default()}catch(t){commandDidThrowAsync(t)}});async function parseArgsAsync(t,e){const r=c.resolve(process.cwd());e.projectRoot=r;if(e.manifestPath)e.manifestPath=c.resolve(e.manifestPath);if(e.infoPath)e.infoPath=c.resolve(e.infoPath);const n=d.getAvailablePlatforms(e);let i=false;if(!e.android&&!e.ios){i=true;for(const t of n){e[t]=true}}else{if(e.android){if(!n.includes("android")){throw new f.CommandError(`Android project not found in directory "${r}".\nYou can manually select an AndroidManifest.xml with \`--manifest-path\``)}}if(e.ios){if(!n.includes("ios")){throw new f.CommandError(`iOS project not found in directory "${r}".\nYou can manually select an Info.plist with \`--info-path\``)}}}if(e.android&&!e.manifestPath){try{e.manifestPath=l.getConfigPath(r)}catch(t){if(i){delete e.android}else{throw t}}}if(e.ios&&!e.infoPath){try{e.infoPath=h.getConfigPath(r)}catch(t){if(i){delete e.ios}else{throw t}}}e.uri=t;return e}function run(){e.program.parse(process.argv)}e.run=run;async function commandDidThrowAsync(t){console.log();if(t.command){console.log(a.default.red(`› ${a.default.bold(`npx ${m().name} ${t.command}`)} has failed.`));console.log()}if(t.origin==="uri-scheme"){console.log(a.default.black.bgRed(t.message))}else{console.log("Aborting run");console.log(a.default.black.bgRed`An unexpected error was encountered. Please report it as a bug:`);console.log(t)}console.log();await p.default();process.exit(1)}},2194:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;Object.defineProperty(t,n,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r))n(e,t,r);i(e,t);return e};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.getConfigPath=e.getAsync=e.openAsync=e.removeAsync=e.addAsync=e.isAvailable=void 0;const a=s(r(3005));const u=o(r(2316));const c=o(r(1190));const l=o(r(8746));const h=o(r(5747));const f=r(3700);const d=s(r(5622));const p=r(3329);const m=["**/@(Carthage|Pods|vendor|node_modules)/**"];function isAvailable(t){const e=f.sync("ios/*.xcodeproj",{ignore:m,absolute:true,cwd:t});const r=f.sync("*.xcodeproj",{ignore:m,absolute:true,cwd:t});return!!r.length||!!e.length}e.isAvailable=isAvailable;async function addAsync({uri:t,infoPath:e,projectRoot:r,dryRun:n}){const i=e!==null&&e!==void 0?e:getConfigPath(r);let s=readConfig(i);if(a.hasScheme(t,s)){console.log(l.default.yellow(`› iOS: URI scheme "${t}" already exists in Info.plist at: ${i}`));return false}s=a.appendScheme(t,s);if(n){console.log(l.default.magenta("Write plist to: ",i));console.log(formatConfig(s));return false}writeConfig(i,s);return true}e.addAsync=addAsync;async function removeAsync({uri:t,infoPath:e,projectRoot:r,dryRun:n}){const i=e!==null&&e!==void 0?e:getConfigPath(r);let s=readConfig(i);if(!a.hasScheme(t,s)){console.log(l.default.yellow(`› iOS: URI scheme "${t}" does not exist in Info.plist at: ${i}`));return false}s=a.removeScheme(t,s);if(n){console.log(l.default.magenta("Write plist to: ",i));console.log(formatConfig(s));return false}writeConfig(i,s);return true}e.removeAsync=removeAsync;async function openAsync({uri:t}){await c.default("xcrun",["simctl","openurl","booted",t],{stdio:"inherit"})}e.openAsync=openAsync;async function getAsync({projectRoot:t,infoPath:e}){const r=e!==null&&e!==void 0?e:getConfigPath(t);const n=h.default.readFileSync(r,"utf8");const i=u.default.parse(n);const s=a.getSchemesFromPlist(i);return s}e.getAsync=getAsync;function getInfoPlistsInDirectory(t){return f.sync("*/Info.plist",{ignore:m,absolute:true,cwd:t}).sort((t,e)=>t.length-e.length)}function getConfigPath(t){const e=getInfoPlistsInDirectory(d.join(t,"ios"));if(e.length){return e[0]}const r=getInfoPlistsInDirectory(t);if(!r.length){throw new p.CommandError(`iOS: No Info.plist found for project at root: ${t}`)}return r[0]}e.getConfigPath=getConfigPath;function readConfig(t){const e=h.default.readFileSync(t,"utf8");return{...u.default.parse(e)}}function formatConfig(t){const e={pretty:true,indent:`\t`};const r=u.default.build(t,e);return r}function writeConfig(t,e){h.default.writeFileSync(t,formatConfig(e))}},3329:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.CommandError=void 0;class CommandError extends Error{constructor(t,e){super(t);this.command=e;this.origin="uri-scheme"}}e.CommandError=CommandError},8522:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;Object.defineProperty(t,n,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r))n(e,t,r);i(e,t);return e};var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});e.listAsync=e.openAsync=e.removeAsync=e.addAsync=e.getAvailablePlatforms=void 0;const a=o(r(8746));const u=r(5747);const c=r(5622);const l=o(r(1112));const h=s(r(208));const f=s(r(2194));const d=r(3329);function fileExists(t){try{return u.statSync(t).isFile()}catch{return false}}function getAvailablePlatforms(t){const e=[];if(t.infoPath){if(!fileExists(t.infoPath)){throw new d.CommandError(`Custom Info.plist does not exist at path "${t.infoPath}"`)}e.push("ios")}else if(f.isAvailable(t.projectRoot)){e.push("ios")}if(t.manifestPath){if(!fileExists(t.manifestPath)){throw new d.CommandError(`Custom AndroidManifest.xml does not exist at path "${t.manifestPath}"`)}e.push("android")}else if(h.isAvailable(t.projectRoot)){e.push("android")}return e}e.getAvailablePlatforms=getAvailablePlatforms;function ensureUriString(t){if(!t){throw new d.CommandError("Please supply a URI protocol")}if(typeof t!=="string"){throw new d.CommandError(`URI protocol should be of type string. Instead got: ${typeof t}`)}return t.trim()}async function normalizeUriProtocolAsync(t){const e=ensureUriString(t);const[r]=e.split(":");const n=r.toLowerCase();if(n!==t){if(n){console.log(a.default.yellow(`› Supplied URI protocol "${e}" does not match normalized scheme "${n}".`));const{answer:t}=await l.default({type:"confirm",name:"answer",message:`Would you like to use "${n}" instead?`,initial:true});if(t)return n}else{throw new d.CommandError(`Supplied URI protocol "${e}" does not appear to be spec compliant: http://www.ietf.org/rfc/rfc2396.txt`)}}return e}async function addAsync(t){t.uri=await normalizeUriProtocolAsync(t.uri);const e=[];let r=false;if(t.ios){if(await f.addAsync(t)){r=true;logPlatformMessage("iOS",`Added URI protocol "${t.uri}" to project`);e.push("ios")}}if(t.android){if(await h.addAsync(t)){r=true;logPlatformMessage("Android",`Added URI protocol "${t.uri}" to project`);e.push("android")}}if(!r){console.log(a.default.yellow("No URI schemes could be added. Please ensure there is a native project available."))}return e}e.addAsync=addAsync;async function removeAsync(t){t.uri=ensureUriString(t.uri);const e=[];let r=false;if(t.ios){if(await f.removeAsync(t)){r=true;logPlatformMessage("iOS",`Removed URI protocol "${t.uri}" from project`);e.push("ios")}}if(t.android){if(await h.removeAsync(t)){r=true;logPlatformMessage("Android",`Removed URI protocol "${t.uri}" from project`);e.push("android")}}if(!r){console.log(a.default.yellow("No URI schemes could be removed. Please ensure there is a native project available."))}return e}e.removeAsync=removeAsync;async function openAsync(t){t.uri=ensureUriString(t.uri);if(t.ios){logPlatformMessage("iOS",`Opening URI "${t.uri}" in simulator`);await f.openAsync(t)}if(t.android){logPlatformMessage("Android",`Opening URI "${t.uri}" in emulator`);await h.openAsync(t)}}e.openAsync=openAsync;async function listAsync(t){let e=false;if(t.infoPath){e=true;const r=await f.getAsync(t);logPlatformMessage("iOS",`Schemes for config: ./${c.relative(t.projectRoot,t.infoPath)}`);logSchemes(r)}if(t.manifestPath){e=true;const r=await h.getAsync(t);logPlatformMessage("Android",`Schemes for config: ./${c.relative(t.projectRoot,t.manifestPath)}`);logSchemes(r)}if(!e){console.log(a.default.yellow("Could not find any native URI schemes to list."))}}e.listAsync=listAsync;function logPlatformMessage(t,e){console.log(a.default.magenta(`› ${a.default.bold(t)}: ${e}`))}function logSchemes(t){for(const e of t)console.log(`${a.default.dim("› ")}${e}${a.default.dim("://")}`);console.log("")}},2855:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;Object.defineProperty(t,n,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(r!=="default"&&Object.prototype.hasOwnProperty.call(t,r))n(e,t,r);i(e,t);return e};Object.defineProperty(e,"__esModule",{value:true});e.URIScheme=e.Android=e.Ios=e.program=void 0;const o=s(r(208));e.Android=o;const a=s(r(2194));e.Ios=a;const u=s(r(8522));e.URIScheme=u;var c=r(5585);Object.defineProperty(e,"program",{enumerable:true,get:function(){return c.program}})},2586:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:true});const i=n(r(8746));const s=n(r(5418));async function shouldUpdate(){const t=()=>r(306);const e=s.default(t()).catch(()=>null);try{const r=await e;if(r&&r.latest){const e=t();console.log();console.log(i.default.yellow.bold(`A new version of \`${e.name}\` is available`));console.log("You can update by running: "+i.default.cyan(`npm i -g ${e.name}`));console.log()}}catch{}}e.default=shouldUpdate},306:t=>{"use strict";t.exports=JSON.parse('{"name":"uri-scheme","version":"1.0.114","main":"build","preferGlobal":true,"keywords":["expo","ios","uri-scheme","android"],"description":"Interact with native URI schemes","repository":{"type":"git","url":"https://github.com/expo/expo-cli.git","directory":"packages/uri-scheme"},"author":"Expo <support@expo.dev>","license":"MIT","bin":{"uri-scheme":"./cli.js"},"files":["build","cli.js"],"scripts":{"prepare":"yarn run clean && yarn run build:prod","lint":"eslint .","watch":"yarn run build -w","test":"jest","build":"ncc build ./src/index.ts -o build/","build:prod":"ncc build ./src/index.ts -o build/ --minify --no-cache --no-source-map-register","clean":"rimraf ./build/"},"devDependencies":{"@expo/config-plugins":"4.0.18","@expo/plist":"0.0.17","@expo/spawn-async":"1.5.0","@types/prompts":"^2.0.6","chalk":"^4.0.0","commander":"2.20.0","glob":"7.1.6","prompts":"^2.3.2","update-check":"1.5.3"}}')},2357:t=>{"use strict";t.exports=require("assert")},4293:t=>{"use strict";t.exports=require("buffer")},3129:t=>{"use strict";t.exports=require("child_process")},7619:t=>{"use strict";t.exports=require("constants")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},8605:t=>{"use strict";t.exports=require("http")},7211:t=>{"use strict";t.exports=require("https")},2087:t=>{"use strict";t.exports=require("os")},5622:t=>{"use strict";t.exports=require("path")},1058:t=>{"use strict";t.exports=require("readline")},2413:t=>{"use strict";t.exports=require("stream")},4304:t=>{"use strict";t.exports=require("string_decoder")},8213:t=>{"use strict";t.exports=require("timers")},3867:t=>{"use strict";t.exports=require("tty")},8835:t=>{"use strict";t.exports=require("url")},1669:t=>{"use strict";t.exports=require("util")}};var e={};function __nccwpck_require__(r){if(e[r]){return e[r].exports}var n=e[r]={id:r,loaded:false,exports:{}};var i=true;try{t[r].call(n.exports,n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete e[r]}n.loaded=true;return n.exports}(()=>{__nccwpck_require__.nmd=(t=>{t.paths=[];if(!t.children)t.children=[];return t})})();__nccwpck_require__.ab=__dirname+"/";return __nccwpck_require__(2855)})();